import { l, k, c, b, d, e, f, g } from './chunk-DCAKKOYV.js';

var m=class{_dotLottie;_animationsMap=new Map;_themeMap=new Map;_stateMachinesMap=new Map;_manifest;get dotLottie(){return this._dotLottie}get animationsMap(){return this._animationsMap}get themeMap(){return this._themeMap}get stateMachinesMap(){return this._stateMachinesMap}get manifest(){return this._manifest}async loadFromUrl(i){let t=await fetch(i,{method:"GET",mode:"cors"});if(!t.ok)throw new Error(`Failed to load dotLottie from ${i} with status ${t.status}`);let a=t.headers.get("content-type");if(a!=null&&a.includes("application/json")){let e=await t.json();if(!l(e))throw new Error(`Invalid lottie JSON at ${i}`);let n=k(i);this._animationsMap.set(n,e);let p={activeAnimationId:n,animations:[{id:n}]};this._manifest=p;}else {this._dotLottie=await c(await t.arrayBuffer());let e=await b(this._dotLottie);if(!e)throw new Error("Manifest not found");this._manifest=e;}}loadFromLottieJSON(i){if(!l(i))throw new Error("Invalid lottie JSON");let t="my-animation";this._animationsMap.set(t,i);let a={activeAnimationId:t,animations:[{id:t}]};this._manifest=a;}async loadFromArrayBuffer(i){this._dotLottie=await c(i);let t=await b(this._dotLottie);if(!t)throw new Error("Manifest not found");this._manifest=t;}async getAnimation(i){if(this._animationsMap.get(i))return this._animationsMap.get(i);if(!this._dotLottie)return;let t=await d(this._dotLottie,i,{inlineAssets:!0});return t&&this._animationsMap.set(i,t),t}async getTheme(i){if(this._themeMap.get(i))return this._themeMap.get(i);if(!this._dotLottie)return;let t=await e(this._dotLottie,i);return t&&this._themeMap.set(i,t),t}async getStateMachines(){if(!this._dotLottie)return;let i=await f(this._dotLottie);for(let t in i)if(t){let a=i[t];if(a){let e=JSON.parse(a);if(e){let n=e.descriptor.id;this._stateMachinesMap.get(n)||this._stateMachinesMap.set(n,e);}}}return Array.from(this._stateMachinesMap.values())}async getStateMachine(i){if(this._stateMachinesMap.get(i))return this._stateMachinesMap.get(i);if(!this._dotLottie)return;let t=await g(this._dotLottie,i);return t&&this._stateMachinesMap.set(t.descriptor.id,t),t}};

export { m as a };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=chunk-74T7T5LL.js.map