{"version":3,"file":"lottie-react.esm.js","sources":["../node_modules/tslib/tslib.es6.js","../node_modules/lottie-web/build/player/lottie.js","../src/versions.ts","../src/Player.tsx","../node_modules/style-inject/dist/style-inject.es.js","../src/ColorPicker.tsx","../src/Popover.tsx","../src/Seeker.tsx","../src/Controls.tsx"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","(typeof navigator !== \"undefined\") && (function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.lottie = factory());\n})(this, (function () { 'use strict';\n\n  var svgNS = 'http://www.w3.org/2000/svg';\n  var locationHref = '';\n  var _useWebWorker = false;\n  var initialDefaultFrame = -999999;\n\n  var setWebWorker = function setWebWorker(flag) {\n    _useWebWorker = !!flag;\n  };\n\n  var getWebWorker = function getWebWorker() {\n    return _useWebWorker;\n  };\n\n  var setLocationHref = function setLocationHref(value) {\n    locationHref = value;\n  };\n\n  var getLocationHref = function getLocationHref() {\n    return locationHref;\n  };\n\n  function createTag(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElement(type);\n  }\n\n  function extendPrototype(sources, destination) {\n    var i;\n    var len = sources.length;\n    var sourcePrototype;\n\n    for (i = 0; i < len; i += 1) {\n      sourcePrototype = sources[i].prototype;\n\n      for (var attr in sourcePrototype) {\n        if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\n      }\n    }\n  }\n\n  function getDescriptor(object, prop) {\n    return Object.getOwnPropertyDescriptor(object, prop);\n  }\n\n  function createProxyFunction(prototype) {\n    function ProxyFunction() {}\n\n    ProxyFunction.prototype = prototype;\n    return ProxyFunction;\n  }\n\n  // import Howl from '../../3rd_party/howler';\n  var audioControllerFactory = function () {\n    function AudioController(audioFactory) {\n      this.audios = [];\n      this.audioFactory = audioFactory;\n      this._volume = 1;\n      this._isMuted = false;\n    }\n\n    AudioController.prototype = {\n      addAudio: function addAudio(audio) {\n        this.audios.push(audio);\n      },\n      pause: function pause() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].pause();\n        }\n      },\n      resume: function resume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].resume();\n        }\n      },\n      setRate: function setRate(rateValue) {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].setRate(rateValue);\n        }\n      },\n      createAudio: function createAudio(assetPath) {\n        if (this.audioFactory) {\n          return this.audioFactory(assetPath);\n        }\n\n        if (window.Howl) {\n          return new window.Howl({\n            src: [assetPath]\n          });\n        }\n\n        return {\n          isPlaying: false,\n          play: function play() {\n            this.isPlaying = true;\n          },\n          seek: function seek() {\n            this.isPlaying = false;\n          },\n          playing: function playing() {},\n          rate: function rate() {},\n          setVolume: function setVolume() {}\n        };\n      },\n      setAudioFactory: function setAudioFactory(audioFactory) {\n        this.audioFactory = audioFactory;\n      },\n      setVolume: function setVolume(value) {\n        this._volume = value;\n\n        this._updateVolume();\n      },\n      mute: function mute() {\n        this._isMuted = true;\n\n        this._updateVolume();\n      },\n      unmute: function unmute() {\n        this._isMuted = false;\n\n        this._updateVolume();\n      },\n      getVolume: function getVolume() {\n        return this._volume;\n      },\n      _updateVolume: function _updateVolume() {\n        var i;\n        var len = this.audios.length;\n\n        for (i = 0; i < len; i += 1) {\n          this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\n        }\n      }\n    };\n    return function () {\n      return new AudioController();\n    };\n  }();\n\n  var createTypedArray = function () {\n    function createRegularArray(type, len) {\n      var i = 0;\n      var arr = [];\n      var value;\n\n      switch (type) {\n        case 'int16':\n        case 'uint8c':\n          value = 1;\n          break;\n\n        default:\n          value = 1.1;\n          break;\n      }\n\n      for (i = 0; i < len; i += 1) {\n        arr.push(value);\n      }\n\n      return arr;\n    }\n\n    function createTypedArrayFactory(type, len) {\n      if (type === 'float32') {\n        return new Float32Array(len);\n      }\n\n      if (type === 'int16') {\n        return new Int16Array(len);\n      }\n\n      if (type === 'uint8c') {\n        return new Uint8ClampedArray(len);\n      }\n\n      return createRegularArray(type, len);\n    }\n\n    if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\n      return createTypedArrayFactory;\n    }\n\n    return createRegularArray;\n  }();\n\n  function createSizedArray(len) {\n    return Array.apply(null, {\n      length: len\n    });\n  }\n\n  function _typeof$6(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$6 = function _typeof(obj) { return typeof obj; }; } else { _typeof$6 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$6(obj); }\n  var subframeEnabled = true;\n  var expressionsPlugin = null;\n  var expressionsInterfaces = null;\n  var idPrefix$1 = '';\n  var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\n  var _shouldRoundValues = false;\n  var bmPow = Math.pow;\n  var bmSqrt = Math.sqrt;\n  var bmFloor = Math.floor;\n  var bmMax = Math.max;\n  var bmMin = Math.min;\n  var BMMath = {};\n\n  (function () {\n    var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\n    var i;\n    var len = propertyNames.length;\n\n    for (i = 0; i < len; i += 1) {\n      BMMath[propertyNames[i]] = Math[propertyNames[i]];\n    }\n  })();\n\n  function ProjectInterface$1() {\n    return {};\n  }\n\n  BMMath.random = Math.random;\n\n  BMMath.abs = function (val) {\n    var tOfVal = _typeof$6(val);\n\n    if (tOfVal === 'object' && val.length) {\n      var absArr = createSizedArray(val.length);\n      var i;\n      var len = val.length;\n\n      for (i = 0; i < len; i += 1) {\n        absArr[i] = Math.abs(val[i]);\n      }\n\n      return absArr;\n    }\n\n    return Math.abs(val);\n  };\n\n  var defaultCurveSegments = 150;\n  var degToRads = Math.PI / 180;\n  var roundCorner = 0.5519;\n\n  function roundValues(flag) {\n    _shouldRoundValues = !!flag;\n  }\n\n  function bmRnd(value) {\n    if (_shouldRoundValues) {\n      return Math.round(value);\n    }\n\n    return value;\n  }\n\n  function styleDiv(element) {\n    element.style.position = 'absolute';\n    element.style.top = 0;\n    element.style.left = 0;\n    element.style.display = 'block';\n    element.style.transformOrigin = '0 0';\n    element.style.webkitTransformOrigin = '0 0';\n    element.style.backfaceVisibility = 'visible';\n    element.style.webkitBackfaceVisibility = 'visible';\n    element.style.transformStyle = 'preserve-3d';\n    element.style.webkitTransformStyle = 'preserve-3d';\n    element.style.mozTransformStyle = 'preserve-3d';\n  }\n\n  function BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\n    this.type = type;\n    this.currentTime = currentTime;\n    this.totalTime = totalTime;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteEvent(type, frameMultiplier) {\n    this.type = type;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\n    this.type = type;\n    this.currentLoop = currentLoop;\n    this.totalLoops = totalLoops;\n    this.direction = frameMultiplier < 0 ? -1 : 1;\n  }\n\n  function BMSegmentStartEvent(type, firstFrame, totalFrames) {\n    this.type = type;\n    this.firstFrame = firstFrame;\n    this.totalFrames = totalFrames;\n  }\n\n  function BMDestroyEvent(type, target) {\n    this.type = type;\n    this.target = target;\n  }\n\n  function BMRenderFrameErrorEvent(nativeError, currentTime) {\n    this.type = 'renderFrameError';\n    this.nativeError = nativeError;\n    this.currentTime = currentTime;\n  }\n\n  function BMConfigErrorEvent(nativeError) {\n    this.type = 'configError';\n    this.nativeError = nativeError;\n  }\n\n  function BMAnimationConfigErrorEvent(type, nativeError) {\n    this.type = type;\n    this.nativeError = nativeError;\n  }\n\n  var createElementID = function () {\n    var _count = 0;\n    return function createID() {\n      _count += 1;\n      return idPrefix$1 + '__lottie_element_' + _count;\n    };\n  }();\n\n  function HSVtoRGB(h, s, v) {\n    var r;\n    var g;\n    var b;\n    var i;\n    var f;\n    var p;\n    var q;\n    var t;\n    i = Math.floor(h * 6);\n    f = h * 6 - i;\n    p = v * (1 - s);\n    q = v * (1 - f * s);\n    t = v * (1 - (1 - f) * s);\n\n    switch (i % 6) {\n      case 0:\n        r = v;\n        g = t;\n        b = p;\n        break;\n\n      case 1:\n        r = q;\n        g = v;\n        b = p;\n        break;\n\n      case 2:\n        r = p;\n        g = v;\n        b = t;\n        break;\n\n      case 3:\n        r = p;\n        g = q;\n        b = v;\n        break;\n\n      case 4:\n        r = t;\n        g = p;\n        b = v;\n        break;\n\n      case 5:\n        r = v;\n        g = p;\n        b = q;\n        break;\n\n      default:\n        break;\n    }\n\n    return [r, g, b];\n  }\n\n  function RGBtoHSV(r, g, b) {\n    var max = Math.max(r, g, b);\n    var min = Math.min(r, g, b);\n    var d = max - min;\n    var h;\n    var s = max === 0 ? 0 : d / max;\n    var v = max / 255;\n\n    switch (max) {\n      case min:\n        h = 0;\n        break;\n\n      case r:\n        h = g - b + d * (g < b ? 6 : 0);\n        h /= 6 * d;\n        break;\n\n      case g:\n        h = b - r + d * 2;\n        h /= 6 * d;\n        break;\n\n      case b:\n        h = r - g + d * 4;\n        h /= 6 * d;\n        break;\n\n      default:\n        break;\n    }\n\n    return [h, s, v];\n  }\n\n  function addSaturationToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[1] += offset;\n\n    if (hsv[1] > 1) {\n      hsv[1] = 1;\n    } else if (hsv[1] <= 0) {\n      hsv[1] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addBrightnessToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[2] += offset;\n\n    if (hsv[2] > 1) {\n      hsv[2] = 1;\n    } else if (hsv[2] < 0) {\n      hsv[2] = 0;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  function addHueToRGB(color, offset) {\n    var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\n    hsv[0] += offset / 360;\n\n    if (hsv[0] > 1) {\n      hsv[0] -= 1;\n    } else if (hsv[0] < 0) {\n      hsv[0] += 1;\n    }\n\n    return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\n  }\n\n  var rgbToHex = function () {\n    var colorMap = [];\n    var i;\n    var hex;\n\n    for (i = 0; i < 256; i += 1) {\n      hex = i.toString(16);\n      colorMap[i] = hex.length === 1 ? '0' + hex : hex;\n    }\n\n    return function (r, g, b) {\n      if (r < 0) {\n        r = 0;\n      }\n\n      if (g < 0) {\n        g = 0;\n      }\n\n      if (b < 0) {\n        b = 0;\n      }\n\n      return '#' + colorMap[r] + colorMap[g] + colorMap[b];\n    };\n  }();\n\n  var setSubframeEnabled = function setSubframeEnabled(flag) {\n    subframeEnabled = !!flag;\n  };\n\n  var getSubframeEnabled = function getSubframeEnabled() {\n    return subframeEnabled;\n  };\n\n  var setExpressionsPlugin = function setExpressionsPlugin(value) {\n    expressionsPlugin = value;\n  };\n\n  var getExpressionsPlugin = function getExpressionsPlugin() {\n    return expressionsPlugin;\n  };\n\n  var setExpressionInterfaces = function setExpressionInterfaces(value) {\n    expressionsInterfaces = value;\n  };\n\n  var getExpressionInterfaces = function getExpressionInterfaces() {\n    return expressionsInterfaces;\n  };\n\n  var setDefaultCurveSegments = function setDefaultCurveSegments(value) {\n    defaultCurveSegments = value;\n  };\n\n  var getDefaultCurveSegments = function getDefaultCurveSegments() {\n    return defaultCurveSegments;\n  };\n\n  var setIdPrefix = function setIdPrefix(value) {\n    idPrefix$1 = value;\n  };\n\n  var getIdPrefix = function getIdPrefix() {\n    return idPrefix$1;\n  };\n\n  function createNS(type) {\n    // return {appendChild:function(){},setAttribute:function(){},style:{}}\n    return document.createElementNS(svgNS, type);\n  }\n\n  function _typeof$5(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$5 = function _typeof(obj) { return typeof obj; }; } else { _typeof$5 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$5(obj); }\n\n  var dataManager = function () {\n    var _counterId = 1;\n    var processes = [];\n    var workerFn;\n    var workerInstance;\n    var workerProxy = {\n      onmessage: function onmessage() {},\n      postMessage: function postMessage(path) {\n        workerFn({\n          data: path\n        });\n      }\n    };\n    var _workerSelf = {\n      postMessage: function postMessage(data) {\n        workerProxy.onmessage({\n          data: data\n        });\n      }\n    };\n\n    function createWorker(fn) {\n      if (window.Worker && window.Blob && getWebWorker()) {\n        var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], {\n          type: 'text/javascript'\n        }); // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\n\n        var url = URL.createObjectURL(blob);\n        return new Worker(url);\n      }\n\n      workerFn = fn;\n      return workerProxy;\n    }\n\n    function setupWorker() {\n      if (!workerInstance) {\n        workerInstance = createWorker(function workerStart(e) {\n          function dataFunctionManager() {\n            function completeLayers(layers, comps) {\n              var layerData;\n              var i;\n              var len = layers.length;\n              var j;\n              var jLen;\n              var k;\n              var kLen;\n\n              for (i = 0; i < len; i += 1) {\n                layerData = layers[i];\n\n                if ('ks' in layerData && !layerData.completed) {\n                  layerData.completed = true;\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        convertPathsToAbsoluteValues(maskProps[j].pt.k);\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 0) {\n                    layerData.layers = findCompLayers(layerData.refId, comps);\n                    completeLayers(layerData.layers, comps);\n                  } else if (layerData.ty === 4) {\n                    completeShapes(layerData.shapes);\n                  } else if (layerData.ty === 5) {\n                    completeText(layerData);\n                  }\n                }\n              }\n            }\n\n            function completeChars(chars, assets) {\n              if (chars) {\n                var i = 0;\n                var len = chars.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (chars[i].t === 1) {\n                    // var compData = findComp(chars[i].data.refId, assets);\n                    chars[i].data.layers = findCompLayers(chars[i].data.refId, assets); // chars[i].data.ip = 0;\n                    // chars[i].data.op = 99999;\n                    // chars[i].data.st = 0;\n                    // chars[i].data.sr = 1;\n                    // chars[i].w = compData.w;\n                    // chars[i].data.ks = {\n                    //   a: { k: [0, 0, 0], a: 0 },\n                    //   p: { k: [0, -compData.h, 0], a: 0 },\n                    //   r: { k: 0, a: 0 },\n                    //   s: { k: [100, 100], a: 0 },\n                    //   o: { k: 100, a: 0 },\n                    // };\n\n                    completeLayers(chars[i].data.layers, assets);\n                  }\n                }\n              }\n            }\n\n            function findComp(id, comps) {\n              var i = 0;\n              var len = comps.length;\n\n              while (i < len) {\n                if (comps[i].id === id) {\n                  return comps[i];\n                }\n\n                i += 1;\n              }\n\n              return null;\n            }\n\n            function findCompLayers(id, comps) {\n              var comp = findComp(id, comps);\n\n              if (comp) {\n                if (!comp.layers.__used) {\n                  comp.layers.__used = true;\n                  return comp.layers;\n                }\n\n                return JSON.parse(JSON.stringify(comp.layers));\n              }\n\n              return null;\n            }\n\n            function completeShapes(arr) {\n              var i;\n              var len = arr.length;\n              var j;\n              var jLen;\n\n              for (i = len - 1; i >= 0; i -= 1) {\n                if (arr[i].ty === 'sh') {\n                  if (arr[i].ks.k.i) {\n                    convertPathsToAbsoluteValues(arr[i].ks.k);\n                  } else {\n                    jLen = arr[i].ks.k.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (arr[i].ks.k[j].s) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\n                      }\n\n                      if (arr[i].ks.k[j].e) {\n                        convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\n                      }\n                    }\n                  }\n                } else if (arr[i].ty === 'gr') {\n                  completeShapes(arr[i].it);\n                }\n              }\n            }\n\n            function convertPathsToAbsoluteValues(path) {\n              var i;\n              var len = path.i.length;\n\n              for (i = 0; i < len; i += 1) {\n                path.i[i][0] += path.v[i][0];\n                path.i[i][1] += path.v[i][1];\n                path.o[i][0] += path.v[i][0];\n                path.o[i][1] += path.v[i][1];\n              }\n            }\n\n            function checkVersion(minimum, animVersionString) {\n              var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\n\n              if (minimum[0] > animVersion[0]) {\n                return true;\n              }\n\n              if (animVersion[0] > minimum[0]) {\n                return false;\n              }\n\n              if (minimum[1] > animVersion[1]) {\n                return true;\n              }\n\n              if (animVersion[1] > minimum[1]) {\n                return false;\n              }\n\n              if (minimum[2] > animVersion[2]) {\n                return true;\n              }\n\n              if (animVersion[2] > minimum[2]) {\n                return false;\n              }\n\n              return null;\n            }\n\n            var checkText = function () {\n              var minimumVersion = [4, 4, 14];\n\n              function updateTextLayer(textLayer) {\n                var documentData = textLayer.t.d;\n                textLayer.t.d = {\n                  k: [{\n                    s: documentData,\n                    t: 0\n                  }]\n                };\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkChars = function () {\n              var minimumVersion = [4, 7, 99];\n              return function (animationData) {\n                if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\n                  var i;\n                  var len = animationData.chars.length;\n\n                  for (i = 0; i < len; i += 1) {\n                    var charData = animationData.chars[i];\n\n                    if (charData.data && charData.data.shapes) {\n                      completeShapes(charData.data.shapes);\n                      charData.data.ip = 0;\n                      charData.data.op = 99999;\n                      charData.data.st = 0;\n                      charData.data.sr = 1;\n                      charData.data.ks = {\n                        p: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        s: {\n                          k: [100, 100],\n                          a: 0\n                        },\n                        a: {\n                          k: [0, 0],\n                          a: 0\n                        },\n                        r: {\n                          k: 0,\n                          a: 0\n                        },\n                        o: {\n                          k: 100,\n                          a: 0\n                        }\n                      };\n\n                      if (!animationData.chars[i].t) {\n                        charData.data.shapes.push({\n                          ty: 'no'\n                        });\n                        charData.data.shapes[0].it.push({\n                          p: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          s: {\n                            k: [100, 100],\n                            a: 0\n                          },\n                          a: {\n                            k: [0, 0],\n                            a: 0\n                          },\n                          r: {\n                            k: 0,\n                            a: 0\n                          },\n                          o: {\n                            k: 100,\n                            a: 0\n                          },\n                          sk: {\n                            k: 0,\n                            a: 0\n                          },\n                          sa: {\n                            k: 0,\n                            a: 0\n                          },\n                          ty: 'tr'\n                        });\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkPathProperties = function () {\n              var minimumVersion = [5, 7, 15];\n\n              function updateTextLayer(textLayer) {\n                var pathData = textLayer.t.p;\n\n                if (typeof pathData.a === 'number') {\n                  pathData.a = {\n                    a: 0,\n                    k: pathData.a\n                  };\n                }\n\n                if (typeof pathData.p === 'number') {\n                  pathData.p = {\n                    a: 0,\n                    k: pathData.p\n                  };\n                }\n\n                if (typeof pathData.r === 'number') {\n                  pathData.r = {\n                    a: 0,\n                    k: pathData.r\n                  };\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 5) {\n                    updateTextLayer(layers[i]);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkColors = function () {\n              var minimumVersion = [4, 1, 9];\n\n              function iterateShapes(shapes) {\n                var i;\n                var len = shapes.length;\n                var j;\n                var jLen;\n\n                for (i = 0; i < len; i += 1) {\n                  if (shapes[i].ty === 'gr') {\n                    iterateShapes(shapes[i].it);\n                  } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\n                    if (shapes[i].c.k && shapes[i].c.k[0].i) {\n                      jLen = shapes[i].c.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (shapes[i].c.k[j].s) {\n                          shapes[i].c.k[j].s[0] /= 255;\n                          shapes[i].c.k[j].s[1] /= 255;\n                          shapes[i].c.k[j].s[2] /= 255;\n                          shapes[i].c.k[j].s[3] /= 255;\n                        }\n\n                        if (shapes[i].c.k[j].e) {\n                          shapes[i].c.k[j].e[0] /= 255;\n                          shapes[i].c.k[j].e[1] /= 255;\n                          shapes[i].c.k[j].e[2] /= 255;\n                          shapes[i].c.k[j].e[3] /= 255;\n                        }\n                      }\n                    } else {\n                      shapes[i].c.k[0] /= 255;\n                      shapes[i].c.k[1] /= 255;\n                      shapes[i].c.k[2] /= 255;\n                      shapes[i].c.k[3] /= 255;\n                    }\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var i;\n                var len = layers.length;\n\n                for (i = 0; i < len; i += 1) {\n                  if (layers[i].ty === 4) {\n                    iterateShapes(layers[i].shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            var checkShapes = function () {\n              var minimumVersion = [4, 4, 18];\n\n              function completeClosingShapes(arr) {\n                var i;\n                var len = arr.length;\n                var j;\n                var jLen;\n\n                for (i = len - 1; i >= 0; i -= 1) {\n                  if (arr[i].ty === 'sh') {\n                    if (arr[i].ks.k.i) {\n                      arr[i].ks.k.c = arr[i].closed;\n                    } else {\n                      jLen = arr[i].ks.k.length;\n\n                      for (j = 0; j < jLen; j += 1) {\n                        if (arr[i].ks.k[j].s) {\n                          arr[i].ks.k[j].s[0].c = arr[i].closed;\n                        }\n\n                        if (arr[i].ks.k[j].e) {\n                          arr[i].ks.k[j].e[0].c = arr[i].closed;\n                        }\n                      }\n                    }\n                  } else if (arr[i].ty === 'gr') {\n                    completeClosingShapes(arr[i].it);\n                  }\n                }\n              }\n\n              function iterateLayers(layers) {\n                var layerData;\n                var i;\n                var len = layers.length;\n                var j;\n                var jLen;\n                var k;\n                var kLen;\n\n                for (i = 0; i < len; i += 1) {\n                  layerData = layers[i];\n\n                  if (layerData.hasMask) {\n                    var maskProps = layerData.masksProperties;\n                    jLen = maskProps.length;\n\n                    for (j = 0; j < jLen; j += 1) {\n                      if (maskProps[j].pt.k.i) {\n                        maskProps[j].pt.k.c = maskProps[j].cl;\n                      } else {\n                        kLen = maskProps[j].pt.k.length;\n\n                        for (k = 0; k < kLen; k += 1) {\n                          if (maskProps[j].pt.k[k].s) {\n                            maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\n                          }\n\n                          if (maskProps[j].pt.k[k].e) {\n                            maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\n                          }\n                        }\n                      }\n                    }\n                  }\n\n                  if (layerData.ty === 4) {\n                    completeClosingShapes(layerData.shapes);\n                  }\n                }\n              }\n\n              return function (animationData) {\n                if (checkVersion(minimumVersion, animationData.v)) {\n                  iterateLayers(animationData.layers);\n\n                  if (animationData.assets) {\n                    var i;\n                    var len = animationData.assets.length;\n\n                    for (i = 0; i < len; i += 1) {\n                      if (animationData.assets[i].layers) {\n                        iterateLayers(animationData.assets[i].layers);\n                      }\n                    }\n                  }\n                }\n              };\n            }();\n\n            function completeData(animationData) {\n              if (animationData.__complete) {\n                return;\n              }\n\n              checkColors(animationData);\n              checkText(animationData);\n              checkChars(animationData);\n              checkPathProperties(animationData);\n              checkShapes(animationData);\n              completeLayers(animationData.layers, animationData.assets);\n              completeChars(animationData.chars, animationData.assets);\n              animationData.__complete = true;\n            }\n\n            function completeText(data) {\n              if (data.t.a.length === 0 && !('m' in data.t.p)) {// data.singleShape = true;\n              }\n            }\n\n            var moduleOb = {};\n            moduleOb.completeData = completeData;\n            moduleOb.checkColors = checkColors;\n            moduleOb.checkChars = checkChars;\n            moduleOb.checkPathProperties = checkPathProperties;\n            moduleOb.checkShapes = checkShapes;\n            moduleOb.completeLayers = completeLayers;\n            return moduleOb;\n          }\n\n          if (!_workerSelf.dataManager) {\n            _workerSelf.dataManager = dataFunctionManager();\n          }\n\n          if (!_workerSelf.assetLoader) {\n            _workerSelf.assetLoader = function () {\n              function formatResponse(xhr) {\n                // using typeof doubles the time of execution of this method,\n                // so if available, it's better to use the header to validate the type\n                var contentTypeHeader = xhr.getResponseHeader('content-type');\n\n                if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\n                  return xhr.response;\n                }\n\n                if (xhr.response && _typeof$5(xhr.response) === 'object') {\n                  return xhr.response;\n                }\n\n                if (xhr.response && typeof xhr.response === 'string') {\n                  return JSON.parse(xhr.response);\n                }\n\n                if (xhr.responseText) {\n                  return JSON.parse(xhr.responseText);\n                }\n\n                return null;\n              }\n\n              function loadAsset(path, fullPath, callback, errorCallback) {\n                var response;\n                var xhr = new XMLHttpRequest(); // set responseType after calling open or IE will break.\n\n                try {\n                  // This crashes on Android WebView prior to KitKat\n                  xhr.responseType = 'json';\n                } catch (err) {} // eslint-disable-line no-empty\n\n\n                xhr.onreadystatechange = function () {\n                  if (xhr.readyState === 4) {\n                    if (xhr.status === 200) {\n                      response = formatResponse(xhr);\n                      callback(response);\n                    } else {\n                      try {\n                        response = formatResponse(xhr);\n                        callback(response);\n                      } catch (err) {\n                        if (errorCallback) {\n                          errorCallback(err);\n                        }\n                      }\n                    }\n                  }\n                };\n\n                try {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), path, true);\n                } catch (error) {\n                  // Hack to workaround banner validation\n                  xhr.open(['G', 'E', 'T'].join(''), fullPath + '/' + path, true);\n                }\n\n                xhr.send();\n              }\n\n              return {\n                load: loadAsset\n              };\n            }();\n          }\n\n          if (e.data.type === 'loadAnimation') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.dataManager.completeData(data);\n\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          } else if (e.data.type === 'complete') {\n            var animation = e.data.animation;\n\n            _workerSelf.dataManager.completeData(animation);\n\n            _workerSelf.postMessage({\n              id: e.data.id,\n              payload: animation,\n              status: 'success'\n            });\n          } else if (e.data.type === 'loadData') {\n            _workerSelf.assetLoader.load(e.data.path, e.data.fullPath, function (data) {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                payload: data,\n                status: 'success'\n              });\n            }, function () {\n              _workerSelf.postMessage({\n                id: e.data.id,\n                status: 'error'\n              });\n            });\n          }\n        });\n\n        workerInstance.onmessage = function (event) {\n          var data = event.data;\n          var id = data.id;\n          var process = processes[id];\n          processes[id] = null;\n\n          if (data.status === 'success') {\n            process.onComplete(data.payload);\n          } else if (process.onError) {\n            process.onError();\n          }\n        };\n      }\n    }\n\n    function createProcess(onComplete, onError) {\n      _counterId += 1;\n      var id = 'processId_' + _counterId;\n      processes[id] = {\n        onComplete: onComplete,\n        onError: onError\n      };\n      return id;\n    }\n\n    function loadAnimation(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadAnimation',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function loadData(path, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'loadData',\n        path: path,\n        fullPath: window.location.origin + window.location.pathname,\n        id: processId\n      });\n    }\n\n    function completeAnimation(anim, onComplete, onError) {\n      setupWorker();\n      var processId = createProcess(onComplete, onError);\n      workerInstance.postMessage({\n        type: 'complete',\n        animation: anim,\n        id: processId\n      });\n    }\n\n    return {\n      loadAnimation: loadAnimation,\n      loadData: loadData,\n      completeAnimation: completeAnimation\n    };\n  }();\n\n  var ImagePreloader = function () {\n    var proxyImage = function () {\n      var canvas = createTag('canvas');\n      canvas.width = 1;\n      canvas.height = 1;\n      var ctx = canvas.getContext('2d');\n      ctx.fillStyle = 'rgba(0,0,0,0)';\n      ctx.fillRect(0, 0, 1, 1);\n      return canvas;\n    }();\n\n    function imageLoaded() {\n      this.loadedAssets += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function footageLoaded() {\n      this.loadedFootagesCount += 1;\n\n      if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\n        if (this.imagesLoadedCb) {\n          this.imagesLoadedCb(null);\n        }\n      }\n    }\n\n    function getAssetsPath(assetData, assetsPath, originalPath) {\n      var path = '';\n\n      if (assetData.e) {\n        path = assetData.p;\n      } else if (assetsPath) {\n        var imagePath = assetData.p;\n\n        if (imagePath.indexOf('images/') !== -1) {\n          imagePath = imagePath.split('/')[1];\n        }\n\n        path = assetsPath + imagePath;\n      } else {\n        path = originalPath;\n        path += assetData.u ? assetData.u : '';\n        path += assetData.p;\n      }\n\n      return path;\n    }\n\n    function testImageLoaded(img) {\n      var _count = 0;\n      var intervalId = setInterval(function () {\n        var box = img.getBBox();\n\n        if (box.width || _count > 500) {\n          this._imageLoaded();\n\n          clearInterval(intervalId);\n        }\n\n        _count += 1;\n      }.bind(this), 50);\n    }\n\n    function createImageData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createNS('image');\n\n      if (isSafari) {\n        this.testImageLoaded(img);\n      } else {\n        img.addEventListener('load', this._imageLoaded, false);\n      }\n\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\n\n      if (this._elementHelper.append) {\n        this._elementHelper.append(img);\n      } else {\n        this._elementHelper.appendChild(img);\n      }\n\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createImgData(assetData) {\n      var path = getAssetsPath(assetData, this.assetsPath, this.path);\n      var img = createTag('img');\n      img.crossOrigin = 'anonymous';\n      img.addEventListener('load', this._imageLoaded, false);\n      img.addEventListener('error', function () {\n        ob.img = proxyImage;\n\n        this._imageLoaded();\n      }.bind(this), false);\n      img.src = path;\n      var ob = {\n        img: img,\n        assetData: assetData\n      };\n      return ob;\n    }\n\n    function createFootageData(data) {\n      var ob = {\n        assetData: data\n      };\n      var path = getAssetsPath(data, this.assetsPath, this.path);\n      dataManager.loadData(path, function (footageData) {\n        ob.img = footageData;\n\n        this._footageLoaded();\n      }.bind(this), function () {\n        ob.img = {};\n\n        this._footageLoaded();\n      }.bind(this));\n      return ob;\n    }\n\n    function loadAssets(assets, cb) {\n      this.imagesLoadedCb = cb;\n      var i;\n      var len = assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (!assets[i].layers) {\n          if (!assets[i].t || assets[i].t === 'seq') {\n            this.totalImages += 1;\n            this.images.push(this._createImageData(assets[i]));\n          } else if (assets[i].t === 3) {\n            this.totalFootages += 1;\n            this.images.push(this.createFootageData(assets[i]));\n          }\n        }\n      }\n    }\n\n    function setPath(path) {\n      this.path = path || '';\n    }\n\n    function setAssetsPath(path) {\n      this.assetsPath = path || '';\n    }\n\n    function getAsset(assetData) {\n      var i = 0;\n      var len = this.images.length;\n\n      while (i < len) {\n        if (this.images[i].assetData === assetData) {\n          return this.images[i].img;\n        }\n\n        i += 1;\n      }\n\n      return null;\n    }\n\n    function destroy() {\n      this.imagesLoadedCb = null;\n      this.images.length = 0;\n    }\n\n    function loadedImages() {\n      return this.totalImages === this.loadedAssets;\n    }\n\n    function loadedFootages() {\n      return this.totalFootages === this.loadedFootagesCount;\n    }\n\n    function setCacheType(type, elementHelper) {\n      if (type === 'svg') {\n        this._elementHelper = elementHelper;\n        this._createImageData = this.createImageData.bind(this);\n      } else {\n        this._createImageData = this.createImgData.bind(this);\n      }\n    }\n\n    function ImagePreloaderFactory() {\n      this._imageLoaded = imageLoaded.bind(this);\n      this._footageLoaded = footageLoaded.bind(this);\n      this.testImageLoaded = testImageLoaded.bind(this);\n      this.createFootageData = createFootageData.bind(this);\n      this.assetsPath = '';\n      this.path = '';\n      this.totalImages = 0;\n      this.totalFootages = 0;\n      this.loadedAssets = 0;\n      this.loadedFootagesCount = 0;\n      this.imagesLoadedCb = null;\n      this.images = [];\n    }\n\n    ImagePreloaderFactory.prototype = {\n      loadAssets: loadAssets,\n      setAssetsPath: setAssetsPath,\n      setPath: setPath,\n      loadedImages: loadedImages,\n      loadedFootages: loadedFootages,\n      destroy: destroy,\n      getAsset: getAsset,\n      createImgData: createImgData,\n      createImageData: createImageData,\n      imageLoaded: imageLoaded,\n      footageLoaded: footageLoaded,\n      setCacheType: setCacheType\n    };\n    return ImagePreloaderFactory;\n  }();\n\n  function BaseEvent() {}\n\n  BaseEvent.prototype = {\n    triggerEvent: function triggerEvent(eventName, args) {\n      if (this._cbs[eventName]) {\n        var callbacks = this._cbs[eventName];\n\n        for (var i = 0; i < callbacks.length; i += 1) {\n          callbacks[i](args);\n        }\n      }\n    },\n    addEventListener: function addEventListener(eventName, callback) {\n      if (!this._cbs[eventName]) {\n        this._cbs[eventName] = [];\n      }\n\n      this._cbs[eventName].push(callback);\n\n      return function () {\n        this.removeEventListener(eventName, callback);\n      }.bind(this);\n    },\n    removeEventListener: function removeEventListener(eventName, callback) {\n      if (!callback) {\n        this._cbs[eventName] = null;\n      } else if (this._cbs[eventName]) {\n        var i = 0;\n        var len = this._cbs[eventName].length;\n\n        while (i < len) {\n          if (this._cbs[eventName][i] === callback) {\n            this._cbs[eventName].splice(i, 1);\n\n            i -= 1;\n            len -= 1;\n          }\n\n          i += 1;\n        }\n\n        if (!this._cbs[eventName].length) {\n          this._cbs[eventName] = null;\n        }\n      }\n    }\n  };\n\n  var markerParser = function () {\n    function parsePayloadLines(payload) {\n      var lines = payload.split('\\r\\n');\n      var keys = {};\n      var line;\n      var keysCount = 0;\n\n      for (var i = 0; i < lines.length; i += 1) {\n        line = lines[i].split(':');\n\n        if (line.length === 2) {\n          keys[line[0]] = line[1].trim();\n          keysCount += 1;\n        }\n      }\n\n      if (keysCount === 0) {\n        throw new Error();\n      }\n\n      return keys;\n    }\n\n    return function (_markers) {\n      var markers = [];\n\n      for (var i = 0; i < _markers.length; i += 1) {\n        var _marker = _markers[i];\n        var markerData = {\n          time: _marker.tm,\n          duration: _marker.dr\n        };\n\n        try {\n          markerData.payload = JSON.parse(_markers[i].cm);\n        } catch (_) {\n          try {\n            markerData.payload = parsePayloadLines(_markers[i].cm);\n          } catch (__) {\n            markerData.payload = {\n              name: _markers[i].cm\n            };\n          }\n        }\n\n        markers.push(markerData);\n      }\n\n      return markers;\n    };\n  }();\n\n  var ProjectInterface = function () {\n    function registerComposition(comp) {\n      this.compositions.push(comp);\n    }\n\n    return function () {\n      function _thisProjectFunction(name) {\n        var i = 0;\n        var len = this.compositions.length;\n\n        while (i < len) {\n          if (this.compositions[i].data && this.compositions[i].data.nm === name) {\n            if (this.compositions[i].prepareFrame && this.compositions[i].data.xt) {\n              this.compositions[i].prepareFrame(this.currentFrame);\n            }\n\n            return this.compositions[i].compInterface;\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      _thisProjectFunction.compositions = [];\n      _thisProjectFunction.currentFrame = 0;\n      _thisProjectFunction.registerComposition = registerComposition;\n      return _thisProjectFunction;\n    };\n  }();\n\n  var renderers = {};\n\n  var registerRenderer = function registerRenderer(key, value) {\n    renderers[key] = value;\n  };\n\n  function getRenderer(key) {\n    return renderers[key];\n  }\n\n  function getRegisteredRenderer() {\n    // Returns canvas by default for compatibility\n    if (renderers.canvas) {\n      return 'canvas';\n    } // Returns any renderer that is registered\n\n\n    for (var key in renderers) {\n      if (renderers[key]) {\n        return key;\n      }\n    }\n\n    return '';\n  }\n\n  function _typeof$4(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$4 = function _typeof(obj) { return typeof obj; }; } else { _typeof$4 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$4(obj); }\n\n  var AnimationItem = function AnimationItem() {\n    this._cbs = [];\n    this.name = '';\n    this.path = '';\n    this.isLoaded = false;\n    this.currentFrame = 0;\n    this.currentRawFrame = 0;\n    this.firstFrame = 0;\n    this.totalFrames = 0;\n    this.frameRate = 0;\n    this.frameMult = 0;\n    this.playSpeed = 1;\n    this.playDirection = 1;\n    this.playCount = 0;\n    this.animationData = {};\n    this.assets = [];\n    this.isPaused = true;\n    this.autoplay = false;\n    this.loop = true;\n    this.renderer = null;\n    this.animationID = createElementID();\n    this.assetsPath = '';\n    this.timeCompleted = 0;\n    this.segmentPos = 0;\n    this.isSubframeEnabled = getSubframeEnabled();\n    this.segments = [];\n    this._idle = true;\n    this._completedLoop = false;\n    this.projectInterface = ProjectInterface();\n    this.imagePreloader = new ImagePreloader();\n    this.audioController = audioControllerFactory();\n    this.markers = [];\n    this.configAnimation = this.configAnimation.bind(this);\n    this.onSetupError = this.onSetupError.bind(this);\n    this.onSegmentComplete = this.onSegmentComplete.bind(this);\n    this.drawnFrameEvent = new BMEnterFrameEvent('drawnFrame', 0, 0, 0);\n    this.expressionsPlugin = getExpressionsPlugin();\n  };\n\n  extendPrototype([BaseEvent], AnimationItem);\n\n  AnimationItem.prototype.setParams = function (params) {\n    if (params.wrapper || params.container) {\n      this.wrapper = params.wrapper || params.container;\n    }\n\n    var animType = 'svg';\n\n    if (params.animType) {\n      animType = params.animType;\n    } else if (params.renderer) {\n      animType = params.renderer;\n    }\n\n    var RendererClass = getRenderer(animType);\n    this.renderer = new RendererClass(this, params.rendererSettings);\n    this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\n    this.renderer.setProjectInterface(this.projectInterface);\n    this.animType = animType;\n\n    if (params.loop === '' || params.loop === null || params.loop === undefined || params.loop === true) {\n      this.loop = true;\n    } else if (params.loop === false) {\n      this.loop = false;\n    } else {\n      this.loop = parseInt(params.loop, 10);\n    }\n\n    this.autoplay = 'autoplay' in params ? params.autoplay : true;\n    this.name = params.name ? params.name : '';\n    this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\n    this.assetsPath = params.assetsPath;\n    this.initialSegment = params.initialSegment;\n\n    if (params.audioFactory) {\n      this.audioController.setAudioFactory(params.audioFactory);\n    }\n\n    if (params.animationData) {\n      this.setupAnimation(params.animationData);\n    } else if (params.path) {\n      if (params.path.lastIndexOf('\\\\') !== -1) {\n        this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\n      } else {\n        this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\n      }\n\n      this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\n      this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\n      dataManager.loadAnimation(params.path, this.configAnimation, this.onSetupError);\n    }\n  };\n\n  AnimationItem.prototype.onSetupError = function () {\n    this.trigger('data_failed');\n  };\n\n  AnimationItem.prototype.setupAnimation = function (data) {\n    dataManager.completeAnimation(data, this.configAnimation);\n  };\n\n  AnimationItem.prototype.setData = function (wrapper, animationData) {\n    if (animationData) {\n      if (_typeof$4(animationData) !== 'object') {\n        animationData = JSON.parse(animationData);\n      }\n    }\n\n    var params = {\n      wrapper: wrapper,\n      animationData: animationData\n    };\n    var wrapperAttributes = wrapper.attributes;\n    params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-animation-path').value : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-path').value : wrapperAttributes.getNamedItem('bm-path') ? wrapperAttributes.getNamedItem('bm-path').value : '';\n    params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-type').value : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-type').value : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('bm-type').value : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-renderer').value : wrapperAttributes.getNamedItem('bm-renderer') ? wrapperAttributes.getNamedItem('bm-renderer').value : getRegisteredRenderer() || 'canvas';\n    var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-loop').value : wrapperAttributes.getNamedItem('bm-loop') ? wrapperAttributes.getNamedItem('bm-loop').value : '';\n\n    if (loop === 'false') {\n      params.loop = false;\n    } else if (loop === 'true') {\n      params.loop = true;\n    } else if (loop !== '') {\n      params.loop = parseInt(loop, 10);\n    }\n\n    var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-autoplay').value : wrapperAttributes.getNamedItem('bm-autoplay') ? wrapperAttributes.getNamedItem('bm-autoplay').value : true;\n    params.autoplay = autoplay !== 'false';\n    params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-name').value : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-name').value : wrapperAttributes.getNamedItem('bm-name') ? wrapperAttributes.getNamedItem('bm-name').value : '';\n    var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\n    ? wrapperAttributes.getNamedItem('data-bm-prerender').value : wrapperAttributes.getNamedItem('bm-prerender') ? wrapperAttributes.getNamedItem('bm-prerender').value : '';\n\n    if (prerender === 'false') {\n      params.prerender = false;\n    }\n\n    if (!params.path) {\n      this.trigger('destroy');\n    } else {\n      this.setParams(params);\n    }\n  };\n\n  AnimationItem.prototype.includeLayers = function (data) {\n    if (data.op > this.animationData.op) {\n      this.animationData.op = data.op;\n      this.totalFrames = Math.floor(data.op - this.animationData.ip);\n    }\n\n    var layers = this.animationData.layers;\n    var i;\n    var len = layers.length;\n    var newLayers = data.layers;\n    var j;\n    var jLen = newLayers.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      i = 0;\n\n      while (i < len) {\n        if (layers[i].id === newLayers[j].id) {\n          layers[i] = newLayers[j];\n          break;\n        }\n\n        i += 1;\n      }\n    }\n\n    if (data.chars || data.fonts) {\n      this.renderer.globalData.fontManager.addChars(data.chars);\n      this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\n    }\n\n    if (data.assets) {\n      len = data.assets.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.animationData.assets.push(data.assets[i]);\n      }\n    }\n\n    this.animationData.__complete = false;\n    dataManager.completeAnimation(this.animationData, this.onSegmentComplete);\n  };\n\n  AnimationItem.prototype.onSegmentComplete = function (data) {\n    this.animationData = data;\n    var expressionsPlugin = getExpressionsPlugin();\n\n    if (expressionsPlugin) {\n      expressionsPlugin.initExpressions(this);\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.loadNextSegment = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments || segments.length === 0 || !this.autoloadSegments) {\n      this.trigger('data_ready');\n      this.timeCompleted = this.totalFrames;\n      return;\n    }\n\n    var segment = segments.shift();\n    this.timeCompleted = segment.time * this.frameRate;\n    var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\n    this.segmentPos += 1;\n    dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\n      this.trigger('data_failed');\n    }.bind(this));\n  };\n\n  AnimationItem.prototype.loadSegments = function () {\n    var segments = this.animationData.segments;\n\n    if (!segments) {\n      this.timeCompleted = this.totalFrames;\n    }\n\n    this.loadNextSegment();\n  };\n\n  AnimationItem.prototype.imagesLoaded = function () {\n    this.trigger('loaded_images');\n    this.checkLoaded();\n  };\n\n  AnimationItem.prototype.preloadImages = function () {\n    this.imagePreloader.setAssetsPath(this.assetsPath);\n    this.imagePreloader.setPath(this.path);\n    this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\n  };\n\n  AnimationItem.prototype.configAnimation = function (animData) {\n    if (!this.renderer) {\n      return;\n    }\n\n    try {\n      this.animationData = animData;\n\n      if (this.initialSegment) {\n        this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\n        this.firstFrame = Math.round(this.initialSegment[0]);\n      } else {\n        this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\n        this.firstFrame = Math.round(this.animationData.ip);\n      }\n\n      this.renderer.configAnimation(animData);\n\n      if (!animData.assets) {\n        animData.assets = [];\n      }\n\n      this.assets = this.animationData.assets;\n      this.frameRate = this.animationData.fr;\n      this.frameMult = this.animationData.fr / 1000;\n      this.renderer.searchExtraCompositions(animData.assets);\n      this.markers = markerParser(animData.markers || []);\n      this.trigger('config_ready');\n      this.preloadImages();\n      this.loadSegments();\n      this.updaFrameModifier();\n      this.waitForFontsLoaded();\n\n      if (this.isPaused) {\n        this.audioController.pause();\n      }\n    } catch (error) {\n      this.triggerConfigError(error);\n    }\n  };\n\n  AnimationItem.prototype.waitForFontsLoaded = function () {\n    if (!this.renderer) {\n      return;\n    }\n\n    if (this.renderer.globalData.fontManager.isLoaded) {\n      this.checkLoaded();\n    } else {\n      setTimeout(this.waitForFontsLoaded.bind(this), 20);\n    }\n  };\n\n  AnimationItem.prototype.checkLoaded = function () {\n    if (!this.isLoaded && this.renderer.globalData.fontManager.isLoaded && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas') && this.imagePreloader.loadedFootages()) {\n      this.isLoaded = true;\n      var expressionsPlugin = getExpressionsPlugin();\n\n      if (expressionsPlugin) {\n        expressionsPlugin.initExpressions(this);\n      }\n\n      this.renderer.initItems();\n      setTimeout(function () {\n        this.trigger('DOMLoaded');\n      }.bind(this), 0);\n      this.gotoFrame();\n\n      if (this.autoplay) {\n        this.play();\n      }\n    }\n  };\n\n  AnimationItem.prototype.resize = function (width, height) {\n    // Adding this validation for backwards compatibility in case an event object was being passed down\n    var _width = typeof width === 'number' ? width : undefined;\n\n    var _height = typeof height === 'number' ? height : undefined;\n\n    this.renderer.updateContainerSize(_width, _height);\n  };\n\n  AnimationItem.prototype.setSubframe = function (flag) {\n    this.isSubframeEnabled = !!flag;\n  };\n\n  AnimationItem.prototype.gotoFrame = function () {\n    this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\n\n    if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\n      this.currentFrame = this.timeCompleted;\n    }\n\n    this.trigger('enterFrame');\n    this.renderFrame();\n    this.trigger('drawnFrame');\n  };\n\n  AnimationItem.prototype.renderFrame = function () {\n    if (this.isLoaded === false || !this.renderer) {\n      return;\n    }\n\n    try {\n      if (this.expressionsPlugin) {\n        this.expressionsPlugin.resetFrame();\n      }\n\n      this.renderer.renderFrame(this.currentFrame + this.firstFrame);\n    } catch (error) {\n      this.triggerRenderFrameError(error);\n    }\n  };\n\n  AnimationItem.prototype.play = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.isPaused = false;\n      this.trigger('_play');\n      this.audioController.resume();\n\n      if (this._idle) {\n        this._idle = false;\n        this.trigger('_active');\n      }\n    }\n  };\n\n  AnimationItem.prototype.pause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === false) {\n      this.isPaused = true;\n      this.trigger('_pause');\n      this._idle = true;\n      this.trigger('_idle');\n      this.audioController.pause();\n    }\n  };\n\n  AnimationItem.prototype.togglePause = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    if (this.isPaused === true) {\n      this.play();\n    } else {\n      this.pause();\n    }\n  };\n\n  AnimationItem.prototype.stop = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.pause();\n    this.playCount = 0;\n    this._completedLoop = false;\n    this.setCurrentRawFrameValue(0);\n  };\n\n  AnimationItem.prototype.getMarkerData = function (markerName) {\n    var marker;\n\n    for (var i = 0; i < this.markers.length; i += 1) {\n      marker = this.markers[i];\n\n      if (marker.payload && marker.payload.name === markerName) {\n        return marker;\n      }\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        this.goToAndStop(marker.time, true);\n      }\n    } else if (isFrame) {\n      this.setCurrentRawFrameValue(value);\n    } else {\n      this.setCurrentRawFrameValue(value * this.frameModifier);\n    }\n\n    this.pause();\n  };\n\n  AnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    var numValue = Number(value);\n\n    if (isNaN(numValue)) {\n      var marker = this.getMarkerData(value);\n\n      if (marker) {\n        if (!marker.duration) {\n          this.goToAndStop(marker.time, true);\n        } else {\n          this.playSegments([marker.time, marker.time + marker.duration], true);\n        }\n      }\n    } else {\n      this.goToAndStop(numValue, isFrame, name);\n    }\n\n    this.play();\n  };\n\n  AnimationItem.prototype.advanceTime = function (value) {\n    if (this.isPaused === true || this.isLoaded === false) {\n      return;\n    }\n\n    var nextValue = this.currentRawFrame + value * this.frameModifier;\n    var _isComplete = false; // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\n    // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\n\n    if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\n      if (!this.loop || this.playCount === this.loop) {\n        if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\n          _isComplete = true;\n          nextValue = this.totalFrames - 1;\n        }\n      } else if (nextValue >= this.totalFrames) {\n        this.playCount += 1;\n\n        if (!this.checkSegments(nextValue % this.totalFrames)) {\n          this.setCurrentRawFrameValue(nextValue % this.totalFrames);\n          this._completedLoop = true;\n          this.trigger('loopComplete');\n        }\n      } else {\n        this.setCurrentRawFrameValue(nextValue);\n      }\n    } else if (nextValue < 0) {\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\n        if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) {\n          // eslint-disable-line no-plusplus\n          this.setCurrentRawFrameValue(this.totalFrames + nextValue % this.totalFrames);\n\n          if (!this._completedLoop) {\n            this._completedLoop = true;\n          } else {\n            this.trigger('loopComplete');\n          }\n        } else {\n          _isComplete = true;\n          nextValue = 0;\n        }\n      }\n    } else {\n      this.setCurrentRawFrameValue(nextValue);\n    }\n\n    if (_isComplete) {\n      this.setCurrentRawFrameValue(nextValue);\n      this.pause();\n      this.trigger('complete');\n    }\n  };\n\n  AnimationItem.prototype.adjustSegment = function (arr, offset) {\n    this.playCount = 0;\n\n    if (arr[1] < arr[0]) {\n      if (this.frameModifier > 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(-1);\n        }\n      }\n\n      this.totalFrames = arr[0] - arr[1];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[1];\n      this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\n    } else if (arr[1] > arr[0]) {\n      if (this.frameModifier < 0) {\n        if (this.playSpeed < 0) {\n          this.setSpeed(-this.playSpeed);\n        } else {\n          this.setDirection(1);\n        }\n      }\n\n      this.totalFrames = arr[1] - arr[0];\n      this.timeCompleted = this.totalFrames;\n      this.firstFrame = arr[0];\n      this.setCurrentRawFrameValue(0.001 + offset);\n    }\n\n    this.trigger('segmentStart');\n  };\n\n  AnimationItem.prototype.setSegment = function (init, end) {\n    var pendingFrame = -1;\n\n    if (this.isPaused) {\n      if (this.currentRawFrame + this.firstFrame < init) {\n        pendingFrame = init;\n      } else if (this.currentRawFrame + this.firstFrame > end) {\n        pendingFrame = end - init;\n      }\n    }\n\n    this.firstFrame = init;\n    this.totalFrames = end - init;\n    this.timeCompleted = this.totalFrames;\n\n    if (pendingFrame !== -1) {\n      this.goToAndStop(pendingFrame, true);\n    }\n  };\n\n  AnimationItem.prototype.playSegments = function (arr, forceFlag) {\n    if (forceFlag) {\n      this.segments.length = 0;\n    }\n\n    if (_typeof$4(arr[0]) === 'object') {\n      var i;\n      var len = arr.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.segments.push(arr[i]);\n      }\n    } else {\n      this.segments.push(arr);\n    }\n\n    if (this.segments.length && forceFlag) {\n      this.adjustSegment(this.segments.shift(), 0);\n    }\n\n    if (this.isPaused) {\n      this.play();\n    }\n  };\n\n  AnimationItem.prototype.resetSegments = function (forceFlag) {\n    this.segments.length = 0;\n    this.segments.push([this.animationData.ip, this.animationData.op]);\n\n    if (forceFlag) {\n      this.checkSegments(0);\n    }\n  };\n\n  AnimationItem.prototype.checkSegments = function (offset) {\n    if (this.segments.length) {\n      this.adjustSegment(this.segments.shift(), offset);\n      return true;\n    }\n\n    return false;\n  };\n\n  AnimationItem.prototype.destroy = function (name) {\n    if (name && this.name !== name || !this.renderer) {\n      return;\n    }\n\n    this.renderer.destroy();\n    this.imagePreloader.destroy();\n    this.trigger('destroy');\n    this._cbs = null;\n    this.onEnterFrame = null;\n    this.onLoopComplete = null;\n    this.onComplete = null;\n    this.onSegmentStart = null;\n    this.onDestroy = null;\n    this.renderer = null;\n    this.expressionsPlugin = null;\n    this.imagePreloader = null;\n    this.projectInterface = null;\n  };\n\n  AnimationItem.prototype.setCurrentRawFrameValue = function (value) {\n    this.currentRawFrame = value;\n    this.gotoFrame();\n  };\n\n  AnimationItem.prototype.setSpeed = function (val) {\n    this.playSpeed = val;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setDirection = function (val) {\n    this.playDirection = val < 0 ? -1 : 1;\n    this.updaFrameModifier();\n  };\n\n  AnimationItem.prototype.setLoop = function (isLooping) {\n    this.loop = isLooping;\n  };\n\n  AnimationItem.prototype.setVolume = function (val, name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.setVolume(val);\n  };\n\n  AnimationItem.prototype.getVolume = function () {\n    return this.audioController.getVolume();\n  };\n\n  AnimationItem.prototype.mute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.mute();\n  };\n\n  AnimationItem.prototype.unmute = function (name) {\n    if (name && this.name !== name) {\n      return;\n    }\n\n    this.audioController.unmute();\n  };\n\n  AnimationItem.prototype.updaFrameModifier = function () {\n    this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\n    this.audioController.setRate(this.playSpeed * this.playDirection);\n  };\n\n  AnimationItem.prototype.getPath = function () {\n    return this.path;\n  };\n\n  AnimationItem.prototype.getAssetsPath = function (assetData) {\n    var path = '';\n\n    if (assetData.e) {\n      path = assetData.p;\n    } else if (this.assetsPath) {\n      var imagePath = assetData.p;\n\n      if (imagePath.indexOf('images/') !== -1) {\n        imagePath = imagePath.split('/')[1];\n      }\n\n      path = this.assetsPath + imagePath;\n    } else {\n      path = this.path;\n      path += assetData.u ? assetData.u : '';\n      path += assetData.p;\n    }\n\n    return path;\n  };\n\n  AnimationItem.prototype.getAssetData = function (id) {\n    var i = 0;\n    var len = this.assets.length;\n\n    while (i < len) {\n      if (id === this.assets[i].id) {\n        return this.assets[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  AnimationItem.prototype.hide = function () {\n    this.renderer.hide();\n  };\n\n  AnimationItem.prototype.show = function () {\n    this.renderer.show();\n  };\n\n  AnimationItem.prototype.getDuration = function (isFrame) {\n    return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\n  };\n\n  AnimationItem.prototype.updateDocumentData = function (path, documentData, index) {\n    try {\n      var element = this.renderer.getElementByPath(path);\n      element.updateDocumentData(documentData, index);\n    } catch (error) {// TODO: decide how to handle catch case\n    }\n  };\n\n  AnimationItem.prototype.trigger = function (name) {\n    if (this._cbs && this._cbs[name]) {\n      switch (name) {\n        case 'enterFrame':\n          this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\n          break;\n\n        case 'drawnFrame':\n          this.drawnFrameEvent.currentTime = this.currentFrame;\n          this.drawnFrameEvent.totalTime = this.totalFrames;\n          this.drawnFrameEvent.direction = this.frameModifier;\n          this.triggerEvent(name, this.drawnFrameEvent);\n          break;\n\n        case 'loopComplete':\n          this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n          break;\n\n        case 'complete':\n          this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\n          break;\n\n        case 'segmentStart':\n          this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n          break;\n\n        case 'destroy':\n          this.triggerEvent(name, new BMDestroyEvent(name, this));\n          break;\n\n        default:\n          this.triggerEvent(name);\n      }\n    }\n\n    if (name === 'enterFrame' && this.onEnterFrame) {\n      this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\n    }\n\n    if (name === 'loopComplete' && this.onLoopComplete) {\n      this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\n    }\n\n    if (name === 'complete' && this.onComplete) {\n      this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\n    }\n\n    if (name === 'segmentStart' && this.onSegmentStart) {\n      this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\n    }\n\n    if (name === 'destroy' && this.onDestroy) {\n      this.onDestroy.call(this, new BMDestroyEvent(name, this));\n    }\n  };\n\n  AnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\n    var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  AnimationItem.prototype.triggerConfigError = function (nativeError) {\n    var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\n    this.triggerEvent('error', error);\n\n    if (this.onError) {\n      this.onError.call(this, error);\n    }\n  };\n\n  var animationManager = function () {\n    var moduleOb = {};\n    var registeredAnimations = [];\n    var initTime = 0;\n    var len = 0;\n    var playingAnimationsNum = 0;\n    var _stopped = true;\n    var _isFrozen = false;\n\n    function removeElement(ev) {\n      var i = 0;\n      var animItem = ev.target;\n\n      while (i < len) {\n        if (registeredAnimations[i].animation === animItem) {\n          registeredAnimations.splice(i, 1);\n          i -= 1;\n          len -= 1;\n\n          if (!animItem.isPaused) {\n            subtractPlayingCount();\n          }\n        }\n\n        i += 1;\n      }\n    }\n\n    function registerAnimation(element, animationData) {\n      if (!element) {\n        return null;\n      }\n\n      var i = 0;\n\n      while (i < len) {\n        if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\n          return registeredAnimations[i].animation;\n        }\n\n        i += 1;\n      }\n\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, element);\n      animItem.setData(element, animationData);\n      return animItem;\n    }\n\n    function getRegisteredAnimations() {\n      var i;\n      var lenAnims = registeredAnimations.length;\n      var animations = [];\n\n      for (i = 0; i < lenAnims; i += 1) {\n        animations.push(registeredAnimations[i].animation);\n      }\n\n      return animations;\n    }\n\n    function addPlayingCount() {\n      playingAnimationsNum += 1;\n      activate();\n    }\n\n    function subtractPlayingCount() {\n      playingAnimationsNum -= 1;\n    }\n\n    function setupAnimation(animItem, element) {\n      animItem.addEventListener('destroy', removeElement);\n      animItem.addEventListener('_active', addPlayingCount);\n      animItem.addEventListener('_idle', subtractPlayingCount);\n      registeredAnimations.push({\n        elem: element,\n        animation: animItem\n      });\n      len += 1;\n    }\n\n    function loadAnimation(params) {\n      var animItem = new AnimationItem();\n      setupAnimation(animItem, null);\n      animItem.setParams(params);\n      return animItem;\n    }\n\n    function setSpeed(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setSpeed(val, animation);\n      }\n    }\n\n    function setDirection(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setDirection(val, animation);\n      }\n    }\n\n    function play(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.play(animation);\n      }\n    }\n\n    function resume(nowTime) {\n      var elapsedTime = nowTime - initTime;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.advanceTime(elapsedTime);\n      }\n\n      initTime = nowTime;\n\n      if (playingAnimationsNum && !_isFrozen) {\n        window.requestAnimationFrame(resume);\n      } else {\n        _stopped = true;\n      }\n    }\n\n    function first(nowTime) {\n      initTime = nowTime;\n      window.requestAnimationFrame(resume);\n    }\n\n    function pause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.pause(animation);\n      }\n    }\n\n    function goToAndStop(value, isFrame, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\n      }\n    }\n\n    function stop(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.stop(animation);\n      }\n    }\n\n    function togglePause(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.togglePause(animation);\n      }\n    }\n\n    function destroy(animation) {\n      var i;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        registeredAnimations[i].animation.destroy(animation);\n      }\n    }\n\n    function searchAnimations(animationData, standalone, renderer) {\n      var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')), [].slice.call(document.getElementsByClassName('bodymovin')));\n      var i;\n      var lenAnims = animElements.length;\n\n      for (i = 0; i < lenAnims; i += 1) {\n        if (renderer) {\n          animElements[i].setAttribute('data-bm-type', renderer);\n        }\n\n        registerAnimation(animElements[i], animationData);\n      }\n\n      if (standalone && lenAnims === 0) {\n        if (!renderer) {\n          renderer = 'svg';\n        }\n\n        var body = document.getElementsByTagName('body')[0];\n        body.innerText = '';\n        var div = createTag('div');\n        div.style.width = '100%';\n        div.style.height = '100%';\n        div.setAttribute('data-bm-type', renderer);\n        body.appendChild(div);\n        registerAnimation(div, animationData);\n      }\n    }\n\n    function resize() {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.resize();\n      }\n    }\n\n    function activate() {\n      if (!_isFrozen && playingAnimationsNum) {\n        if (_stopped) {\n          window.requestAnimationFrame(first);\n          _stopped = false;\n        }\n      }\n    }\n\n    function freeze() {\n      _isFrozen = true;\n    }\n\n    function unfreeze() {\n      _isFrozen = false;\n      activate();\n    }\n\n    function setVolume(val, animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.setVolume(val, animation);\n      }\n    }\n\n    function mute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.mute(animation);\n      }\n    }\n\n    function unmute(animation) {\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        registeredAnimations[i].animation.unmute(animation);\n      }\n    }\n\n    moduleOb.registerAnimation = registerAnimation;\n    moduleOb.loadAnimation = loadAnimation;\n    moduleOb.setSpeed = setSpeed;\n    moduleOb.setDirection = setDirection;\n    moduleOb.play = play;\n    moduleOb.pause = pause;\n    moduleOb.stop = stop;\n    moduleOb.togglePause = togglePause;\n    moduleOb.searchAnimations = searchAnimations;\n    moduleOb.resize = resize; // moduleOb.start = start;\n\n    moduleOb.goToAndStop = goToAndStop;\n    moduleOb.destroy = destroy;\n    moduleOb.freeze = freeze;\n    moduleOb.unfreeze = unfreeze;\n    moduleOb.setVolume = setVolume;\n    moduleOb.mute = mute;\n    moduleOb.unmute = unmute;\n    moduleOb.getRegisteredAnimations = getRegisteredAnimations;\n    return moduleOb;\n  }();\n\n  /* eslint-disable */\n  var BezierFactory = function () {\n    /**\r\n       * BezierEasing - use bezier curve for transition easing function\r\n       * by Gatan Renaudeau 2014 - 2015  MIT License\r\n       *\r\n       * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n       * Usage:\r\n       * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n       * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n       *\r\n       */\n    var ob = {};\n    ob.getBezierEasing = getBezierEasing;\n    var beziers = {};\n\n    function getBezierEasing(a, b, c, d, nm) {\n      var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\n\n      if (beziers[str]) {\n        return beziers[str];\n      }\n\n      var bezEasing = new BezierEasing([a, b, c, d]);\n      beziers[str] = bezEasing;\n      return bezEasing;\n    } // These values are established by empiricism with tests (tradeoff: performance VS precision)\n\n\n    var NEWTON_ITERATIONS = 4;\n    var NEWTON_MIN_SLOPE = 0.001;\n    var SUBDIVISION_PRECISION = 0.0000001;\n    var SUBDIVISION_MAX_ITERATIONS = 10;\n    var kSplineTableSize = 11;\n    var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n    var float32ArraySupported = typeof Float32Array === 'function';\n\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n\n    function C(aA1) {\n      return 3.0 * aA1;\n    } // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\n\n\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    } // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\n\n\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n\n    function binarySubdivide(aX, aA, aB, mX1, mX2) {\n      var currentX,\n          currentT,\n          i = 0;\n\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n\n      return currentT;\n    }\n\n    function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\n      for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n\n      return aGuessT;\n    }\n    /**\r\n       * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n       */\n\n\n    function BezierEasing(points) {\n      this._p = points;\n      this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n      this._precomputed = false;\n      this.get = this.get.bind(this);\n    }\n\n    BezierEasing.prototype = {\n      get: function get(x) {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        if (!this._precomputed) this._precompute();\n        if (mX1 === mY1 && mX2 === mY2) return x; // linear\n        // Because JavaScript number are imprecise, we should guarantee the extremes are right.\n\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(this._getTForX(x), mY1, mY2);\n      },\n      // Private part\n      _precompute: function _precompute() {\n        var mX1 = this._p[0],\n            mY1 = this._p[1],\n            mX2 = this._p[2],\n            mY2 = this._p[3];\n        this._precomputed = true;\n\n        if (mX1 !== mY1 || mX2 !== mY2) {\n          this._calcSampleValues();\n        }\n      },\n      _calcSampleValues: function _calcSampleValues() {\n        var mX1 = this._p[0],\n            mX2 = this._p[2];\n\n        for (var i = 0; i < kSplineTableSize; ++i) {\n          this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      },\n\n      /**\r\n           * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n           */\n      _getTForX: function _getTForX(aX) {\n        var mX1 = this._p[0],\n            mX2 = this._p[2],\n            mSampleValues = this._mSampleValues;\n        var intervalStart = 0.0;\n        var currentSample = 1;\n        var lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample; // Interpolate to provide an initial guess for t\n\n        var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\n        var guessForT = intervalStart + dist * kSampleStepSize;\n        var initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= NEWTON_MIN_SLOPE) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        }\n\n        if (initialSlope === 0.0) {\n          return guessForT;\n        }\n\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n      }\n    };\n    return ob;\n  }();\n\n  var pooling = function () {\n    function _double(arr) {\n      return arr.concat(createSizedArray(arr.length));\n    }\n\n    return {\n      \"double\": _double\n    };\n  }();\n\n  var poolFactory = function () {\n    return function (initialLength, _create, _release) {\n      var _length = 0;\n      var _maxLength = initialLength;\n      var pool = createSizedArray(_maxLength);\n      var ob = {\n        newElement: newElement,\n        release: release\n      };\n\n      function newElement() {\n        var element;\n\n        if (_length) {\n          _length -= 1;\n          element = pool[_length];\n        } else {\n          element = _create();\n        }\n\n        return element;\n      }\n\n      function release(element) {\n        if (_length === _maxLength) {\n          pool = pooling[\"double\"](pool);\n          _maxLength *= 2;\n        }\n\n        if (_release) {\n          _release(element);\n        }\n\n        pool[_length] = element;\n        _length += 1;\n      }\n\n      return ob;\n    };\n  }();\n\n  var bezierLengthPool = function () {\n    function create() {\n      return {\n        addedLength: 0,\n        percents: createTypedArray('float32', getDefaultCurveSegments()),\n        lengths: createTypedArray('float32', getDefaultCurveSegments())\n      };\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  var segmentsLengthPool = function () {\n    function create() {\n      return {\n        lengths: [],\n        totalLength: 0\n      };\n    }\n\n    function release(element) {\n      var i;\n      var len = element.lengths.length;\n\n      for (i = 0; i < len; i += 1) {\n        bezierLengthPool.release(element.lengths[i]);\n      }\n\n      element.lengths.length = 0;\n    }\n\n    return poolFactory(8, create, release);\n  }();\n\n  function bezFunction() {\n    var math = Math;\n\n    function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\n      var det1 = x1 * y2 + y1 * x3 + x2 * y3 - x3 * y2 - y3 * x1 - x2 * y1;\n      return det1 > -0.001 && det1 < 0.001;\n    }\n\n    function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\n      if (z1 === 0 && z2 === 0 && z3 === 0) {\n        return pointOnLine2D(x1, y1, x2, y2, x3, y3);\n      }\n\n      var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\n      var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\n      var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\n      var diffDist;\n\n      if (dist1 > dist2) {\n        if (dist1 > dist3) {\n          diffDist = dist1 - dist2 - dist3;\n        } else {\n          diffDist = dist3 - dist2 - dist1;\n        }\n      } else if (dist3 > dist2) {\n        diffDist = dist3 - dist2 - dist1;\n      } else {\n        diffDist = dist2 - dist1 - dist3;\n      }\n\n      return diffDist > -0.0001 && diffDist < 0.0001;\n    }\n\n    var getBezierLength = function () {\n      return function (pt1, pt2, pt3, pt4) {\n        var curveSegments = getDefaultCurveSegments();\n        var k;\n        var i;\n        var len;\n        var ptCoord;\n        var perc;\n        var addedLength = 0;\n        var ptDistance;\n        var point = [];\n        var lastPoint = [];\n        var lengthData = bezierLengthPool.newElement();\n        len = pt3.length;\n\n        for (k = 0; k < curveSegments; k += 1) {\n          perc = k / (curveSegments - 1);\n          ptDistance = 0;\n\n          for (i = 0; i < len; i += 1) {\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\n            point[i] = ptCoord;\n\n            if (lastPoint[i] !== null) {\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\n            }\n\n            lastPoint[i] = point[i];\n          }\n\n          if (ptDistance) {\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n          }\n\n          lengthData.percents[k] = perc;\n          lengthData.lengths[k] = addedLength;\n        }\n\n        lengthData.addedLength = addedLength;\n        return lengthData;\n      };\n    }();\n\n    function getSegmentsLength(shapeData) {\n      var segmentsLength = segmentsLengthPool.newElement();\n      var closed = shapeData.c;\n      var pathV = shapeData.v;\n      var pathO = shapeData.o;\n      var pathI = shapeData.i;\n      var i;\n      var len = shapeData._length;\n      var lengths = segmentsLength.lengths;\n      var totalLength = 0;\n\n      for (i = 0; i < len - 1; i += 1) {\n        lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      if (closed && len) {\n        lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\n        totalLength += lengths[i].addedLength;\n      }\n\n      segmentsLength.totalLength = totalLength;\n      return segmentsLength;\n    }\n\n    function BezierData(length) {\n      this.segmentLength = 0;\n      this.points = new Array(length);\n    }\n\n    function PointData(partial, point) {\n      this.partialLength = partial;\n      this.point = point;\n    }\n\n    var buildBezierData = function () {\n      var storedData = {};\n      return function (pt1, pt2, pt3, pt4) {\n        var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\n\n        if (!storedData[bezierName]) {\n          var curveSegments = getDefaultCurveSegments();\n          var k;\n          var i;\n          var len;\n          var ptCoord;\n          var perc;\n          var addedLength = 0;\n          var ptDistance;\n          var point;\n          var lastPoint = null;\n\n          if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\n            curveSegments = 2;\n          }\n\n          var bezierData = new BezierData(curveSegments);\n          len = pt3.length;\n\n          for (k = 0; k < curveSegments; k += 1) {\n            point = createSizedArray(len);\n            perc = k / (curveSegments - 1);\n            ptDistance = 0;\n\n            for (i = 0; i < len; i += 1) {\n              ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\n              point[i] = ptCoord;\n\n              if (lastPoint !== null) {\n                ptDistance += bmPow(point[i] - lastPoint[i], 2);\n              }\n            }\n\n            ptDistance = bmSqrt(ptDistance);\n            addedLength += ptDistance;\n            bezierData.points[k] = new PointData(ptDistance, point);\n            lastPoint = point;\n          }\n\n          bezierData.segmentLength = addedLength;\n          storedData[bezierName] = bezierData;\n        }\n\n        return storedData[bezierName];\n      };\n    }();\n\n    function getDistancePerc(perc, bezierData) {\n      var percents = bezierData.percents;\n      var lengths = bezierData.lengths;\n      var len = percents.length;\n      var initPos = bmFloor((len - 1) * perc);\n      var lengthPos = perc * bezierData.addedLength;\n      var lPerc = 0;\n\n      if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\n        return percents[initPos];\n      }\n\n      var dir = lengths[initPos] > lengthPos ? -1 : 1;\n      var flag = true;\n\n      while (flag) {\n        if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\n          lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\n          flag = false;\n        } else {\n          initPos += dir;\n        }\n\n        if (initPos < 0 || initPos >= len - 1) {\n          // FIX for TypedArrays that don't store floating point values with enough accuracy\n          if (initPos === len - 1) {\n            return percents[initPos];\n          }\n\n          flag = false;\n        }\n      }\n\n      return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\n    }\n\n    function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\n      var t1 = getDistancePerc(percent, bezierData);\n      var u1 = 1 - t1;\n      var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\n      var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\n      return [ptX, ptY];\n    }\n\n    var bezierSegmentPoints = createTypedArray('float32', 8);\n\n    function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\n      if (startPerc < 0) {\n        startPerc = 0;\n      } else if (startPerc > 1) {\n        startPerc = 1;\n      }\n\n      var t0 = getDistancePerc(startPerc, bezierData);\n      endPerc = endPerc > 1 ? 1 : endPerc;\n      var t1 = getDistancePerc(endPerc, bezierData);\n      var i;\n      var len = pt1.length;\n      var u0 = 1 - t0;\n      var u1 = 1 - t1;\n      var u0u0u0 = u0 * u0 * u0;\n      var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\n\n      var t0t0t0 = t0 * t0 * t0; //\n\n      var u0u0u1 = u0 * u0 * u1;\n      var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\n\n      var t0t0t1 = t0 * t0 * t1; //\n\n      var u0u1u1 = u0 * u1 * u1;\n      var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\n\n      var t0t1t1 = t0 * t1 * t1; //\n\n      var u1u1u1 = u1 * u1 * u1;\n      var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\n\n      var t1t1t1 = t1 * t1 * t1;\n\n      for (i = 0; i < len; i += 1) {\n        bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n\n        bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\n      }\n\n      return bezierSegmentPoints;\n    }\n\n    return {\n      getSegmentsLength: getSegmentsLength,\n      getNewSegment: getNewSegment,\n      getPointInSegment: getPointInSegment,\n      buildBezierData: buildBezierData,\n      pointOnLine2D: pointOnLine2D,\n      pointOnLine3D: pointOnLine3D\n    };\n  }\n\n  var bez = bezFunction();\n\n  var initFrame = initialDefaultFrame;\n  var mathAbs = Math.abs;\n\n  function interpolateValue(frameNum, caching) {\n    var offsetTime = this.offsetTime;\n    var newValue;\n\n    if (this.propType === 'multidimensional') {\n      newValue = createTypedArray('float32', this.pv.length);\n    }\n\n    var iterationIndex = caching.lastIndex;\n    var i = iterationIndex;\n    var len = this.keyframes.length - 1;\n    var flag = true;\n    var keyData;\n    var nextKeyData;\n    var keyframeMetadata;\n\n    while (flag) {\n      keyData = this.keyframes[i];\n      nextKeyData = this.keyframes[i + 1];\n\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\n        if (keyData.h) {\n          keyData = nextKeyData;\n        }\n\n        iterationIndex = 0;\n        break;\n      }\n\n      if (nextKeyData.t - offsetTime > frameNum) {\n        iterationIndex = i;\n        break;\n      }\n\n      if (i < len - 1) {\n        i += 1;\n      } else {\n        iterationIndex = 0;\n        flag = false;\n      }\n    }\n\n    keyframeMetadata = this.keyframesMetadata[i] || {};\n    var k;\n    var kLen;\n    var perc;\n    var jLen;\n    var j;\n    var fnc;\n    var nextKeyTime = nextKeyData.t - offsetTime;\n    var keyTime = keyData.t - offsetTime;\n    var endValue;\n\n    if (keyData.to) {\n      if (!keyframeMetadata.bezierData) {\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\n      }\n\n      var bezierData = keyframeMetadata.bezierData;\n\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\n        kLen = bezierData.points[ind].point.length;\n\n        for (k = 0; k < kLen; k += 1) {\n          newValue[k] = bezierData.points[ind].point[k];\n        } // caching._lastKeyframeIndex = -1;\n\n      } else {\n        if (keyframeMetadata.__fnct) {\n          fnc = keyframeMetadata.__fnct;\n        } else {\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\n          keyframeMetadata.__fnct = fnc;\n        }\n\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n        var distanceInLine = bezierData.segmentLength * perc;\n        var segmentPerc;\n        var addedLength = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastAddedLength : 0;\n        j = caching.lastFrame < frameNum && caching._lastKeyframeIndex === i ? caching._lastPoint : 0;\n        flag = true;\n        jLen = bezierData.points.length;\n\n        while (flag) {\n          addedLength += bezierData.points[j].partialLength;\n\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\n            kLen = bezierData.points[j].point.length;\n\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k];\n            }\n\n            break;\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\n            kLen = bezierData.points[j].point.length;\n\n            for (k = 0; k < kLen; k += 1) {\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\n            }\n\n            break;\n          }\n\n          if (j < jLen - 1) {\n            j += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        caching._lastPoint = j;\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\n        caching._lastKeyframeIndex = i;\n      }\n    } else {\n      var outX;\n      var outY;\n      var inX;\n      var inY;\n      var keyValue;\n      len = keyData.s.length;\n      endValue = nextKeyData.s || keyData.e;\n\n      if (this.sh && keyData.h !== 1) {\n        if (frameNum >= nextKeyTime) {\n          newValue[0] = endValue[0];\n          newValue[1] = endValue[1];\n          newValue[2] = endValue[2];\n        } else if (frameNum <= keyTime) {\n          newValue[0] = keyData.s[0];\n          newValue[1] = keyData.s[1];\n          newValue[2] = keyData.s[2];\n        } else {\n          var quatStart = createQuaternion(keyData.s);\n          var quatEnd = createQuaternion(endValue);\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\n        }\n      } else {\n        for (i = 0; i < len; i += 1) {\n          if (keyData.h !== 1) {\n            if (frameNum >= nextKeyTime) {\n              perc = 1;\n            } else if (frameNum < keyTime) {\n              perc = 0;\n            } else {\n              if (keyData.o.x.constructor === Array) {\n                if (!keyframeMetadata.__fnct) {\n                  keyframeMetadata.__fnct = [];\n                }\n\n                if (!keyframeMetadata.__fnct[i]) {\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                  keyframeMetadata.__fnct[i] = fnc;\n                } else {\n                  fnc = keyframeMetadata.__fnct[i];\n                }\n              } else if (!keyframeMetadata.__fnct) {\n                outX = keyData.o.x;\n                outY = keyData.o.y;\n                inX = keyData.i.x;\n                inY = keyData.i.y;\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\n                keyData.keyframeMetadata = fnc;\n              } else {\n                fnc = keyframeMetadata.__fnct;\n              }\n\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\n            }\n          }\n\n          endValue = nextKeyData.s || keyData.e;\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\n\n          if (this.propType === 'multidimensional') {\n            newValue[i] = keyValue;\n          } else {\n            newValue = keyValue;\n          }\n        }\n      }\n    }\n\n    caching.lastIndex = iterationIndex;\n    return newValue;\n  } // based on @Toji's https://github.com/toji/gl-matrix/\n\n\n  function slerp(a, b, t) {\n    var out = [];\n    var ax = a[0];\n    var ay = a[1];\n    var az = a[2];\n    var aw = a[3];\n    var bx = b[0];\n    var by = b[1];\n    var bz = b[2];\n    var bw = b[3];\n    var omega;\n    var cosom;\n    var sinom;\n    var scale0;\n    var scale1;\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\n\n    if (cosom < 0.0) {\n      cosom = -cosom;\n      bx = -bx;\n      by = -by;\n      bz = -bz;\n      bw = -bw;\n    }\n\n    if (1.0 - cosom > 0.000001) {\n      omega = Math.acos(cosom);\n      sinom = Math.sin(omega);\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\n      scale1 = Math.sin(t * omega) / sinom;\n    } else {\n      scale0 = 1.0 - t;\n      scale1 = t;\n    }\n\n    out[0] = scale0 * ax + scale1 * bx;\n    out[1] = scale0 * ay + scale1 * by;\n    out[2] = scale0 * az + scale1 * bz;\n    out[3] = scale0 * aw + scale1 * bw;\n    return out;\n  }\n\n  function quaternionToEuler(out, quat) {\n    var qx = quat[0];\n    var qy = quat[1];\n    var qz = quat[2];\n    var qw = quat[3];\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\n    out[0] = heading / degToRads;\n    out[1] = attitude / degToRads;\n    out[2] = bank / degToRads;\n  }\n\n  function createQuaternion(values) {\n    var heading = values[0] * degToRads;\n    var attitude = values[1] * degToRads;\n    var bank = values[2] * degToRads;\n    var c1 = Math.cos(heading / 2);\n    var c2 = Math.cos(attitude / 2);\n    var c3 = Math.cos(bank / 2);\n    var s1 = Math.sin(heading / 2);\n    var s2 = Math.sin(attitude / 2);\n    var s3 = Math.sin(bank / 2);\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\n    return [x, y, z, w];\n  }\n\n  function getValueAtCurrentTime() {\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\n    var initTime = this.keyframes[0].t - this.offsetTime;\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n\n    if (!(frameNum === this._caching.lastFrame || this._caching.lastFrame !== initFrame && (this._caching.lastFrame >= endTime && frameNum >= endTime || this._caching.lastFrame < initTime && frameNum < initTime))) {\n      if (this._caching.lastFrame >= frameNum) {\n        this._caching._lastKeyframeIndex = -1;\n        this._caching.lastIndex = 0;\n      }\n\n      var renderResult = this.interpolateValue(frameNum, this._caching);\n      this.pv = renderResult;\n    }\n\n    this._caching.lastFrame = frameNum;\n    return this.pv;\n  }\n\n  function setVValue(val) {\n    var multipliedValue;\n\n    if (this.propType === 'unidimensional') {\n      multipliedValue = val * this.mult;\n\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\n        this.v = multipliedValue;\n        this._mdf = true;\n      }\n    } else {\n      var i = 0;\n      var len = this.v.length;\n\n      while (i < len) {\n        multipliedValue = val[i] * this.mult;\n\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\n          this.v[i] = multipliedValue;\n          this._mdf = true;\n        }\n\n        i += 1;\n      }\n    }\n  }\n\n  function processEffectsSequence() {\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\n      return;\n    }\n\n    if (this.lock) {\n      this.setVValue(this.pv);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = this._isFirstFrame;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = this.kf ? this.pv : this.data.k;\n\n    for (i = 0; i < len; i += 1) {\n      finalValue = this.effectsSequence[i](finalValue);\n    }\n\n    this.setVValue(finalValue);\n    this._isFirstFrame = false;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  }\n\n  function addEffect(effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.container.addDynamicProperty(this);\n  }\n\n  function ValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this.v = mult ? data.k * mult : data.k;\n    this.pv = data.k;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.vel = 0;\n    this.effectsSequence = [];\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function MultiDimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    this.mult = mult || 1;\n    this.data = data;\n    this._mdf = false;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.k = false;\n    this.kf = false;\n    this.frameId = -1;\n    var i;\n    var len = data.k.length;\n    this.v = createTypedArray('float32', len);\n    this.pv = createTypedArray('float32', len);\n    this.vel = createTypedArray('float32', len);\n\n    for (i = 0; i < len; i += 1) {\n      this.v[i] = data.k[i] * this.mult;\n      this.pv[i] = data.k[i];\n    }\n\n    this._isFirstFrame = true;\n    this.effectsSequence = [];\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedValueProperty(elem, data, mult, container) {\n    this.propType = 'unidimensional';\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.frameId = -1;\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: 0,\n      _lastKeyframeIndex: -1\n    };\n    this.k = true;\n    this.kf = true;\n    this.data = data;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.v = initFrame;\n    this.pv = initFrame;\n    this._isFirstFrame = true;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.addEffect = addEffect;\n  }\n\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\n    this.propType = 'multidimensional';\n    var i;\n    var len = data.k.length;\n    var s;\n    var e;\n    var to;\n    var ti;\n\n    for (i = 0; i < len - 1; i += 1) {\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\n        s = data.k[i].s;\n        e = data.k[i + 1].s;\n        to = data.k[i].to;\n        ti = data.k[i].ti;\n\n        if (s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1]) || s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2])) {\n          data.k[i].to = null;\n          data.k[i].ti = null;\n        }\n\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\n          if (s.length === 2 || s[2] === e[2] && to[2] === 0 && ti[2] === 0) {\n            data.k[i].to = null;\n            data.k[i].ti = null;\n          }\n        }\n      }\n    }\n\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\n    this.data = data;\n    this.keyframes = data.k;\n    this.keyframesMetadata = [];\n    this.offsetTime = elem.data.st;\n    this.k = true;\n    this.kf = true;\n    this._isFirstFrame = true;\n    this.mult = mult || 1;\n    this.elem = elem;\n    this.container = container;\n    this.comp = elem.comp;\n    this.getValue = processEffectsSequence;\n    this.setVValue = setVValue;\n    this.interpolateValue = interpolateValue;\n    this.frameId = -1;\n    var arrLen = data.k[0].s.length;\n    this.v = createTypedArray('float32', arrLen);\n    this.pv = createTypedArray('float32', arrLen);\n\n    for (i = 0; i < arrLen; i += 1) {\n      this.v[i] = initFrame;\n      this.pv[i] = initFrame;\n    }\n\n    this._caching = {\n      lastFrame: initFrame,\n      lastIndex: 0,\n      value: createTypedArray('float32', arrLen)\n    };\n    this.addEffect = addEffect;\n  }\n\n  var PropertyFactory = function () {\n    function getProp(elem, data, type, mult, container) {\n      if (data.sid) {\n        data = elem.globalData.slotManager.getProp(data);\n      }\n\n      var p;\n\n      if (!data.k.length) {\n        p = new ValueProperty(elem, data, mult, container);\n      } else if (typeof data.k[0] === 'number') {\n        p = new MultiDimensionalProperty(elem, data, mult, container);\n      } else {\n        switch (type) {\n          case 0:\n            p = new KeyframedValueProperty(elem, data, mult, container);\n            break;\n\n          case 1:\n            p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\n            break;\n\n          default:\n            break;\n        }\n      }\n\n      if (p.effectsSequence.length) {\n        container.addDynamicProperty(p);\n      }\n\n      return p;\n    }\n\n    var ob = {\n      getProp: getProp\n    };\n    return ob;\n  }();\n\n  function DynamicPropertyContainer() {}\n\n  DynamicPropertyContainer.prototype = {\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n        this.container.addDynamicProperty(this);\n        this._isAnimated = true;\n      }\n    },\n    iterateDynamicProperties: function iterateDynamicProperties() {\n      this._mdf = false;\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.dynamicProperties[i].getValue();\n\n        if (this.dynamicProperties[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    },\n    initDynamicPropertyContainer: function initDynamicPropertyContainer(container) {\n      this.container = container;\n      this.dynamicProperties = [];\n      this._mdf = false;\n      this._isAnimated = false;\n    }\n  };\n\n  var pointPool = function () {\n    function create() {\n      return createTypedArray('float32', 2);\n    }\n\n    return poolFactory(8, create);\n  }();\n\n  function ShapePath() {\n    this.c = false;\n    this._length = 0;\n    this._maxLength = 8;\n    this.v = createSizedArray(this._maxLength);\n    this.o = createSizedArray(this._maxLength);\n    this.i = createSizedArray(this._maxLength);\n  }\n\n  ShapePath.prototype.setPathData = function (closed, len) {\n    this.c = closed;\n    this.setLength(len);\n    var i = 0;\n\n    while (i < len) {\n      this.v[i] = pointPool.newElement();\n      this.o[i] = pointPool.newElement();\n      this.i[i] = pointPool.newElement();\n      i += 1;\n    }\n  };\n\n  ShapePath.prototype.setLength = function (len) {\n    while (this._maxLength < len) {\n      this.doubleArrayLength();\n    }\n\n    this._length = len;\n  };\n\n  ShapePath.prototype.doubleArrayLength = function () {\n    this.v = this.v.concat(createSizedArray(this._maxLength));\n    this.i = this.i.concat(createSizedArray(this._maxLength));\n    this.o = this.o.concat(createSizedArray(this._maxLength));\n    this._maxLength *= 2;\n  };\n\n  ShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\n    var arr;\n    this._length = Math.max(this._length, pos + 1);\n\n    if (this._length >= this._maxLength) {\n      this.doubleArrayLength();\n    }\n\n    switch (type) {\n      case 'v':\n        arr = this.v;\n        break;\n\n      case 'i':\n        arr = this.i;\n        break;\n\n      case 'o':\n        arr = this.o;\n        break;\n\n      default:\n        arr = [];\n        break;\n    }\n\n    if (!arr[pos] || arr[pos] && !replace) {\n      arr[pos] = pointPool.newElement();\n    }\n\n    arr[pos][0] = x;\n    arr[pos][1] = y;\n  };\n\n  ShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\n    this.setXYAt(vX, vY, 'v', pos, replace);\n    this.setXYAt(oX, oY, 'o', pos, replace);\n    this.setXYAt(iX, iY, 'i', pos, replace);\n  };\n\n  ShapePath.prototype.reverse = function () {\n    var newPath = new ShapePath();\n    newPath.setPathData(this.c, this._length);\n    var vertices = this.v;\n    var outPoints = this.o;\n    var inPoints = this.i;\n    var init = 0;\n\n    if (this.c) {\n      newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\n      init = 1;\n    }\n\n    var cnt = this._length - 1;\n    var len = this._length;\n    var i;\n\n    for (i = init; i < len; i += 1) {\n      newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\n      cnt -= 1;\n    }\n\n    return newPath;\n  };\n\n  ShapePath.prototype.length = function () {\n    return this._length;\n  };\n\n  var shapePool = function () {\n    function create() {\n      return new ShapePath();\n    }\n\n    function release(shapePath) {\n      var len = shapePath._length;\n      var i;\n\n      for (i = 0; i < len; i += 1) {\n        pointPool.release(shapePath.v[i]);\n        pointPool.release(shapePath.i[i]);\n        pointPool.release(shapePath.o[i]);\n        shapePath.v[i] = null;\n        shapePath.i[i] = null;\n        shapePath.o[i] = null;\n      }\n\n      shapePath._length = 0;\n      shapePath.c = false;\n    }\n\n    function clone(shape) {\n      var cloned = factory.newElement();\n      var i;\n      var len = shape._length === undefined ? shape.v.length : shape._length;\n      cloned.setLength(len);\n      cloned.c = shape.c;\n\n      for (i = 0; i < len; i += 1) {\n        cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\n      }\n\n      return cloned;\n    }\n\n    var factory = poolFactory(4, create, release);\n    factory.clone = clone;\n    return factory;\n  }();\n\n  function ShapeCollection() {\n    this._length = 0;\n    this._maxLength = 4;\n    this.shapes = createSizedArray(this._maxLength);\n  }\n\n  ShapeCollection.prototype.addShape = function (shapeData) {\n    if (this._length === this._maxLength) {\n      this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\n      this._maxLength *= 2;\n    }\n\n    this.shapes[this._length] = shapeData;\n    this._length += 1;\n  };\n\n  ShapeCollection.prototype.releaseShapes = function () {\n    var i;\n\n    for (i = 0; i < this._length; i += 1) {\n      shapePool.release(this.shapes[i]);\n    }\n\n    this._length = 0;\n  };\n\n  var shapeCollectionPool = function () {\n    var ob = {\n      newShapeCollection: newShapeCollection,\n      release: release\n    };\n    var _length = 0;\n    var _maxLength = 4;\n    var pool = createSizedArray(_maxLength);\n\n    function newShapeCollection() {\n      var shapeCollection;\n\n      if (_length) {\n        _length -= 1;\n        shapeCollection = pool[_length];\n      } else {\n        shapeCollection = new ShapeCollection();\n      }\n\n      return shapeCollection;\n    }\n\n    function release(shapeCollection) {\n      var i;\n      var len = shapeCollection._length;\n\n      for (i = 0; i < len; i += 1) {\n        shapePool.release(shapeCollection.shapes[i]);\n      }\n\n      shapeCollection._length = 0;\n\n      if (_length === _maxLength) {\n        pool = pooling[\"double\"](pool);\n        _maxLength *= 2;\n      }\n\n      pool[_length] = shapeCollection;\n      _length += 1;\n    }\n\n    return ob;\n  }();\n\n  var ShapePropertyFactory = function () {\n    var initFrame = -999999;\n\n    function interpolateShape(frameNum, previousValue, caching) {\n      var iterationIndex = caching.lastIndex;\n      var keyPropS;\n      var keyPropE;\n      var isHold;\n      var j;\n      var k;\n      var jLen;\n      var kLen;\n      var perc;\n      var vertexValue;\n      var kf = this.keyframes;\n\n      if (frameNum < kf[0].t - this.offsetTime) {\n        keyPropS = kf[0].s[0];\n        isHold = true;\n        iterationIndex = 0;\n      } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\n        keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\n        /* if(kf[kf.length - 1].s){\r\n                  keyPropS = kf[kf.length - 1].s[0];\r\n              }else{\r\n                  keyPropS = kf[kf.length - 2].e[0];\r\n              } */\n\n        isHold = true;\n      } else {\n        var i = iterationIndex;\n        var len = kf.length - 1;\n        var flag = true;\n        var keyData;\n        var nextKeyData;\n        var keyframeMetadata;\n\n        while (flag) {\n          keyData = kf[i];\n          nextKeyData = kf[i + 1];\n\n          if (nextKeyData.t - this.offsetTime > frameNum) {\n            break;\n          }\n\n          if (i < len - 1) {\n            i += 1;\n          } else {\n            flag = false;\n          }\n        }\n\n        keyframeMetadata = this.keyframesMetadata[i] || {};\n        isHold = keyData.h === 1;\n        iterationIndex = i;\n\n        if (!isHold) {\n          if (frameNum >= nextKeyData.t - this.offsetTime) {\n            perc = 1;\n          } else if (frameNum < keyData.t - this.offsetTime) {\n            perc = 0;\n          } else {\n            var fnc;\n\n            if (keyframeMetadata.__fnct) {\n              fnc = keyframeMetadata.__fnct;\n            } else {\n              fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\n              keyframeMetadata.__fnct = fnc;\n            }\n\n            perc = fnc((frameNum - (keyData.t - this.offsetTime)) / (nextKeyData.t - this.offsetTime - (keyData.t - this.offsetTime)));\n          }\n\n          keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\n        }\n\n        keyPropS = keyData.s[0];\n      }\n\n      jLen = previousValue._length;\n      kLen = keyPropS.i[0].length;\n      caching.lastIndex = iterationIndex;\n\n      for (j = 0; j < jLen; j += 1) {\n        for (k = 0; k < kLen; k += 1) {\n          vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\n          previousValue.i[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\n          previousValue.o[j][k] = vertexValue;\n          vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\n          previousValue.v[j][k] = vertexValue;\n        }\n      }\n    }\n\n    function interpolateShapeCurrentTime() {\n      var frameNum = this.comp.renderedFrame - this.offsetTime;\n      var initTime = this.keyframes[0].t - this.offsetTime;\n      var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\n      var lastFrame = this._caching.lastFrame;\n\n      if (!(lastFrame !== initFrame && (lastFrame < initTime && frameNum < initTime || lastFrame > endTime && frameNum > endTime))) {\n        /// /\n        this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\n        this.interpolateShape(frameNum, this.pv, this._caching); /// /\n      }\n\n      this._caching.lastFrame = frameNum;\n      return this.pv;\n    }\n\n    function resetShape() {\n      this.paths = this.localShapeCollection;\n    }\n\n    function shapesEqual(shape1, shape2) {\n      if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\n        return false;\n      }\n\n      var i;\n      var len = shape1._length;\n\n      for (i = 0; i < len; i += 1) {\n        if (shape1.v[i][0] !== shape2.v[i][0] || shape1.v[i][1] !== shape2.v[i][1] || shape1.o[i][0] !== shape2.o[i][0] || shape1.o[i][1] !== shape2.o[i][1] || shape1.i[i][0] !== shape2.i[i][0] || shape1.i[i][1] !== shape2.i[i][1]) {\n          return false;\n        }\n      }\n\n      return true;\n    }\n\n    function setVValue(newPath) {\n      if (!shapesEqual(this.v, newPath)) {\n        this.v = shapePool.clone(newPath);\n        this.localShapeCollection.releaseShapes();\n        this.localShapeCollection.addShape(this.v);\n        this._mdf = true;\n        this.paths = this.localShapeCollection;\n      }\n    }\n\n    function processEffectsSequence() {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (!this.effectsSequence.length) {\n        this._mdf = false;\n        return;\n      }\n\n      if (this.lock) {\n        this.setVValue(this.pv);\n        return;\n      }\n\n      this.lock = true;\n      this._mdf = false;\n      var finalValue;\n\n      if (this.kf) {\n        finalValue = this.pv;\n      } else if (this.data.ks) {\n        finalValue = this.data.ks.k;\n      } else {\n        finalValue = this.data.pt.k;\n      }\n\n      var i;\n      var len = this.effectsSequence.length;\n\n      for (i = 0; i < len; i += 1) {\n        finalValue = this.effectsSequence[i](finalValue);\n      }\n\n      this.setVValue(finalValue);\n      this.lock = false;\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function ShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.container = elem;\n      this.elem = elem;\n      this.data = data;\n      this.k = false;\n      this.kf = false;\n      this._mdf = false;\n      var pathData = type === 3 ? data.pt.k : data.ks.k;\n      this.v = shapePool.clone(pathData);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.reset = resetShape;\n      this.effectsSequence = [];\n    }\n\n    function addEffect(effectFunction) {\n      this.effectsSequence.push(effectFunction);\n      this.container.addDynamicProperty(this);\n    }\n\n    ShapeProperty.prototype.interpolateShape = interpolateShape;\n    ShapeProperty.prototype.getValue = processEffectsSequence;\n    ShapeProperty.prototype.setVValue = setVValue;\n    ShapeProperty.prototype.addEffect = addEffect;\n\n    function KeyframedShapeProperty(elem, data, type) {\n      this.propType = 'shape';\n      this.comp = elem.comp;\n      this.elem = elem;\n      this.container = elem;\n      this.offsetTime = elem.data.st;\n      this.keyframes = type === 3 ? data.pt.k : data.ks.k;\n      this.keyframesMetadata = [];\n      this.k = true;\n      this.kf = true;\n      var len = this.keyframes[0].s[0].i.length;\n      this.v = shapePool.newElement();\n      this.v.setPathData(this.keyframes[0].s[0].c, len);\n      this.pv = shapePool.clone(this.v);\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n      this.paths = this.localShapeCollection;\n      this.paths.addShape(this.v);\n      this.lastFrame = initFrame;\n      this.reset = resetShape;\n      this._caching = {\n        lastFrame: initFrame,\n        lastIndex: 0\n      };\n      this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\n    }\n\n    KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\n    KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\n    KeyframedShapeProperty.prototype.setVValue = setVValue;\n    KeyframedShapeProperty.prototype.addEffect = addEffect;\n\n    var EllShapeProperty = function () {\n      var cPoint = roundCorner;\n\n      function EllShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 4);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.paths = this.localShapeCollection;\n        this.localShapeCollection.addShape(this.v);\n        this.d = data.d;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertEllToPath();\n        }\n      }\n\n      EllShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertEllToPath();\n          }\n        },\n        convertEllToPath: function convertEllToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var s0 = this.s.v[0] / 2;\n          var s1 = this.s.v[1] / 2;\n\n          var _cw = this.d !== 3;\n\n          var _v = this.v;\n          _v.v[0][0] = p0;\n          _v.v[0][1] = p1 - s1;\n          _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.v[1][1] = p1;\n          _v.v[2][0] = p0;\n          _v.v[2][1] = p1 + s1;\n          _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.v[3][1] = p1;\n          _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.i[0][1] = p1 - s1;\n          _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.i[1][1] = p1 - s1 * cPoint;\n          _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.i[2][1] = p1 + s1;\n          _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.i[3][1] = p1 + s1 * cPoint;\n          _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\n          _v.o[0][1] = p1 - s1;\n          _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\n          _v.o[1][1] = p1 + s1 * cPoint;\n          _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\n          _v.o[2][1] = p1 + s1;\n          _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\n          _v.o[3][1] = p1 - s1 * cPoint;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\n      return EllShapePropertyFactory;\n    }();\n\n    var StarShapeProperty = function () {\n      function StarShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.setPathData(true, 0);\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.data = data;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n\n        if (data.sy === 1) {\n          this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\n          this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\n          this.convertToPath = this.convertStarToPath;\n        } else {\n          this.convertToPath = this.convertPolygonToPath;\n        }\n\n        this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\n        this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\n        this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertToPath();\n        }\n      }\n\n      StarShapePropertyFactory.prototype = {\n        reset: resetShape,\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertToPath();\n          }\n        },\n        convertStarToPath: function convertStarToPath() {\n          var numPts = Math.floor(this.pt.v) * 2;\n          var angle = Math.PI * 2 / numPts;\n          /* this.v.v.length = numPts;\r\n                  this.v.i.length = numPts;\r\n                  this.v.o.length = numPts; */\n\n          var longFlag = true;\n          var longRad = this.or.v;\n          var shortRad = this.ir.v;\n          var longRound = this.os.v;\n          var shortRound = this.is.v;\n          var longPerimSegment = 2 * Math.PI * longRad / (numPts * 2);\n          var shortPerimSegment = 2 * Math.PI * shortRad / (numPts * 2);\n          var i;\n          var rad;\n          var roundness;\n          var perimSegment;\n          var currentAng = -Math.PI / 2;\n          currentAng += this.r.v;\n          var dir = this.data.d === 3 ? -1 : 1;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            rad = longFlag ? longRad : shortRad;\n            roundness = longFlag ? longRound : shortRound;\n            perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            /* this.v.v[i] = [x,y];\r\n                      this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                      this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                      this.v._length = numPts; */\n\n            longFlag = !longFlag;\n            currentAng += angle * dir;\n          }\n        },\n        convertPolygonToPath: function convertPolygonToPath() {\n          var numPts = Math.floor(this.pt.v);\n          var angle = Math.PI * 2 / numPts;\n          var rad = this.or.v;\n          var roundness = this.os.v;\n          var perimSegment = 2 * Math.PI * rad / (numPts * 4);\n          var i;\n          var currentAng = -Math.PI * 0.5;\n          var dir = this.data.d === 3 ? -1 : 1;\n          currentAng += this.r.v;\n          this.v._length = 0;\n\n          for (i = 0; i < numPts; i += 1) {\n            var x = rad * Math.cos(currentAng);\n            var y = rad * Math.sin(currentAng);\n            var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\n            var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\n            x += +this.p.v[0];\n            y += +this.p.v[1];\n            this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\n            currentAng += angle * dir;\n          }\n\n          this.paths.length = 0;\n          this.paths[0] = this.v;\n        }\n      };\n      extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\n      return StarShapePropertyFactory;\n    }();\n\n    var RectShapeProperty = function () {\n      function RectShapePropertyFactory(elem, data) {\n        this.v = shapePool.newElement();\n        this.v.c = true;\n        this.localShapeCollection = shapeCollectionPool.newShapeCollection();\n        this.localShapeCollection.addShape(this.v);\n        this.paths = this.localShapeCollection;\n        this.elem = elem;\n        this.comp = elem.comp;\n        this.frameId = -1;\n        this.d = data.d;\n        this.initDynamicPropertyContainer(elem);\n        this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\n        this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\n        this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\n\n        if (this.dynamicProperties.length) {\n          this.k = true;\n        } else {\n          this.k = false;\n          this.convertRectToPath();\n        }\n      }\n\n      RectShapePropertyFactory.prototype = {\n        convertRectToPath: function convertRectToPath() {\n          var p0 = this.p.v[0];\n          var p1 = this.p.v[1];\n          var v0 = this.s.v[0] / 2;\n          var v1 = this.s.v[1] / 2;\n          var round = bmMin(v0, v1, this.r.v);\n          var cPoint = round * (1 - roundCorner);\n          this.v._length = 0;\n\n          if (this.d === 2 || this.d === 1) {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\n            }\n          } else {\n            this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\n\n            if (round !== 0) {\n              this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\n              this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\n              this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\n              this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\n            } else {\n              this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\n              this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\n              this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\n            }\n          }\n        },\n        getValue: function getValue() {\n          if (this.elem.globalData.frameId === this.frameId) {\n            return;\n          }\n\n          this.frameId = this.elem.globalData.frameId;\n          this.iterateDynamicProperties();\n\n          if (this._mdf) {\n            this.convertRectToPath();\n          }\n        },\n        reset: resetShape\n      };\n      extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\n      return RectShapePropertyFactory;\n    }();\n\n    function getShapeProp(elem, data, type) {\n      var prop;\n\n      if (type === 3 || type === 4) {\n        var dataProp = type === 3 ? data.pt : data.ks;\n        var keys = dataProp.k;\n\n        if (keys.length) {\n          prop = new KeyframedShapeProperty(elem, data, type);\n        } else {\n          prop = new ShapeProperty(elem, data, type);\n        }\n      } else if (type === 5) {\n        prop = new RectShapeProperty(elem, data);\n      } else if (type === 6) {\n        prop = new EllShapeProperty(elem, data);\n      } else if (type === 7) {\n        prop = new StarShapeProperty(elem, data);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    }\n\n    function getConstructorFunction() {\n      return ShapeProperty;\n    }\n\n    function getKeyframedConstructorFunction() {\n      return KeyframedShapeProperty;\n    }\n\n    var ob = {};\n    ob.getShapeProp = getShapeProp;\n    ob.getConstructorFunction = getConstructorFunction;\n    ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\n    return ob;\n  }();\n\n  /*!\r\n   Transformation Matrix v2.0\r\n   (c) Epistemex 2014-2015\r\n   www.epistemex.com\r\n   By Ken Fyrstenberg\r\n   Contributions by leeoniya.\r\n   License: MIT, header required.\r\n   */\n\n  /**\r\n   * 2D transformation matrix object initialized with identity matrix.\r\n   *\r\n   * The matrix can synchronize a canvas context by supplying the context\r\n   * as an argument, or later apply current absolute transform to an\r\n   * existing context.\r\n   *\r\n   * All values are handled as floating point values.\r\n   *\r\n   * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n   * @prop {number} a - scale x\r\n   * @prop {number} b - shear y\r\n   * @prop {number} c - shear x\r\n   * @prop {number} d - scale y\r\n   * @prop {number} e - translate x\r\n   * @prop {number} f - translate y\r\n   * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n   * @constructor\r\n   */\n\n  var Matrix = function () {\n    var _cos = Math.cos;\n    var _sin = Math.sin;\n    var _tan = Math.tan;\n    var _rnd = Math.round;\n\n    function reset() {\n      this.props[0] = 1;\n      this.props[1] = 0;\n      this.props[2] = 0;\n      this.props[3] = 0;\n      this.props[4] = 0;\n      this.props[5] = 1;\n      this.props[6] = 0;\n      this.props[7] = 0;\n      this.props[8] = 0;\n      this.props[9] = 0;\n      this.props[10] = 1;\n      this.props[11] = 0;\n      this.props[12] = 0;\n      this.props[13] = 0;\n      this.props[14] = 0;\n      this.props[15] = 1;\n      return this;\n    }\n\n    function rotate(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function rotateX(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateY(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\n    }\n\n    function rotateZ(angle) {\n      if (angle === 0) {\n        return this;\n      }\n\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\n    }\n\n    function shear(sx, sy) {\n      return this._t(1, sy, sx, 1, 0, 0);\n    }\n\n    function skew(ax, ay) {\n      return this.shear(_tan(ax), _tan(ay));\n    }\n\n    function skewFromAxis(ax, angle) {\n      var mCos = _cos(angle);\n\n      var mSin = _sin(angle);\n\n      return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1); // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\n    }\n\n    function scale(sx, sy, sz) {\n      if (!sz && sz !== 0) {\n        sz = 1;\n      }\n\n      if (sx === 1 && sy === 1 && sz === 1) {\n        return this;\n      }\n\n      return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\n    }\n\n    function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\n      this.props[0] = a;\n      this.props[1] = b;\n      this.props[2] = c;\n      this.props[3] = d;\n      this.props[4] = e;\n      this.props[5] = f;\n      this.props[6] = g;\n      this.props[7] = h;\n      this.props[8] = i;\n      this.props[9] = j;\n      this.props[10] = k;\n      this.props[11] = l;\n      this.props[12] = m;\n      this.props[13] = n;\n      this.props[14] = o;\n      this.props[15] = p;\n      return this;\n    }\n\n    function translate(tx, ty, tz) {\n      tz = tz || 0;\n\n      if (tx !== 0 || ty !== 0 || tz !== 0) {\n        return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\n      }\n\n      return this;\n    }\n\n    function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\n      var _p = this.props;\n\n      if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\n        // NOTE: commenting this condition because TurboFan deoptimizes code when present\n        // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\n        _p[12] = _p[12] * a2 + _p[15] * m2;\n        _p[13] = _p[13] * f2 + _p[15] * n2;\n        _p[14] = _p[14] * k2 + _p[15] * o2;\n        _p[15] *= p2; // }\n\n        this._identityCalculated = false;\n        return this;\n      }\n\n      var a1 = _p[0];\n      var b1 = _p[1];\n      var c1 = _p[2];\n      var d1 = _p[3];\n      var e1 = _p[4];\n      var f1 = _p[5];\n      var g1 = _p[6];\n      var h1 = _p[7];\n      var i1 = _p[8];\n      var j1 = _p[9];\n      var k1 = _p[10];\n      var l1 = _p[11];\n      var m1 = _p[12];\n      var n1 = _p[13];\n      var o1 = _p[14];\n      var p1 = _p[15];\n      /* matrix order (canvas compatible):\r\n           * ace\r\n           * bdf\r\n           * 001\r\n           */\n\n      _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\n      _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\n      _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\n      _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\n      _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\n      _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\n      _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\n      _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\n      _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\n      _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\n      _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\n      _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\n      _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\n      _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\n      _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\n      _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\n      this._identityCalculated = false;\n      return this;\n    }\n\n    function multiply(matrix) {\n      var matrixProps = matrix.props;\n      return this.transform(matrixProps[0], matrixProps[1], matrixProps[2], matrixProps[3], matrixProps[4], matrixProps[5], matrixProps[6], matrixProps[7], matrixProps[8], matrixProps[9], matrixProps[10], matrixProps[11], matrixProps[12], matrixProps[13], matrixProps[14], matrixProps[15]);\n    }\n\n    function isIdentity() {\n      if (!this._identityCalculated) {\n        this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\n        this._identityCalculated = true;\n      }\n\n      return this._identity;\n    }\n\n    function equals(matr) {\n      var i = 0;\n\n      while (i < 16) {\n        if (matr.props[i] !== this.props[i]) {\n          return false;\n        }\n\n        i += 1;\n      }\n\n      return true;\n    }\n\n    function clone(matr) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        matr.props[i] = this.props[i];\n      }\n\n      return matr;\n    }\n\n    function cloneFromProps(props) {\n      var i;\n\n      for (i = 0; i < 16; i += 1) {\n        this.props[i] = props[i];\n      }\n    }\n\n    function applyToPoint(x, y, z) {\n      return {\n        x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\n        y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\n        z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]\n      };\n      /* return {\r\n           x: x * me.a + y * me.c + me.e,\r\n           y: x * me.b + y * me.d + me.f\r\n           }; */\n    }\n\n    function applyToX(x, y, z) {\n      return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\n    }\n\n    function applyToY(x, y, z) {\n      return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\n    }\n\n    function applyToZ(x, y, z) {\n      return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\n    }\n\n    function getInverseMatrix() {\n      var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\n      var a = this.props[5] / determinant;\n      var b = -this.props[1] / determinant;\n      var c = -this.props[4] / determinant;\n      var d = this.props[0] / determinant;\n      var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\n      var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\n      var inverseMatrix = new Matrix();\n      inverseMatrix.props[0] = a;\n      inverseMatrix.props[1] = b;\n      inverseMatrix.props[4] = c;\n      inverseMatrix.props[5] = d;\n      inverseMatrix.props[12] = e;\n      inverseMatrix.props[13] = f;\n      return inverseMatrix;\n    }\n\n    function inversePoint(pt) {\n      var inverseMatrix = this.getInverseMatrix();\n      return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\n    }\n\n    function inversePoints(pts) {\n      var i;\n      var len = pts.length;\n      var retPts = [];\n\n      for (i = 0; i < len; i += 1) {\n        retPts[i] = inversePoint(pts[i]);\n      }\n\n      return retPts;\n    }\n\n    function applyToTriplePoints(pt1, pt2, pt3) {\n      var arr = createTypedArray('float32', 6);\n\n      if (this.isIdentity()) {\n        arr[0] = pt1[0];\n        arr[1] = pt1[1];\n        arr[2] = pt2[0];\n        arr[3] = pt2[1];\n        arr[4] = pt3[0];\n        arr[5] = pt3[1];\n      } else {\n        var p0 = this.props[0];\n        var p1 = this.props[1];\n        var p4 = this.props[4];\n        var p5 = this.props[5];\n        var p12 = this.props[12];\n        var p13 = this.props[13];\n        arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\n        arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\n        arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\n        arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\n        arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\n        arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\n      }\n\n      return arr;\n    }\n\n    function applyToPointArray(x, y, z) {\n      var arr;\n\n      if (this.isIdentity()) {\n        arr = [x, y, z];\n      } else {\n        arr = [x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12], x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13], x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14]];\n      }\n\n      return arr;\n    }\n\n    function applyToPointStringified(x, y) {\n      if (this.isIdentity()) {\n        return x + ',' + y;\n      }\n\n      var _p = this.props;\n      return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\n    }\n\n    function toCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var i = 0;\n      var props = this.props;\n      var cssValue = 'matrix3d(';\n      var v = 10000;\n\n      while (i < 16) {\n        cssValue += _rnd(props[i] * v) / v;\n        cssValue += i === 15 ? ')' : ',';\n        i += 1;\n      }\n\n      return cssValue;\n    }\n\n    function roundMatrixProperty(val) {\n      var v = 10000;\n\n      if (val < 0.000001 && val > 0 || val > -0.000001 && val < 0) {\n        return _rnd(val * v) / v;\n      }\n\n      return val;\n    }\n\n    function to2dCSS() {\n      // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\n\n      /* if(this.isIdentity()) {\r\n              return '';\r\n          } */\n      var props = this.props;\n\n      var _a = roundMatrixProperty(props[0]);\n\n      var _b = roundMatrixProperty(props[1]);\n\n      var _c = roundMatrixProperty(props[4]);\n\n      var _d = roundMatrixProperty(props[5]);\n\n      var _e = roundMatrixProperty(props[12]);\n\n      var _f = roundMatrixProperty(props[13]);\n\n      return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\n    }\n\n    return function () {\n      this.reset = reset;\n      this.rotate = rotate;\n      this.rotateX = rotateX;\n      this.rotateY = rotateY;\n      this.rotateZ = rotateZ;\n      this.skew = skew;\n      this.skewFromAxis = skewFromAxis;\n      this.shear = shear;\n      this.scale = scale;\n      this.setTransform = setTransform;\n      this.translate = translate;\n      this.transform = transform;\n      this.multiply = multiply;\n      this.applyToPoint = applyToPoint;\n      this.applyToX = applyToX;\n      this.applyToY = applyToY;\n      this.applyToZ = applyToZ;\n      this.applyToPointArray = applyToPointArray;\n      this.applyToTriplePoints = applyToTriplePoints;\n      this.applyToPointStringified = applyToPointStringified;\n      this.toCSS = toCSS;\n      this.to2dCSS = to2dCSS;\n      this.clone = clone;\n      this.cloneFromProps = cloneFromProps;\n      this.equals = equals;\n      this.inversePoints = inversePoints;\n      this.inversePoint = inversePoint;\n      this.getInverseMatrix = getInverseMatrix;\n      this._t = this.transform;\n      this.isIdentity = isIdentity;\n      this._identity = true;\n      this._identityCalculated = false;\n      this.props = createTypedArray('float32', 16);\n      this.reset();\n    };\n  }();\n\n  function _typeof$3(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$3 = function _typeof(obj) { return typeof obj; }; } else { _typeof$3 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$3(obj); }\n  var lottie = {};\n  var standalone = '__[STANDALONE]__';\n  var animationData = '__[ANIMATIONDATA]__';\n  var renderer = '';\n\n  function setLocation(href) {\n    setLocationHref(href);\n  }\n\n  function searchAnimations() {\n    if (standalone === true) {\n      animationManager.searchAnimations(animationData, standalone, renderer);\n    } else {\n      animationManager.searchAnimations();\n    }\n  }\n\n  function setSubframeRendering(flag) {\n    setSubframeEnabled(flag);\n  }\n\n  function setPrefix(prefix) {\n    setIdPrefix(prefix);\n  }\n\n  function loadAnimation(params) {\n    if (standalone === true) {\n      params.animationData = JSON.parse(animationData);\n    }\n\n    return animationManager.loadAnimation(params);\n  }\n\n  function setQuality(value) {\n    if (typeof value === 'string') {\n      switch (value) {\n        case 'high':\n          setDefaultCurveSegments(200);\n          break;\n\n        default:\n        case 'medium':\n          setDefaultCurveSegments(50);\n          break;\n\n        case 'low':\n          setDefaultCurveSegments(10);\n          break;\n      }\n    } else if (!isNaN(value) && value > 1) {\n      setDefaultCurveSegments(value);\n    }\n\n    if (getDefaultCurveSegments() >= 50) {\n      roundValues(false);\n    } else {\n      roundValues(true);\n    }\n  }\n\n  function inBrowser() {\n    return typeof navigator !== 'undefined';\n  }\n\n  function installPlugin(type, plugin) {\n    if (type === 'expressions') {\n      setExpressionsPlugin(plugin);\n    }\n  }\n\n  function getFactory(name) {\n    switch (name) {\n      case 'propertyFactory':\n        return PropertyFactory;\n\n      case 'shapePropertyFactory':\n        return ShapePropertyFactory;\n\n      case 'matrix':\n        return Matrix;\n\n      default:\n        return null;\n    }\n  }\n\n  lottie.play = animationManager.play;\n  lottie.pause = animationManager.pause;\n  lottie.setLocationHref = setLocation;\n  lottie.togglePause = animationManager.togglePause;\n  lottie.setSpeed = animationManager.setSpeed;\n  lottie.setDirection = animationManager.setDirection;\n  lottie.stop = animationManager.stop;\n  lottie.searchAnimations = searchAnimations;\n  lottie.registerAnimation = animationManager.registerAnimation;\n  lottie.loadAnimation = loadAnimation;\n  lottie.setSubframeRendering = setSubframeRendering;\n  lottie.resize = animationManager.resize; // lottie.start = start;\n\n  lottie.goToAndStop = animationManager.goToAndStop;\n  lottie.destroy = animationManager.destroy;\n  lottie.setQuality = setQuality;\n  lottie.inBrowser = inBrowser;\n  lottie.installPlugin = installPlugin;\n  lottie.freeze = animationManager.freeze;\n  lottie.unfreeze = animationManager.unfreeze;\n  lottie.setVolume = animationManager.setVolume;\n  lottie.mute = animationManager.mute;\n  lottie.unmute = animationManager.unmute;\n  lottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\n  lottie.useWebWorker = setWebWorker;\n  lottie.setIDPrefix = setPrefix;\n  lottie.__getFactory = getFactory;\n  lottie.version = '5.12.2';\n\n  function checkReady() {\n    if (document.readyState === 'complete') {\n      clearInterval(readyStateCheckInterval);\n      searchAnimations();\n    }\n  }\n\n  function getQueryVariable(variable) {\n    var vars = queryString.split('&');\n\n    for (var i = 0; i < vars.length; i += 1) {\n      var pair = vars[i].split('=');\n\n      if (decodeURIComponent(pair[0]) == variable) {\n        // eslint-disable-line eqeqeq\n        return decodeURIComponent(pair[1]);\n      }\n    }\n\n    return null;\n  }\n\n  var queryString = '';\n\n  if (standalone) {\n    var scripts = document.getElementsByTagName('script');\n    var index = scripts.length - 1;\n    var myScript = scripts[index] || {\n      src: ''\n    };\n    queryString = myScript.src ? myScript.src.replace(/^[^\\?]+\\??/, '') : ''; // eslint-disable-line no-useless-escape\n\n    renderer = getQueryVariable('renderer');\n  }\n\n  var readyStateCheckInterval = setInterval(checkReady, 100); // this adds bodymovin to the window object for backwards compatibility\n\n  try {\n    if (!((typeof exports === \"undefined\" ? \"undefined\" : _typeof$3(exports)) === 'object' && typeof module !== 'undefined') && !(typeof define === 'function' && define.amd) // eslint-disable-line no-undef\n    ) {\n      window.bodymovin = lottie;\n    }\n  } catch (err) {//\n  }\n\n  var ShapeModifiers = function () {\n    var ob = {};\n    var modifiers = {};\n    ob.registerModifier = registerModifier;\n    ob.getModifier = getModifier;\n\n    function registerModifier(nm, factory) {\n      if (!modifiers[nm]) {\n        modifiers[nm] = factory;\n      }\n    }\n\n    function getModifier(nm, elem, data) {\n      return new modifiers[nm](elem, data);\n    }\n\n    return ob;\n  }();\n\n  function ShapeModifier() {}\n\n  ShapeModifier.prototype.initModifierProperties = function () {};\n\n  ShapeModifier.prototype.addShapeToModifier = function () {};\n\n  ShapeModifier.prototype.addShape = function (data) {\n    if (!this.closed) {\n      // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\n      data.sh.container.addDynamicProperty(data.sh);\n      var shapeData = {\n        shape: data.sh,\n        data: data,\n        localShapeCollection: shapeCollectionPool.newShapeCollection()\n      };\n      this.shapes.push(shapeData);\n      this.addShapeToModifier(shapeData);\n\n      if (this._isAnimated) {\n        data.setAsAnimated();\n      }\n    }\n  };\n\n  ShapeModifier.prototype.init = function (elem, data) {\n    this.shapes = [];\n    this.elem = elem;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, data);\n    this.frameId = initialDefaultFrame;\n    this.closed = false;\n    this.k = false;\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  ShapeModifier.prototype.processKeys = function () {\n    if (this.elem.globalData.frameId === this.frameId) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  extendPrototype([DynamicPropertyContainer], ShapeModifier);\n\n  function TrimModifier() {}\n\n  extendPrototype([ShapeModifier], TrimModifier);\n\n  TrimModifier.prototype.initModifierProperties = function (elem, data) {\n    this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\n    this.sValue = 0;\n    this.eValue = 0;\n    this.getValue = this.processKeys;\n    this.m = data.m;\n    this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\n  };\n\n  TrimModifier.prototype.addShapeToModifier = function (shapeData) {\n    shapeData.pathsData = [];\n  };\n\n  TrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\n    var segments = [];\n\n    if (e <= 1) {\n      segments.push({\n        s: s,\n        e: e\n      });\n    } else if (s >= 1) {\n      segments.push({\n        s: s - 1,\n        e: e - 1\n      });\n    } else {\n      segments.push({\n        s: s,\n        e: 1\n      });\n      segments.push({\n        s: 0,\n        e: e - 1\n      });\n    }\n\n    var shapeSegments = [];\n    var i;\n    var len = segments.length;\n    var segmentOb;\n\n    for (i = 0; i < len; i += 1) {\n      segmentOb = segments[i];\n\n      if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\n        var shapeS;\n        var shapeE;\n\n        if (segmentOb.s * totalModifierLength <= addedLength) {\n          shapeS = 0;\n        } else {\n          shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\n          shapeE = 1;\n        } else {\n          shapeE = (segmentOb.e * totalModifierLength - addedLength) / shapeLength;\n        }\n\n        shapeSegments.push([shapeS, shapeE]);\n      }\n    }\n\n    if (!shapeSegments.length) {\n      shapeSegments.push([0, 0]);\n    }\n\n    return shapeSegments;\n  };\n\n  TrimModifier.prototype.releasePathsData = function (pathsData) {\n    var i;\n    var len = pathsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      segmentsLengthPool.release(pathsData[i]);\n    }\n\n    pathsData.length = 0;\n    return pathsData;\n  };\n\n  TrimModifier.prototype.processShapes = function (_isFirstFrame) {\n    var s;\n    var e;\n\n    if (this._mdf || _isFirstFrame) {\n      var o = this.o.v % 360 / 360;\n\n      if (o < 0) {\n        o += 1;\n      }\n\n      if (this.s.v > 1) {\n        s = 1 + o;\n      } else if (this.s.v < 0) {\n        s = 0 + o;\n      } else {\n        s = this.s.v + o;\n      }\n\n      if (this.e.v > 1) {\n        e = 1 + o;\n      } else if (this.e.v < 0) {\n        e = 0 + o;\n      } else {\n        e = this.e.v + o;\n      }\n\n      if (s > e) {\n        var _s = s;\n        s = e;\n        e = _s;\n      }\n\n      s = Math.round(s * 10000) * 0.0001;\n      e = Math.round(e * 10000) * 0.0001;\n      this.sValue = s;\n      this.eValue = e;\n    } else {\n      s = this.sValue;\n      e = this.eValue;\n    }\n\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var pathsData;\n    var pathData;\n    var totalShapeLength;\n    var totalModifierLength = 0;\n\n    if (e === s) {\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].localShapeCollection.releaseShapes();\n        this.shapes[i].shape._mdf = true;\n        this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\n\n        if (this._mdf) {\n          this.shapes[i].pathsData.length = 0;\n        }\n      }\n    } else if (!(e === 1 && s === 0 || e === 0 && s === 1)) {\n      var segments = [];\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i]; // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\n\n        if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\n          shapeData.shape.paths = shapeData.localShapeCollection;\n        } else {\n          shapePaths = shapeData.shape.paths;\n          jLen = shapePaths._length;\n          totalShapeLength = 0;\n\n          if (!shapeData.shape._mdf && shapeData.pathsData.length) {\n            totalShapeLength = shapeData.totalShapeLength;\n          } else {\n            pathsData = this.releasePathsData(shapeData.pathsData);\n\n            for (j = 0; j < jLen; j += 1) {\n              pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\n              pathsData.push(pathData);\n              totalShapeLength += pathData.totalLength;\n            }\n\n            shapeData.totalShapeLength = totalShapeLength;\n            shapeData.pathsData = pathsData;\n          }\n\n          totalModifierLength += totalShapeLength;\n          shapeData.shape._mdf = true;\n        }\n      }\n\n      var shapeS = s;\n      var shapeE = e;\n      var addedLength = 0;\n      var edges;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shapeData = this.shapes[i];\n\n        if (shapeData.shape._mdf) {\n          localShapeCollection = shapeData.localShapeCollection;\n          localShapeCollection.releaseShapes(); // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\n\n          if (this.m === 2 && len > 1) {\n            edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\n            addedLength += shapeData.totalShapeLength;\n          } else {\n            edges = [[shapeS, shapeE]];\n          }\n\n          jLen = edges.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            shapeS = edges[j][0];\n            shapeE = edges[j][1];\n            segments.length = 0;\n\n            if (shapeE <= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength * shapeE\n              });\n            } else if (shapeS >= 1) {\n              segments.push({\n                s: shapeData.totalShapeLength * (shapeS - 1),\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            } else {\n              segments.push({\n                s: shapeData.totalShapeLength * shapeS,\n                e: shapeData.totalShapeLength\n              });\n              segments.push({\n                s: 0,\n                e: shapeData.totalShapeLength * (shapeE - 1)\n              });\n            }\n\n            var newShapesData = this.addShapes(shapeData, segments[0]);\n\n            if (segments[0].s !== segments[0].e) {\n              if (segments.length > 1) {\n                var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\n\n                if (lastShapeInCollection.c) {\n                  var lastShape = newShapesData.pop();\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1], lastShape);\n                } else {\n                  this.addPaths(newShapesData, localShapeCollection);\n                  newShapesData = this.addShapes(shapeData, segments[1]);\n                }\n              }\n\n              this.addPaths(newShapesData, localShapeCollection);\n            }\n          }\n\n          shapeData.shape.paths = localShapeCollection;\n        }\n      }\n    } else if (this._mdf) {\n      for (i = 0; i < len; i += 1) {\n        // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\n        // Don't remove this even if it's losing cached info.\n        this.shapes[i].pathsData.length = 0;\n        this.shapes[i].shape._mdf = true;\n      }\n    }\n  };\n\n  TrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\n    var i;\n    var len = newPaths.length;\n\n    for (i = 0; i < len; i += 1) {\n      localShapeCollection.addShape(newPaths[i]);\n    }\n  };\n\n  TrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\n    shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\n    shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\n    }\n\n    shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\n    shapePath.setXYAt(points[1], points[5], 'o', pos);\n    shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\n\n    if (newShape) {\n      shapePath.setXYAt(points[0], points[4], 'v', pos);\n    }\n\n    shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\n  };\n\n  TrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\n    var pathsData = shapeData.pathsData;\n    var shapePaths = shapeData.shape.paths.shapes;\n    var i;\n    var len = shapeData.shape.paths._length;\n    var j;\n    var jLen;\n    var addedLength = 0;\n    var currentLengthData;\n    var segmentCount;\n    var lengths;\n    var segment;\n    var shapes = [];\n    var initPos;\n    var newShape = true;\n\n    if (!shapePath) {\n      shapePath = shapePool.newElement();\n      segmentCount = 0;\n      initPos = 0;\n    } else {\n      segmentCount = shapePath._length;\n      initPos = shapePath._length;\n    }\n\n    shapes.push(shapePath);\n\n    for (i = 0; i < len; i += 1) {\n      lengths = pathsData[i].lengths;\n      shapePath.c = shapePaths[i].c;\n      jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\n\n      for (j = 1; j < jLen; j += 1) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\n          addedLength += currentLengthData.addedLength;\n          shapePath.c = false;\n        } else if (addedLength > shapeSegment.e) {\n          shapePath.c = false;\n          break;\n        } else {\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n\n          addedLength += currentLengthData.addedLength;\n          segmentCount += 1;\n        }\n      }\n\n      if (shapePaths[i].c && lengths.length) {\n        currentLengthData = lengths[j - 1];\n\n        if (addedLength <= shapeSegment.e) {\n          var segmentLength = lengths[j - 1].addedLength;\n\n          if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\n            this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\n            newShape = false;\n          } else {\n            segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\n            this.addSegmentFromArray(segment, shapePath, segmentCount, newShape); // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\n\n            newShape = false;\n            shapePath.c = false;\n          }\n        } else {\n          shapePath.c = false;\n        }\n\n        addedLength += currentLengthData.addedLength;\n        segmentCount += 1;\n      }\n\n      if (shapePath._length) {\n        shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\n        shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\n      }\n\n      if (addedLength > shapeSegment.e) {\n        break;\n      }\n\n      if (i < len - 1) {\n        shapePath = shapePool.newElement();\n        newShape = true;\n        shapes.push(shapePath);\n        segmentCount = 0;\n      }\n    }\n\n    return shapes;\n  };\n\n  function PuckerAndBloatModifier() {}\n\n  extendPrototype([ShapeModifier], PuckerAndBloatModifier);\n\n  PuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this._isAnimated = !!this.amount.effectsSequence.length;\n  };\n\n  PuckerAndBloatModifier.prototype.processPath = function (path, amount) {\n    var percent = amount / 100;\n    var centerPoint = [0, 0];\n    var pathLength = path._length;\n    var i = 0;\n\n    for (i = 0; i < pathLength; i += 1) {\n      centerPoint[0] += path.v[i][0];\n      centerPoint[1] += path.v[i][1];\n    }\n\n    centerPoint[0] /= pathLength;\n    centerPoint[1] /= pathLength;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < pathLength; i += 1) {\n      vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\n      vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\n      oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\n      oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\n      iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\n      iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\n      clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\n    }\n\n    return clonedPath;\n  };\n\n  PuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  var TransformPropertyFactory = function () {\n    var defaultVector = [0, 0];\n\n    function applyToMatrix(mat) {\n      var _mdf = this._mdf;\n      this.iterateDynamicProperties();\n      this._mdf = this._mdf || _mdf;\n\n      if (this.a) {\n        mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n      }\n\n      if (this.s) {\n        mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n      }\n\n      if (this.sk) {\n        mat.skewFromAxis(-this.sk.v, this.sa.v);\n      }\n\n      if (this.r) {\n        mat.rotate(-this.r.v);\n      } else {\n        mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n      }\n\n      if (this.data.p.s) {\n        if (this.data.p.z) {\n          mat.translate(this.px.v, this.py.v, -this.pz.v);\n        } else {\n          mat.translate(this.px.v, this.py.v, 0);\n        }\n      } else {\n        mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n      }\n    }\n\n    function processKeys(forceRender) {\n      if (this.elem.globalData.frameId === this.frameId) {\n        return;\n      }\n\n      if (this._isDirty) {\n        this.precalculateMatrix();\n        this._isDirty = false;\n      }\n\n      this.iterateDynamicProperties();\n\n      if (this._mdf || forceRender) {\n        var frameRate;\n        this.v.cloneFromProps(this.pre.props);\n\n        if (this.appliedTransformations < 1) {\n          this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        }\n\n        if (this.appliedTransformations < 2) {\n          this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        }\n\n        if (this.sk && this.appliedTransformations < 3) {\n          this.v.skewFromAxis(-this.sk.v, this.sa.v);\n        }\n\n        if (this.r && this.appliedTransformations < 4) {\n          this.v.rotate(-this.r.v);\n        } else if (!this.r && this.appliedTransformations < 4) {\n          this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        }\n\n        if (this.autoOriented) {\n          var v1;\n          var v2;\n          frameRate = this.elem.globalData.frameRate;\n\n          if (this.p && this.p.keyframes && this.p.getValueAtTime) {\n            if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\n              v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\n              v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\n            } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\n              v1 = this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length - 1].t / frameRate, 0);\n              v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\n            } else {\n              v1 = this.p.pv;\n              v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\n            }\n          } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\n            v1 = [];\n            v2 = [];\n            var px = this.px;\n            var py = this.py;\n\n            if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\n              v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\n              v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\n              v2[0] = px.getValueAtTime(px.keyframes[0].t / frameRate, 0);\n              v2[1] = py.getValueAtTime(py.keyframes[0].t / frameRate, 0);\n            } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\n              v1[0] = px.getValueAtTime(px.keyframes[px.keyframes.length - 1].t / frameRate, 0);\n              v1[1] = py.getValueAtTime(py.keyframes[py.keyframes.length - 1].t / frameRate, 0);\n              v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\n              v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\n            } else {\n              v1 = [px.pv, py.pv];\n              v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\n              v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\n            }\n          } else {\n            v2 = defaultVector;\n            v1 = v2;\n          }\n\n          this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\n        }\n\n        if (this.data.p && this.data.p.s) {\n          if (this.data.p.z) {\n            this.v.translate(this.px.v, this.py.v, -this.pz.v);\n          } else {\n            this.v.translate(this.px.v, this.py.v, 0);\n          }\n        } else {\n          this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\n        }\n      }\n\n      this.frameId = this.elem.globalData.frameId;\n    }\n\n    function precalculateMatrix() {\n      this.appliedTransformations = 0;\n      this.pre.reset();\n\n      if (!this.a.effectsSequence.length) {\n        this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\n        this.appliedTransformations = 1;\n      } else {\n        return;\n      }\n\n      if (!this.s.effectsSequence.length) {\n        this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\n        this.appliedTransformations = 2;\n      } else {\n        return;\n      }\n\n      if (this.sk) {\n        if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\n          this.pre.skewFromAxis(-this.sk.v, this.sa.v);\n          this.appliedTransformations = 3;\n        } else {\n          return;\n        }\n      }\n\n      if (this.r) {\n        if (!this.r.effectsSequence.length) {\n          this.pre.rotate(-this.r.v);\n          this.appliedTransformations = 4;\n        }\n      } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\n        this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]);\n        this.appliedTransformations = 4;\n      }\n    }\n\n    function autoOrient() {//\n      // var prevP = this.getValueAtTime();\n    }\n\n    function addDynamicProperty(prop) {\n      this._addDynamicProperty(prop);\n\n      this.elem.addDynamicProperty(prop);\n      this._isDirty = true;\n    }\n\n    function TransformProperty(elem, data, container) {\n      this.elem = elem;\n      this.frameId = -1;\n      this.propType = 'transform';\n      this.data = data;\n      this.v = new Matrix(); // Precalculated matrix with non animated properties\n\n      this.pre = new Matrix();\n      this.appliedTransformations = 0;\n      this.initDynamicPropertyContainer(container || elem);\n\n      if (data.p && data.p.s) {\n        this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\n        this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\n\n        if (data.p.z) {\n          this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\n        }\n      } else {\n        this.p = PropertyFactory.getProp(elem, data.p || {\n          k: [0, 0, 0]\n        }, 1, 0, this);\n      }\n\n      if (data.rx) {\n        this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\n        this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\n        this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\n\n        if (data.or.k[0].ti) {\n          var i;\n          var len = data.or.k.length;\n\n          for (i = 0; i < len; i += 1) {\n            data.or.k[i].to = null;\n            data.or.k[i].ti = null;\n          }\n        }\n\n        this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this); // sh Indicates it needs to be capped between -180 and 180\n\n        this.or.sh = true;\n      } else {\n        this.r = PropertyFactory.getProp(elem, data.r || {\n          k: 0\n        }, 0, degToRads, this);\n      }\n\n      if (data.sk) {\n        this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\n        this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\n      }\n\n      this.a = PropertyFactory.getProp(elem, data.a || {\n        k: [0, 0, 0]\n      }, 1, 0, this);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: [100, 100, 100]\n      }, 1, 0.01, this); // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\n\n      if (data.o) {\n        this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\n      } else {\n        this.o = {\n          _mdf: false,\n          v: 1\n        };\n      }\n\n      this._isDirty = true;\n\n      if (!this.dynamicProperties.length) {\n        this.getValue(true);\n      }\n    }\n\n    TransformProperty.prototype = {\n      applyToMatrix: applyToMatrix,\n      getValue: processKeys,\n      precalculateMatrix: precalculateMatrix,\n      autoOrient: autoOrient\n    };\n    extendPrototype([DynamicPropertyContainer], TransformProperty);\n    TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\n    TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\n\n    function getTransformProperty(elem, data, container) {\n      return new TransformProperty(elem, data, container);\n    }\n\n    return {\n      getTransformProperty: getTransformProperty\n    };\n  }();\n\n  function RepeaterModifier() {}\n\n  extendPrototype([ShapeModifier], RepeaterModifier);\n\n  RepeaterModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\n    this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\n    this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\n    this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\n    this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\n    this.data = data;\n\n    if (!this.dynamicProperties.length) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = !!this.dynamicProperties.length;\n    this.pMatrix = new Matrix();\n    this.rMatrix = new Matrix();\n    this.sMatrix = new Matrix();\n    this.tMatrix = new Matrix();\n    this.matrix = new Matrix();\n  };\n\n  RepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\n    var dir = inv ? -1 : 1;\n    var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\n    var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\n    pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\n    rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    rMatrix.rotate(-transform.r.v * dir * perc);\n    rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n    sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\n    sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\n    sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\n  };\n\n  RepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\n    this.elem = elem;\n    this.arr = arr;\n    this.pos = pos;\n    this.elemsData = elemsData;\n    this._currentCopies = 0;\n    this._elements = [];\n    this._groups = [];\n    this.frameId = -1;\n    this.initDynamicPropertyContainer(elem);\n    this.initModifierProperties(elem, arr[pos]);\n\n    while (pos > 0) {\n      pos -= 1; // this._elements.unshift(arr.splice(pos,1)[0]);\n\n      this._elements.unshift(arr[pos]);\n    }\n\n    if (this.dynamicProperties.length) {\n      this.k = true;\n    } else {\n      this.getValue(true);\n    }\n  };\n\n  RepeaterModifier.prototype.resetElements = function (elements) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._processed = false;\n\n      if (elements[i].ty === 'gr') {\n        this.resetElements(elements[i].it);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.cloneElements = function (elements) {\n    var newElements = JSON.parse(JSON.stringify(elements));\n    this.resetElements(newElements);\n    return newElements;\n  };\n\n  RepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\n    var i;\n    var len = elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      elements[i]._render = renderFlag;\n\n      if (elements[i].ty === 'gr') {\n        this.changeGroupRender(elements[i].it, renderFlag);\n      }\n    }\n  };\n\n  RepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\n    var items;\n    var itemsTransform;\n    var i;\n    var dir;\n    var cont;\n    var hasReloaded = false;\n\n    if (this._mdf || _isFirstFrame) {\n      var copies = Math.ceil(this.c.v);\n\n      if (this._groups.length < copies) {\n        while (this._groups.length < copies) {\n          var group = {\n            it: this.cloneElements(this._elements),\n            ty: 'gr'\n          };\n          group.it.push({\n            a: {\n              a: 0,\n              ix: 1,\n              k: [0, 0]\n            },\n            nm: 'Transform',\n            o: {\n              a: 0,\n              ix: 7,\n              k: 100\n            },\n            p: {\n              a: 0,\n              ix: 2,\n              k: [0, 0]\n            },\n            r: {\n              a: 1,\n              ix: 6,\n              k: [{\n                s: 0,\n                e: 0,\n                t: 0\n              }, {\n                s: 0,\n                e: 0,\n                t: 1\n              }]\n            },\n            s: {\n              a: 0,\n              ix: 3,\n              k: [100, 100]\n            },\n            sa: {\n              a: 0,\n              ix: 5,\n              k: 0\n            },\n            sk: {\n              a: 0,\n              ix: 4,\n              k: 0\n            },\n            ty: 'tr'\n          });\n          this.arr.splice(0, 0, group);\n\n          this._groups.splice(0, 0, group);\n\n          this._currentCopies += 1;\n        }\n\n        this.elem.reloadShapes();\n        hasReloaded = true;\n      }\n\n      cont = 0;\n      var renderFlag;\n\n      for (i = 0; i <= this._groups.length - 1; i += 1) {\n        renderFlag = cont < copies;\n        this._groups[i]._render = renderFlag;\n        this.changeGroupRender(this._groups[i].it, renderFlag);\n\n        if (!renderFlag) {\n          var elems = this.elemsData[i].it;\n          var transformData = elems[elems.length - 1];\n\n          if (transformData.transform.op.v !== 0) {\n            transformData.transform.op._mdf = true;\n            transformData.transform.op.v = 0;\n          } else {\n            transformData.transform.op._mdf = false;\n          }\n        }\n\n        cont += 1;\n      }\n\n      this._currentCopies = copies; /// /\n\n      var offset = this.o.v;\n      var offsetModulo = offset % 1;\n      var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\n      var pProps = this.pMatrix.props;\n      var rProps = this.rMatrix.props;\n      var sProps = this.sMatrix.props;\n      this.pMatrix.reset();\n      this.rMatrix.reset();\n      this.sMatrix.reset();\n      this.tMatrix.reset();\n      this.matrix.reset();\n      var iteration = 0;\n\n      if (offset > 0) {\n        while (iteration < roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          iteration += 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\n          iteration += offsetModulo;\n        }\n      } else if (offset < 0) {\n        while (iteration > roundOffset) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\n          iteration -= 1;\n        }\n\n        if (offsetModulo) {\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\n          iteration -= offsetModulo;\n        }\n      }\n\n      i = this.data.m === 1 ? 0 : this._currentCopies - 1;\n      dir = this.data.m === 1 ? 1 : -1;\n      cont = this._currentCopies;\n      var j;\n      var jLen;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        jLen = itemsTransform.length;\n        items[items.length - 1].transform.mProps._mdf = true;\n        items[items.length - 1].transform.op._mdf = true;\n        items[items.length - 1].transform.op.v = this._currentCopies === 1 ? this.so.v : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\n\n        if (iteration !== 0) {\n          if (i !== 0 && dir === 1 || i !== this._currentCopies - 1 && dir === -1) {\n            this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\n          }\n\n          this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\n          this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\n          this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n\n          this.matrix.reset();\n        } else {\n          this.matrix.reset();\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsTransform[j] = this.matrix.props[j];\n          }\n        }\n\n        iteration += 1;\n        cont -= 1;\n        i += dir;\n      }\n    } else {\n      cont = this._currentCopies;\n      i = 0;\n      dir = 1;\n\n      while (cont) {\n        items = this.elemsData[i].it;\n        itemsTransform = items[items.length - 1].transform.mProps.v.props;\n        items[items.length - 1].transform.mProps._mdf = false;\n        items[items.length - 1].transform.op._mdf = false;\n        cont -= 1;\n        i += dir;\n      }\n    }\n\n    return hasReloaded;\n  };\n\n  RepeaterModifier.prototype.addShape = function () {};\n\n  function RoundCornersModifier() {}\n\n  extendPrototype([ShapeModifier], RoundCornersModifier);\n\n  RoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this._isAnimated = !!this.rd.effectsSequence.length;\n  };\n\n  RoundCornersModifier.prototype.processPath = function (path, round) {\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n    var i;\n    var len = path._length;\n    var currentV;\n    var currentI;\n    var currentO;\n    var closerV;\n    var distance;\n    var newPosPerc;\n    var index = 0;\n    var vX;\n    var vY;\n    var oX;\n    var oY;\n    var iX;\n    var iY;\n\n    for (i = 0; i < len; i += 1) {\n      currentV = path.v[i];\n      currentO = path.o[i];\n      currentI = path.i[i];\n\n      if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\n        if ((i === 0 || i === len - 1) && !path.c) {\n          clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\n          /* clonedPath.v[index] = currentV;\r\n                  clonedPath.o[index] = currentO;\r\n                  clonedPath.i[index] = currentI; */\n\n          index += 1;\n        } else {\n          if (i === 0) {\n            closerV = path.v[len - 1];\n          } else {\n            closerV = path.v[i - 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = iX;\n          iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\n          vY = iY;\n          oX = vX - (vX - currentV[0]) * roundCorner;\n          oY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n\n          if (i === len - 1) {\n            closerV = path.v[0];\n          } else {\n            closerV = path.v[i + 1];\n          }\n\n          distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\n          newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\n          oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\n          vX = oX;\n          oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\n          vY = oY;\n          iX = vX - (vX - currentV[0]) * roundCorner;\n          iY = vY - (vY - currentV[1]) * roundCorner;\n          clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\n          index += 1;\n        }\n      } else {\n        clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\n        index += 1;\n      }\n    }\n\n    return clonedPath;\n  };\n\n  RoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var rd = this.rd.v;\n\n    if (rd !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function floatEqual(a, b) {\n    return Math.abs(a - b) * 100000 <= Math.min(Math.abs(a), Math.abs(b));\n  }\n\n  function floatZero(f) {\n    return Math.abs(f) <= 0.00001;\n  }\n\n  function lerp(p0, p1, amount) {\n    return p0 * (1 - amount) + p1 * amount;\n  }\n\n  function lerpPoint(p0, p1, amount) {\n    return [lerp(p0[0], p1[0], amount), lerp(p0[1], p1[1], amount)];\n  }\n\n  function quadRoots(a, b, c) {\n    // no root\n    if (a === 0) return [];\n    var s = b * b - 4 * a * c; // Complex roots\n\n    if (s < 0) return [];\n    var singleRoot = -b / (2 * a); // 1 root\n\n    if (s === 0) return [singleRoot];\n    var delta = Math.sqrt(s) / (2 * a); // 2 roots\n\n    return [singleRoot - delta, singleRoot + delta];\n  }\n\n  function polynomialCoefficients(p0, p1, p2, p3) {\n    return [-p0 + 3 * p1 - 3 * p2 + p3, 3 * p0 - 6 * p1 + 3 * p2, -3 * p0 + 3 * p1, p0];\n  }\n\n  function singlePoint(p) {\n    return new PolynomialBezier(p, p, p, p, false);\n  }\n\n  function PolynomialBezier(p0, p1, p2, p3, linearize) {\n    if (linearize && pointEqual(p0, p1)) {\n      p1 = lerpPoint(p0, p3, 1 / 3);\n    }\n\n    if (linearize && pointEqual(p2, p3)) {\n      p2 = lerpPoint(p0, p3, 2 / 3);\n    }\n\n    var coeffx = polynomialCoefficients(p0[0], p1[0], p2[0], p3[0]);\n    var coeffy = polynomialCoefficients(p0[1], p1[1], p2[1], p3[1]);\n    this.a = [coeffx[0], coeffy[0]];\n    this.b = [coeffx[1], coeffy[1]];\n    this.c = [coeffx[2], coeffy[2]];\n    this.d = [coeffx[3], coeffy[3]];\n    this.points = [p0, p1, p2, p3];\n  }\n\n  PolynomialBezier.prototype.point = function (t) {\n    return [((this.a[0] * t + this.b[0]) * t + this.c[0]) * t + this.d[0], ((this.a[1] * t + this.b[1]) * t + this.c[1]) * t + this.d[1]];\n  };\n\n  PolynomialBezier.prototype.derivative = function (t) {\n    return [(3 * t * this.a[0] + 2 * this.b[0]) * t + this.c[0], (3 * t * this.a[1] + 2 * this.b[1]) * t + this.c[1]];\n  };\n\n  PolynomialBezier.prototype.tangentAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[1], p[0]);\n  };\n\n  PolynomialBezier.prototype.normalAngle = function (t) {\n    var p = this.derivative(t);\n    return Math.atan2(p[0], p[1]);\n  };\n\n  PolynomialBezier.prototype.inflectionPoints = function () {\n    var denom = this.a[1] * this.b[0] - this.a[0] * this.b[1];\n    if (floatZero(denom)) return [];\n    var tcusp = -0.5 * (this.a[1] * this.c[0] - this.a[0] * this.c[1]) / denom;\n    var square = tcusp * tcusp - 1 / 3 * (this.b[1] * this.c[0] - this.b[0] * this.c[1]) / denom;\n    if (square < 0) return [];\n    var root = Math.sqrt(square);\n\n    if (floatZero(root)) {\n      if (root > 0 && root < 1) return [tcusp];\n      return [];\n    }\n\n    return [tcusp - root, tcusp + root].filter(function (r) {\n      return r > 0 && r < 1;\n    });\n  };\n\n  PolynomialBezier.prototype.split = function (t) {\n    if (t <= 0) return [singlePoint(this.points[0]), this];\n    if (t >= 1) return [this, singlePoint(this.points[this.points.length - 1])];\n    var p10 = lerpPoint(this.points[0], this.points[1], t);\n    var p11 = lerpPoint(this.points[1], this.points[2], t);\n    var p12 = lerpPoint(this.points[2], this.points[3], t);\n    var p20 = lerpPoint(p10, p11, t);\n    var p21 = lerpPoint(p11, p12, t);\n    var p3 = lerpPoint(p20, p21, t);\n    return [new PolynomialBezier(this.points[0], p10, p20, p3, true), new PolynomialBezier(p3, p21, p12, this.points[3], true)];\n  };\n\n  function extrema(bez, comp) {\n    var min = bez.points[0][comp];\n    var max = bez.points[bez.points.length - 1][comp];\n\n    if (min > max) {\n      var e = max;\n      max = min;\n      min = e;\n    } // Derivative roots to find min/max\n\n\n    var f = quadRoots(3 * bez.a[comp], 2 * bez.b[comp], bez.c[comp]);\n\n    for (var i = 0; i < f.length; i += 1) {\n      if (f[i] > 0 && f[i] < 1) {\n        var val = bez.point(f[i])[comp];\n        if (val < min) min = val;else if (val > max) max = val;\n      }\n    }\n\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  PolynomialBezier.prototype.bounds = function () {\n    return {\n      x: extrema(this, 0),\n      y: extrema(this, 1)\n    };\n  };\n\n  PolynomialBezier.prototype.boundingBox = function () {\n    var bounds = this.bounds();\n    return {\n      left: bounds.x.min,\n      right: bounds.x.max,\n      top: bounds.y.min,\n      bottom: bounds.y.max,\n      width: bounds.x.max - bounds.x.min,\n      height: bounds.y.max - bounds.y.min,\n      cx: (bounds.x.max + bounds.x.min) / 2,\n      cy: (bounds.y.max + bounds.y.min) / 2\n    };\n  };\n\n  function intersectData(bez, t1, t2) {\n    var box = bez.boundingBox();\n    return {\n      cx: box.cx,\n      cy: box.cy,\n      width: box.width,\n      height: box.height,\n      bez: bez,\n      t: (t1 + t2) / 2,\n      t1: t1,\n      t2: t2\n    };\n  }\n\n  function splitData(data) {\n    var split = data.bez.split(0.5);\n    return [intersectData(split[0], data.t1, data.t), intersectData(split[1], data.t, data.t2)];\n  }\n\n  function boxIntersect(b1, b2) {\n    return Math.abs(b1.cx - b2.cx) * 2 < b1.width + b2.width && Math.abs(b1.cy - b2.cy) * 2 < b1.height + b2.height;\n  }\n\n  function intersectsImpl(d1, d2, depth, tolerance, intersections, maxRecursion) {\n    if (!boxIntersect(d1, d2)) return;\n\n    if (depth >= maxRecursion || d1.width <= tolerance && d1.height <= tolerance && d2.width <= tolerance && d2.height <= tolerance) {\n      intersections.push([d1.t, d2.t]);\n      return;\n    }\n\n    var d1s = splitData(d1);\n    var d2s = splitData(d2);\n    intersectsImpl(d1s[0], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[0], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[0], depth + 1, tolerance, intersections, maxRecursion);\n    intersectsImpl(d1s[1], d2s[1], depth + 1, tolerance, intersections, maxRecursion);\n  }\n\n  PolynomialBezier.prototype.intersections = function (other, tolerance, maxRecursion) {\n    if (tolerance === undefined) tolerance = 2;\n    if (maxRecursion === undefined) maxRecursion = 7;\n    var intersections = [];\n    intersectsImpl(intersectData(this, 0, 1), intersectData(other, 0, 1), 0, tolerance, intersections, maxRecursion);\n    return intersections;\n  };\n\n  PolynomialBezier.shapeSegment = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[index], shapePath.o[index], shapePath.i[nextIndex], shapePath.v[nextIndex], true);\n  };\n\n  PolynomialBezier.shapeSegmentInverted = function (shapePath, index) {\n    var nextIndex = (index + 1) % shapePath.length();\n    return new PolynomialBezier(shapePath.v[nextIndex], shapePath.i[nextIndex], shapePath.o[index], shapePath.v[index], true);\n  };\n\n  function crossProduct(a, b) {\n    return [a[1] * b[2] - a[2] * b[1], a[2] * b[0] - a[0] * b[2], a[0] * b[1] - a[1] * b[0]];\n  }\n\n  function lineIntersection(start1, end1, start2, end2) {\n    var v1 = [start1[0], start1[1], 1];\n    var v2 = [end1[0], end1[1], 1];\n    var v3 = [start2[0], start2[1], 1];\n    var v4 = [end2[0], end2[1], 1];\n    var r = crossProduct(crossProduct(v1, v2), crossProduct(v3, v4));\n    if (floatZero(r[2])) return null;\n    return [r[0] / r[2], r[1] / r[2]];\n  }\n\n  function polarOffset(p, angle, length) {\n    return [p[0] + Math.cos(angle) * length, p[1] - Math.sin(angle) * length];\n  }\n\n  function pointDistance(p1, p2) {\n    return Math.hypot(p1[0] - p2[0], p1[1] - p2[1]);\n  }\n\n  function pointEqual(p1, p2) {\n    return floatEqual(p1[0], p2[0]) && floatEqual(p1[1], p2[1]);\n  }\n\n  function ZigZagModifier() {}\n\n  extendPrototype([ShapeModifier], ZigZagModifier);\n\n  ZigZagModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amplitude = PropertyFactory.getProp(elem, data.s, 0, null, this);\n    this.frequency = PropertyFactory.getProp(elem, data.r, 0, null, this);\n    this.pointsType = PropertyFactory.getProp(elem, data.pt, 0, null, this);\n    this._isAnimated = this.amplitude.effectsSequence.length !== 0 || this.frequency.effectsSequence.length !== 0 || this.pointsType.effectsSequence.length !== 0;\n  };\n\n  function setPoint(outputBezier, point, angle, direction, amplitude, outAmplitude, inAmplitude) {\n    var angO = angle - Math.PI / 2;\n    var angI = angle + Math.PI / 2;\n    var px = point[0] + Math.cos(angle) * direction * amplitude;\n    var py = point[1] - Math.sin(angle) * direction * amplitude;\n    outputBezier.setTripleAt(px, py, px + Math.cos(angO) * outAmplitude, py - Math.sin(angO) * outAmplitude, px + Math.cos(angI) * inAmplitude, py - Math.sin(angI) * inAmplitude, outputBezier.length());\n  }\n\n  function getPerpendicularVector(pt1, pt2) {\n    var vector = [pt2[0] - pt1[0], pt2[1] - pt1[1]];\n    var rot = -Math.PI * 0.5;\n    var rotatedVector = [Math.cos(rot) * vector[0] - Math.sin(rot) * vector[1], Math.sin(rot) * vector[0] + Math.cos(rot) * vector[1]];\n    return rotatedVector;\n  }\n\n  function getProjectingAngle(path, cur) {\n    var prevIndex = cur === 0 ? path.length() - 1 : cur - 1;\n    var nextIndex = (cur + 1) % path.length();\n    var prevPoint = path.v[prevIndex];\n    var nextPoint = path.v[nextIndex];\n    var pVector = getPerpendicularVector(prevPoint, nextPoint);\n    return Math.atan2(0, 1) - Math.atan2(pVector[1], pVector[0]);\n  }\n\n  function zigZagCorner(outputBezier, path, cur, amplitude, frequency, pointType, direction) {\n    var angle = getProjectingAngle(path, cur);\n    var point = path.v[cur % path._length];\n    var prevPoint = path.v[cur === 0 ? path._length - 1 : cur - 1];\n    var nextPoint = path.v[(cur + 1) % path._length];\n    var prevDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - prevPoint[0], 2) + Math.pow(point[1] - prevPoint[1], 2)) : 0;\n    var nextDist = pointType === 2 ? Math.sqrt(Math.pow(point[0] - nextPoint[0], 2) + Math.pow(point[1] - nextPoint[1], 2)) : 0;\n    setPoint(outputBezier, path.v[cur % path._length], angle, direction, amplitude, nextDist / ((frequency + 1) * 2), prevDist / ((frequency + 1) * 2), pointType);\n  }\n\n  function zigZagSegment(outputBezier, segment, amplitude, frequency, pointType, direction) {\n    for (var i = 0; i < frequency; i += 1) {\n      var t = (i + 1) / (frequency + 1);\n      var dist = pointType === 2 ? Math.sqrt(Math.pow(segment.points[3][0] - segment.points[0][0], 2) + Math.pow(segment.points[3][1] - segment.points[0][1], 2)) : 0;\n      var angle = segment.normalAngle(t);\n      var point = segment.point(t);\n      setPoint(outputBezier, point, angle, direction, amplitude, dist / ((frequency + 1) * 2), dist / ((frequency + 1) * 2), pointType);\n      direction = -direction;\n    }\n\n    return direction;\n  }\n\n  ZigZagModifier.prototype.processPath = function (path, amplitude, frequency, pointType) {\n    var count = path._length;\n    var clonedPath = shapePool.newElement();\n    clonedPath.c = path.c;\n\n    if (!path.c) {\n      count -= 1;\n    }\n\n    if (count === 0) return clonedPath;\n    var direction = -1;\n    var segment = PolynomialBezier.shapeSegment(path, 0);\n    zigZagCorner(clonedPath, path, 0, amplitude, frequency, pointType, direction);\n\n    for (var i = 0; i < count; i += 1) {\n      direction = zigZagSegment(clonedPath, segment, amplitude, frequency, pointType, -direction);\n\n      if (i === count - 1 && !path.c) {\n        segment = null;\n      } else {\n        segment = PolynomialBezier.shapeSegment(path, (i + 1) % count);\n      }\n\n      zigZagCorner(clonedPath, path, i + 1, amplitude, frequency, pointType, direction);\n    }\n\n    return clonedPath;\n  };\n\n  ZigZagModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amplitude = this.amplitude.v;\n    var frequency = Math.max(0, Math.round(this.frequency.v));\n    var pointType = this.pointsType.v;\n\n    if (amplitude !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amplitude, frequency, pointType));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function linearOffset(p1, p2, amount) {\n    var angle = Math.atan2(p2[0] - p1[0], p2[1] - p1[1]);\n    return [polarOffset(p1, angle, amount), polarOffset(p2, angle, amount)];\n  }\n\n  function offsetSegment(segment, amount) {\n    var p0;\n    var p1a;\n    var p1b;\n    var p2b;\n    var p2a;\n    var p3;\n    var e;\n    e = linearOffset(segment.points[0], segment.points[1], amount);\n    p0 = e[0];\n    p1a = e[1];\n    e = linearOffset(segment.points[1], segment.points[2], amount);\n    p1b = e[0];\n    p2b = e[1];\n    e = linearOffset(segment.points[2], segment.points[3], amount);\n    p2a = e[0];\n    p3 = e[1];\n    var p1 = lineIntersection(p0, p1a, p1b, p2b);\n    if (p1 === null) p1 = p1a;\n    var p2 = lineIntersection(p2a, p3, p1b, p2b);\n    if (p2 === null) p2 = p2a;\n    return new PolynomialBezier(p0, p1, p2, p3);\n  }\n\n  function joinLines(outputBezier, seg1, seg2, lineJoin, miterLimit) {\n    var p0 = seg1.points[3];\n    var p1 = seg2.points[0]; // Bevel\n\n    if (lineJoin === 3) return p0; // Connected, they don't need a joint\n\n    if (pointEqual(p0, p1)) return p0; // Round\n\n    if (lineJoin === 2) {\n      var angleOut = -seg1.tangentAngle(1);\n      var angleIn = -seg2.tangentAngle(0) + Math.PI;\n      var center = lineIntersection(p0, polarOffset(p0, angleOut + Math.PI / 2, 100), p1, polarOffset(p1, angleOut + Math.PI / 2, 100));\n      var radius = center ? pointDistance(center, p0) : pointDistance(p0, p1) / 2;\n      var tan = polarOffset(p0, angleOut, 2 * radius * roundCorner);\n      outputBezier.setXYAt(tan[0], tan[1], 'o', outputBezier.length() - 1);\n      tan = polarOffset(p1, angleIn, 2 * radius * roundCorner);\n      outputBezier.setTripleAt(p1[0], p1[1], p1[0], p1[1], tan[0], tan[1], outputBezier.length());\n      return p1;\n    } // Miter\n\n\n    var t0 = pointEqual(p0, seg1.points[2]) ? seg1.points[0] : seg1.points[2];\n    var t1 = pointEqual(p1, seg2.points[1]) ? seg2.points[3] : seg2.points[1];\n    var intersection = lineIntersection(t0, p0, p1, t1);\n\n    if (intersection && pointDistance(intersection, p0) < miterLimit) {\n      outputBezier.setTripleAt(intersection[0], intersection[1], intersection[0], intersection[1], intersection[0], intersection[1], outputBezier.length());\n      return intersection;\n    }\n\n    return p0;\n  }\n\n  function getIntersection(a, b) {\n    var intersect = a.intersections(b);\n    if (intersect.length && floatEqual(intersect[0][0], 1)) intersect.shift();\n    if (intersect.length) return intersect[0];\n    return null;\n  }\n\n  function pruneSegmentIntersection(a, b) {\n    var outa = a.slice();\n    var outb = b.slice();\n    var intersect = getIntersection(a[a.length - 1], b[0]);\n\n    if (intersect) {\n      outa[a.length - 1] = a[a.length - 1].split(intersect[0])[0];\n      outb[0] = b[0].split(intersect[1])[1];\n    }\n\n    if (a.length > 1 && b.length > 1) {\n      intersect = getIntersection(a[0], b[b.length - 1]);\n\n      if (intersect) {\n        return [[a[0].split(intersect[0])[0]], [b[b.length - 1].split(intersect[1])[1]]];\n      }\n    }\n\n    return [outa, outb];\n  }\n\n  function pruneIntersections(segments) {\n    var e;\n\n    for (var i = 1; i < segments.length; i += 1) {\n      e = pruneSegmentIntersection(segments[i - 1], segments[i]);\n      segments[i - 1] = e[0];\n      segments[i] = e[1];\n    }\n\n    if (segments.length > 1) {\n      e = pruneSegmentIntersection(segments[segments.length - 1], segments[0]);\n      segments[segments.length - 1] = e[0];\n      segments[0] = e[1];\n    }\n\n    return segments;\n  }\n\n  function offsetSegmentSplit(segment, amount) {\n    /*\r\n      We split each bezier segment into smaller pieces based\r\n      on inflection points, this ensures the control point\r\n      polygon is convex.\r\n        (A cubic bezier can have none, one, or two inflection points)\r\n    */\n    var flex = segment.inflectionPoints();\n    var left;\n    var right;\n    var split;\n    var mid;\n\n    if (flex.length === 0) {\n      return [offsetSegment(segment, amount)];\n    }\n\n    if (flex.length === 1 || floatEqual(flex[1], 1)) {\n      split = segment.split(flex[0]);\n      left = split[0];\n      right = split[1];\n      return [offsetSegment(left, amount), offsetSegment(right, amount)];\n    }\n\n    split = segment.split(flex[0]);\n    left = split[0];\n    var t = (flex[1] - flex[0]) / (1 - flex[0]);\n    split = split[1].split(t);\n    mid = split[0];\n    right = split[1];\n    return [offsetSegment(left, amount), offsetSegment(mid, amount), offsetSegment(right, amount)];\n  }\n\n  function OffsetPathModifier() {}\n\n  extendPrototype([ShapeModifier], OffsetPathModifier);\n\n  OffsetPathModifier.prototype.initModifierProperties = function (elem, data) {\n    this.getValue = this.processKeys;\n    this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\n    this.miterLimit = PropertyFactory.getProp(elem, data.ml, 0, null, this);\n    this.lineJoin = data.lj;\n    this._isAnimated = this.amount.effectsSequence.length !== 0;\n  };\n\n  OffsetPathModifier.prototype.processPath = function (inputBezier, amount, lineJoin, miterLimit) {\n    var outputBezier = shapePool.newElement();\n    outputBezier.c = inputBezier.c;\n    var count = inputBezier.length();\n\n    if (!inputBezier.c) {\n      count -= 1;\n    }\n\n    var i;\n    var j;\n    var segment;\n    var multiSegments = [];\n\n    for (i = 0; i < count; i += 1) {\n      segment = PolynomialBezier.shapeSegment(inputBezier, i);\n      multiSegments.push(offsetSegmentSplit(segment, amount));\n    }\n\n    if (!inputBezier.c) {\n      for (i = count - 1; i >= 0; i -= 1) {\n        segment = PolynomialBezier.shapeSegmentInverted(inputBezier, i);\n        multiSegments.push(offsetSegmentSplit(segment, amount));\n      }\n    }\n\n    multiSegments = pruneIntersections(multiSegments); // Add bezier segments to the output and apply line joints\n\n    var lastPoint = null;\n    var lastSeg = null;\n\n    for (i = 0; i < multiSegments.length; i += 1) {\n      var multiSegment = multiSegments[i];\n      if (lastSeg) lastPoint = joinLines(outputBezier, lastSeg, multiSegment[0], lineJoin, miterLimit);\n      lastSeg = multiSegment[multiSegment.length - 1];\n\n      for (j = 0; j < multiSegment.length; j += 1) {\n        segment = multiSegment[j];\n\n        if (lastPoint && pointEqual(segment.points[0], lastPoint)) {\n          outputBezier.setXYAt(segment.points[1][0], segment.points[1][1], 'o', outputBezier.length() - 1);\n        } else {\n          outputBezier.setTripleAt(segment.points[0][0], segment.points[0][1], segment.points[1][0], segment.points[1][1], segment.points[0][0], segment.points[0][1], outputBezier.length());\n        }\n\n        outputBezier.setTripleAt(segment.points[3][0], segment.points[3][1], segment.points[3][0], segment.points[3][1], segment.points[2][0], segment.points[2][1], outputBezier.length());\n        lastPoint = segment.points[3];\n      }\n    }\n\n    if (multiSegments.length) joinLines(outputBezier, lastSeg, multiSegments[0][0], lineJoin, miterLimit);\n    return outputBezier;\n  };\n\n  OffsetPathModifier.prototype.processShapes = function (_isFirstFrame) {\n    var shapePaths;\n    var i;\n    var len = this.shapes.length;\n    var j;\n    var jLen;\n    var amount = this.amount.v;\n    var miterLimit = this.miterLimit.v;\n    var lineJoin = this.lineJoin;\n\n    if (amount !== 0) {\n      var shapeData;\n      var localShapeCollection;\n\n      for (i = 0; i < len; i += 1) {\n        shapeData = this.shapes[i];\n        localShapeCollection = shapeData.localShapeCollection;\n\n        if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\n          localShapeCollection.releaseShapes();\n          shapeData.shape._mdf = true;\n          shapePaths = shapeData.shape.paths.shapes;\n          jLen = shapeData.shape.paths._length;\n\n          for (j = 0; j < jLen; j += 1) {\n            localShapeCollection.addShape(this.processPath(shapePaths[j], amount, lineJoin, miterLimit));\n          }\n        }\n\n        shapeData.shape.paths = shapeData.localShapeCollection;\n      }\n    }\n\n    if (!this.dynamicProperties.length) {\n      this._mdf = false;\n    }\n  };\n\n  function getFontProperties(fontData) {\n    var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\n    var fWeight = 'normal';\n    var fStyle = 'normal';\n    var len = styles.length;\n    var styleName;\n\n    for (var i = 0; i < len; i += 1) {\n      styleName = styles[i].toLowerCase();\n\n      switch (styleName) {\n        case 'italic':\n          fStyle = 'italic';\n          break;\n\n        case 'bold':\n          fWeight = '700';\n          break;\n\n        case 'black':\n          fWeight = '900';\n          break;\n\n        case 'medium':\n          fWeight = '500';\n          break;\n\n        case 'regular':\n        case 'normal':\n          fWeight = '400';\n          break;\n\n        case 'light':\n        case 'thin':\n          fWeight = '200';\n          break;\n\n        default:\n          break;\n      }\n    }\n\n    return {\n      style: fStyle,\n      weight: fontData.fWeight || fWeight\n    };\n  }\n\n  var FontManager = function () {\n    var maxWaitingTime = 5000;\n    var emptyChar = {\n      w: 0,\n      size: 0,\n      shapes: [],\n      data: {\n        shapes: []\n      }\n    };\n    var combinedCharacters = []; // Hindi characters\n\n    combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366, 2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379, 2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\n    var BLACK_FLAG_CODE_POINT = 127988;\n    var CANCEL_TAG_CODE_POINT = 917631;\n    var A_TAG_CODE_POINT = 917601;\n    var Z_TAG_CODE_POINT = 917626;\n    var VARIATION_SELECTOR_16_CODE_POINT = 65039;\n    var ZERO_WIDTH_JOINER_CODE_POINT = 8205;\n    var REGIONAL_CHARACTER_A_CODE_POINT = 127462;\n    var REGIONAL_CHARACTER_Z_CODE_POINT = 127487;\n    var surrogateModifiers = ['d83cdffb', 'd83cdffc', 'd83cdffd', 'd83cdffe', 'd83cdfff'];\n\n    function trimFontOptions(font) {\n      var familyArray = font.split(',');\n      var i;\n      var len = familyArray.length;\n      var enabledFamilies = [];\n\n      for (i = 0; i < len; i += 1) {\n        if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\n          enabledFamilies.push(familyArray[i]);\n        }\n      }\n\n      return enabledFamilies.join(',');\n    }\n\n    function setUpNode(font, family) {\n      var parentNode = createTag('span'); // Node is invisible to screen readers.\n\n      parentNode.setAttribute('aria-hidden', true);\n      parentNode.style.fontFamily = family;\n      var node = createTag('span'); // Characters that vary significantly among different fonts\n\n      node.innerText = 'giItT1WQy@!-/#'; // Visible - so we can measure it - but not on the screen\n\n      parentNode.style.position = 'absolute';\n      parentNode.style.left = '-10000px';\n      parentNode.style.top = '-10000px'; // Large font size makes even subtle changes obvious\n\n      parentNode.style.fontSize = '300px'; // Reset any font properties\n\n      parentNode.style.fontVariant = 'normal';\n      parentNode.style.fontStyle = 'normal';\n      parentNode.style.fontWeight = 'normal';\n      parentNode.style.letterSpacing = '0';\n      parentNode.appendChild(node);\n      document.body.appendChild(parentNode); // Remember width with no applied web font\n\n      var width = node.offsetWidth;\n      node.style.fontFamily = trimFontOptions(font) + ', ' + family;\n      return {\n        node: node,\n        w: width,\n        parent: parentNode\n      };\n    }\n\n    function checkLoadedFonts() {\n      var i;\n      var len = this.fonts.length;\n      var node;\n      var w;\n      var loadedCount = len;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.fonts[i].loaded) {\n          loadedCount -= 1;\n        } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\n          this.fonts[i].loaded = true;\n        } else {\n          node = this.fonts[i].monoCase.node;\n          w = this.fonts[i].monoCase.w;\n\n          if (node.offsetWidth !== w) {\n            loadedCount -= 1;\n            this.fonts[i].loaded = true;\n          } else {\n            node = this.fonts[i].sansCase.node;\n            w = this.fonts[i].sansCase.w;\n\n            if (node.offsetWidth !== w) {\n              loadedCount -= 1;\n              this.fonts[i].loaded = true;\n            }\n          }\n\n          if (this.fonts[i].loaded) {\n            this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\n            this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\n          }\n        }\n      }\n\n      if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\n        setTimeout(this.checkLoadedFontsBinded, 20);\n      } else {\n        setTimeout(this.setIsLoadedBinded, 10);\n      }\n    }\n\n    function createHelper(fontData, def) {\n      var engine = document.body && def ? 'svg' : 'canvas';\n      var helper;\n      var fontProps = getFontProperties(fontData);\n\n      if (engine === 'svg') {\n        var tHelper = createNS('text');\n        tHelper.style.fontSize = '100px'; // tHelper.style.fontFamily = fontData.fFamily;\n\n        tHelper.setAttribute('font-family', fontData.fFamily);\n        tHelper.setAttribute('font-style', fontProps.style);\n        tHelper.setAttribute('font-weight', fontProps.weight);\n        tHelper.textContent = '1';\n\n        if (fontData.fClass) {\n          tHelper.style.fontFamily = 'inherit';\n          tHelper.setAttribute('class', fontData.fClass);\n        } else {\n          tHelper.style.fontFamily = fontData.fFamily;\n        }\n\n        def.appendChild(tHelper);\n        helper = tHelper;\n      } else {\n        var tCanvasHelper = new OffscreenCanvas(500, 500).getContext('2d');\n        tCanvasHelper.font = fontProps.style + ' ' + fontProps.weight + ' 100px ' + fontData.fFamily;\n        helper = tCanvasHelper;\n      }\n\n      function measure(text) {\n        if (engine === 'svg') {\n          helper.textContent = text;\n          return helper.getComputedTextLength();\n        }\n\n        return helper.measureText(text).width;\n      }\n\n      return {\n        measureText: measure\n      };\n    }\n\n    function addFonts(fontData, defs) {\n      if (!fontData) {\n        this.isLoaded = true;\n        return;\n      }\n\n      if (this.chars) {\n        this.isLoaded = true;\n        this.fonts = fontData.list;\n        return;\n      }\n\n      if (!document.body) {\n        this.isLoaded = true;\n        fontData.list.forEach(function (data) {\n          data.helper = createHelper(data);\n          data.cache = {};\n        });\n        this.fonts = fontData.list;\n        return;\n      }\n\n      var fontArr = fontData.list;\n      var i;\n      var len = fontArr.length;\n      var _pendingFonts = len;\n\n      for (i = 0; i < len; i += 1) {\n        var shouldLoadFont = true;\n        var loadedSelector;\n        var j;\n        fontArr[i].loaded = false;\n        fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\n        fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\n\n        if (!fontArr[i].fPath) {\n          fontArr[i].loaded = true;\n          _pendingFonts -= 1;\n        } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\n          loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\n\n          if (loadedSelector.length > 0) {\n            shouldLoadFont = false;\n          }\n\n          if (shouldLoadFont) {\n            var s = createTag('style');\n            s.setAttribute('f-forigin', fontArr[i].fOrigin);\n            s.setAttribute('f-origin', fontArr[i].origin);\n            s.setAttribute('f-family', fontArr[i].fFamily);\n            s.type = 'text/css';\n            s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\n            defs.appendChild(s);\n          }\n        } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\n          loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var l = createTag('link');\n            l.setAttribute('f-forigin', fontArr[i].fOrigin);\n            l.setAttribute('f-origin', fontArr[i].origin);\n            l.type = 'text/css';\n            l.rel = 'stylesheet';\n            l.href = fontArr[i].fPath;\n            document.body.appendChild(l);\n          }\n        } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\n          loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\n\n          for (j = 0; j < loadedSelector.length; j += 1) {\n            if (fontArr[i].fPath === loadedSelector[j].src) {\n              // Font is already loaded\n              shouldLoadFont = false;\n            }\n          }\n\n          if (shouldLoadFont) {\n            var sc = createTag('link');\n            sc.setAttribute('f-forigin', fontArr[i].fOrigin);\n            sc.setAttribute('f-origin', fontArr[i].origin);\n            sc.setAttribute('rel', 'stylesheet');\n            sc.setAttribute('href', fontArr[i].fPath);\n            defs.appendChild(sc);\n          }\n        }\n\n        fontArr[i].helper = createHelper(fontArr[i], defs);\n        fontArr[i].cache = {};\n        this.fonts.push(fontArr[i]);\n      }\n\n      if (_pendingFonts === 0) {\n        this.isLoaded = true;\n      } else {\n        // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\n        // Adding this timeout seems to fix it\n        setTimeout(this.checkLoadedFonts.bind(this), 100);\n      }\n    }\n\n    function addChars(chars) {\n      if (!chars) {\n        return;\n      }\n\n      if (!this.chars) {\n        this.chars = [];\n      }\n\n      var i;\n      var len = chars.length;\n      var j;\n      var jLen = this.chars.length;\n      var found;\n\n      for (i = 0; i < len; i += 1) {\n        j = 0;\n        found = false;\n\n        while (j < jLen) {\n          if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\n            found = true;\n          }\n\n          j += 1;\n        }\n\n        if (!found) {\n          this.chars.push(chars[i]);\n          jLen += 1;\n        }\n      }\n    }\n\n    function getCharData(_char, style, font) {\n      var i = 0;\n      var len = this.chars.length;\n\n      while (i < len) {\n        if (this.chars[i].ch === _char && this.chars[i].style === style && this.chars[i].fFamily === font) {\n          return this.chars[i];\n        }\n\n        i += 1;\n      }\n\n      if ((typeof _char === 'string' && _char.charCodeAt(0) !== 13 || !_char) && console && console.warn // eslint-disable-line no-console\n      && !this._warned) {\n        this._warned = true;\n        console.warn('Missing character from exported characters list: ', _char, style, font); // eslint-disable-line no-console\n      }\n\n      return emptyChar;\n    }\n\n    function measureText(_char2, fontName, size) {\n      var fontData = this.getFontByName(fontName); // Using the char instead of char.charCodeAt(0)\n      // to avoid collisions between equal chars\n\n      var index = _char2;\n\n      if (!fontData.cache[index]) {\n        var tHelper = fontData.helper;\n\n        if (_char2 === ' ') {\n          var doubleSize = tHelper.measureText('|' + _char2 + '|');\n          var singleSize = tHelper.measureText('||');\n          fontData.cache[index] = (doubleSize - singleSize) / 100;\n        } else {\n          fontData.cache[index] = tHelper.measureText(_char2) / 100;\n        }\n      }\n\n      return fontData.cache[index] * size;\n    }\n\n    function getFontByName(name) {\n      var i = 0;\n      var len = this.fonts.length;\n\n      while (i < len) {\n        if (this.fonts[i].fName === name) {\n          return this.fonts[i];\n        }\n\n        i += 1;\n      }\n\n      return this.fonts[0];\n    }\n\n    function getCodePoint(string) {\n      var codePoint = 0;\n      var first = string.charCodeAt(0);\n\n      if (first >= 0xD800 && first <= 0xDBFF) {\n        var second = string.charCodeAt(1);\n\n        if (second >= 0xDC00 && second <= 0xDFFF) {\n          codePoint = (first - 0xD800) * 0x400 + second - 0xDC00 + 0x10000;\n        }\n      }\n\n      return codePoint;\n    } // Skin tone modifiers\n\n\n    function isModifier(firstCharCode, secondCharCode) {\n      var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\n      return surrogateModifiers.indexOf(sum) !== -1;\n    }\n\n    function isZeroWidthJoiner(charCode) {\n      return charCode === ZERO_WIDTH_JOINER_CODE_POINT;\n    } // This codepoint may change the appearance of the preceding character.\n    // If that is a symbol, dingbat or emoji, U+FE0F forces it to be rendered\n    // as a colorful image as compared to a monochrome text variant.\n\n\n    function isVariationSelector(charCode) {\n      return charCode === VARIATION_SELECTOR_16_CODE_POINT;\n    } // The regional indicator symbols are a set of 26 alphabetic Unicode\n    /// characters (AZ) intended to be used to encode ISO 3166-1 alpha-2\n    // two-letter country codes in a way that allows optional special treatment.\n\n\n    function isRegionalCode(string) {\n      var codePoint = getCodePoint(string);\n\n      if (codePoint >= REGIONAL_CHARACTER_A_CODE_POINT && codePoint <= REGIONAL_CHARACTER_Z_CODE_POINT) {\n        return true;\n      }\n\n      return false;\n    } // Some Emoji implementations represent combinations of\n    // two regional indicator letters as a single flag symbol.\n\n\n    function isFlagEmoji(string) {\n      return isRegionalCode(string.substr(0, 2)) && isRegionalCode(string.substr(2, 2));\n    }\n\n    function isCombinedCharacter(_char3) {\n      return combinedCharacters.indexOf(_char3) !== -1;\n    } // Regional flags start with a BLACK_FLAG_CODE_POINT\n    // folowed by 5 chars in the TAG range\n    // and end with a CANCEL_TAG_CODE_POINT\n\n\n    function isRegionalFlag(text, index) {\n      var codePoint = getCodePoint(text.substr(index, 2));\n\n      if (codePoint !== BLACK_FLAG_CODE_POINT) {\n        return false;\n      }\n\n      var count = 0;\n      index += 2;\n\n      while (count < 5) {\n        codePoint = getCodePoint(text.substr(index, 2));\n\n        if (codePoint < A_TAG_CODE_POINT || codePoint > Z_TAG_CODE_POINT) {\n          return false;\n        }\n\n        count += 1;\n        index += 2;\n      }\n\n      return getCodePoint(text.substr(index, 2)) === CANCEL_TAG_CODE_POINT;\n    }\n\n    function setIsLoaded() {\n      this.isLoaded = true;\n    }\n\n    var Font = function Font() {\n      this.fonts = [];\n      this.chars = null;\n      this.typekitLoaded = 0;\n      this.isLoaded = false;\n      this._warned = false;\n      this.initTime = Date.now();\n      this.setIsLoadedBinded = this.setIsLoaded.bind(this);\n      this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\n    };\n\n    Font.isModifier = isModifier;\n    Font.isZeroWidthJoiner = isZeroWidthJoiner;\n    Font.isFlagEmoji = isFlagEmoji;\n    Font.isRegionalCode = isRegionalCode;\n    Font.isCombinedCharacter = isCombinedCharacter;\n    Font.isRegionalFlag = isRegionalFlag;\n    Font.isVariationSelector = isVariationSelector;\n    Font.BLACK_FLAG_CODE_POINT = BLACK_FLAG_CODE_POINT;\n    var fontPrototype = {\n      addChars: addChars,\n      addFonts: addFonts,\n      getCharData: getCharData,\n      getFontByName: getFontByName,\n      measureText: measureText,\n      checkLoadedFonts: checkLoadedFonts,\n      setIsLoaded: setIsLoaded\n    };\n    Font.prototype = fontPrototype;\n    return Font;\n  }();\n\n  function SlotManager(animationData) {\n    this.animationData = animationData;\n  }\n\n  SlotManager.prototype.getProp = function (data) {\n    if (this.animationData.slots && this.animationData.slots[data.sid]) {\n      return Object.assign(data, this.animationData.slots[data.sid].p);\n    }\n\n    return data;\n  };\n\n  function slotFactory(animationData) {\n    return new SlotManager(animationData);\n  }\n\n  function RenderableElement() {}\n\n  RenderableElement.prototype = {\n    initRenderable: function initRenderable() {\n      // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\n      this.isInRange = false; // layer's display state\n\n      this.hidden = false; // If layer's transparency equals 0, it can be hidden\n\n      this.isTransparent = false; // list of animated components\n\n      this.renderableComponents = [];\n    },\n    addRenderableComponent: function addRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) === -1) {\n        this.renderableComponents.push(component);\n      }\n    },\n    removeRenderableComponent: function removeRenderableComponent(component) {\n      if (this.renderableComponents.indexOf(component) !== -1) {\n        this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\n      }\n    },\n    prepareRenderableFrame: function prepareRenderableFrame(num) {\n      this.checkLayerLimits(num);\n    },\n    checkTransparency: function checkTransparency() {\n      if (this.finalTransform.mProp.o.v <= 0) {\n        if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\n          this.isTransparent = true;\n          this.hide();\n        }\n      } else if (this.isTransparent) {\n        this.isTransparent = false;\n        this.show();\n      }\n    },\n\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       *\r\n       */\n    checkLayerLimits: function checkLayerLimits(num) {\n      if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\n        if (this.isInRange !== true) {\n          this.globalData._mdf = true;\n          this._mdf = true;\n          this.isInRange = true;\n          this.show();\n        }\n      } else if (this.isInRange !== false) {\n        this.globalData._mdf = true;\n        this.isInRange = false;\n        this.hide();\n      }\n    },\n    renderRenderable: function renderRenderable() {\n      var i;\n      var len = this.renderableComponents.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderableComponents[i].renderFrame(this._isFirstFrame);\n      }\n      /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n          this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\n\n    },\n    sourceRectAtTime: function sourceRectAtTime() {\n      return {\n        top: 0,\n        left: 0,\n        width: 100,\n        height: 100\n      };\n    },\n    getLayerSize: function getLayerSize() {\n      if (this.data.ty === 5) {\n        return {\n          w: this.data.textData.width,\n          h: this.data.textData.height\n        };\n      }\n\n      return {\n        w: this.data.width,\n        h: this.data.height\n      };\n    }\n  };\n\n  var getBlendMode = function () {\n    var blendModeEnums = {\n      0: 'source-over',\n      1: 'multiply',\n      2: 'screen',\n      3: 'overlay',\n      4: 'darken',\n      5: 'lighten',\n      6: 'color-dodge',\n      7: 'color-burn',\n      8: 'hard-light',\n      9: 'soft-light',\n      10: 'difference',\n      11: 'exclusion',\n      12: 'hue',\n      13: 'saturation',\n      14: 'color',\n      15: 'luminosity'\n    };\n    return function (mode) {\n      return blendModeEnums[mode] || '';\n    };\n  }();\n\n  function SliderEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function AngleEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function ColorEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function PointEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 1, 0, container);\n  }\n\n  function LayerIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function MaskIndexEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function CheckboxEffect(data, elem, container) {\n    this.p = PropertyFactory.getProp(elem, data.v, 0, 0, container);\n  }\n\n  function NoValueEffect() {\n    this.p = {};\n  }\n\n  function EffectsManager(data, element) {\n    var effects = data.ef || [];\n    this.effectElements = [];\n    var i;\n    var len = effects.length;\n    var effectItem;\n\n    for (i = 0; i < len; i += 1) {\n      effectItem = new GroupEffect(effects[i], element);\n      this.effectElements.push(effectItem);\n    }\n  }\n\n  function GroupEffect(data, element) {\n    this.init(data, element);\n  }\n\n  extendPrototype([DynamicPropertyContainer], GroupEffect);\n  GroupEffect.prototype.getValue = GroupEffect.prototype.iterateDynamicProperties;\n\n  GroupEffect.prototype.init = function (data, element) {\n    this.data = data;\n    this.effectElements = [];\n    this.initDynamicPropertyContainer(element);\n    var i;\n    var len = this.data.ef.length;\n    var eff;\n    var effects = this.data.ef;\n\n    for (i = 0; i < len; i += 1) {\n      eff = null;\n\n      switch (effects[i].ty) {\n        case 0:\n          eff = new SliderEffect(effects[i], element, this);\n          break;\n\n        case 1:\n          eff = new AngleEffect(effects[i], element, this);\n          break;\n\n        case 2:\n          eff = new ColorEffect(effects[i], element, this);\n          break;\n\n        case 3:\n          eff = new PointEffect(effects[i], element, this);\n          break;\n\n        case 4:\n        case 7:\n          eff = new CheckboxEffect(effects[i], element, this);\n          break;\n\n        case 10:\n          eff = new LayerIndexEffect(effects[i], element, this);\n          break;\n\n        case 11:\n          eff = new MaskIndexEffect(effects[i], element, this);\n          break;\n\n        case 5:\n          eff = new EffectsManager(effects[i], element, this);\n          break;\n        // case 6:\n\n        default:\n          eff = new NoValueEffect(effects[i], element, this);\n          break;\n      }\n\n      if (eff) {\n        this.effectElements.push(eff);\n      }\n    }\n  };\n\n  function BaseElement() {}\n\n  BaseElement.prototype = {\n    checkMasks: function checkMasks() {\n      if (!this.data.hasMask) {\n        return false;\n      }\n\n      var i = 0;\n      var len = this.data.masksProperties.length;\n\n      while (i < len) {\n        if (this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false) {\n          return true;\n        }\n\n        i += 1;\n      }\n\n      return false;\n    },\n    initExpressions: function initExpressions() {\n      var expressionsInterfaces = getExpressionInterfaces();\n\n      if (!expressionsInterfaces) {\n        return;\n      }\n\n      var LayerExpressionInterface = expressionsInterfaces('layer');\n      var EffectsExpressionInterface = expressionsInterfaces('effects');\n      var ShapeExpressionInterface = expressionsInterfaces('shape');\n      var TextExpressionInterface = expressionsInterfaces('text');\n      var CompExpressionInterface = expressionsInterfaces('comp');\n      this.layerInterface = LayerExpressionInterface(this);\n\n      if (this.data.hasMask && this.maskManager) {\n        this.layerInterface.registerMaskInterface(this.maskManager);\n      }\n\n      var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\n      this.layerInterface.registerEffectsInterface(effectsInterface);\n\n      if (this.data.ty === 0 || this.data.xt) {\n        this.compInterface = CompExpressionInterface(this);\n      } else if (this.data.ty === 4) {\n        this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\n        this.layerInterface.content = this.layerInterface.shapeInterface;\n      } else if (this.data.ty === 5) {\n        this.layerInterface.textInterface = TextExpressionInterface(this);\n        this.layerInterface.text = this.layerInterface.textInterface;\n      }\n    },\n    setBlendMode: function setBlendMode() {\n      var blendModeValue = getBlendMode(this.data.bm);\n      var elem = this.baseElement || this.layerElement;\n      elem.style['mix-blend-mode'] = blendModeValue;\n    },\n    initBaseData: function initBaseData(data, globalData, comp) {\n      this.globalData = globalData;\n      this.comp = comp;\n      this.data = data;\n      this.layerId = createElementID(); // Stretch factor for old animations missing this property.\n\n      if (!this.data.sr) {\n        this.data.sr = 1;\n      } // effects manager\n\n\n      this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\n    },\n    getType: function getType() {\n      return this.type;\n    },\n    sourceRectAtTime: function sourceRectAtTime() {}\n  };\n\n  /**\r\n   * @file\r\n   * Handles element's layer frame update.\r\n   * Checks layer in point and out point\r\n   *\r\n   */\n  function FrameElement() {}\n\n  FrameElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes frame related properties.\r\n       *\r\n       */\n    initFrame: function initFrame() {\n      // set to true when inpoint is rendered\n      this._isFirstFrame = false; // list of animated properties\n\n      this.dynamicProperties = []; // If layer has been modified in current tick this will be true\n\n      this._mdf = false;\n    },\n\n    /**\r\n       * @function\r\n       * Calculates all dynamic values\r\n       *\r\n       * @param {number} num\r\n       * current frame number in Layer's time\r\n       * @param {boolean} isVisible\r\n       * if layers is currently in range\r\n       *\r\n       */\n    prepareProperties: function prepareProperties(num, isVisible) {\n      var i;\n      var len = this.dynamicProperties.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (isVisible || this._isParent && this.dynamicProperties[i].propType === 'transform') {\n          this.dynamicProperties[i].getValue();\n\n          if (this.dynamicProperties[i]._mdf) {\n            this.globalData._mdf = true;\n            this._mdf = true;\n          }\n        }\n      }\n    },\n    addDynamicProperty: function addDynamicProperty(prop) {\n      if (this.dynamicProperties.indexOf(prop) === -1) {\n        this.dynamicProperties.push(prop);\n      }\n    }\n  };\n\n  function FootageElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.footageData = globalData.imageLoader.getAsset(this.assetData);\n    this.initBaseData(data, globalData, comp);\n  }\n\n  FootageElement.prototype.prepareFrame = function () {};\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], FootageElement);\n\n  FootageElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  FootageElement.prototype.renderFrame = function () {};\n\n  FootageElement.prototype.destroy = function () {};\n\n  FootageElement.prototype.initExpressions = function () {\n    var expressionsInterfaces = getExpressionInterfaces();\n\n    if (!expressionsInterfaces) {\n      return;\n    }\n\n    var FootageInterface = expressionsInterfaces('footage');\n    this.layerInterface = FootageInterface(this);\n  };\n\n  FootageElement.prototype.getFootageData = function () {\n    return this.footageData;\n  };\n\n  function AudioElement(data, globalData, comp) {\n    this.initFrame();\n    this.initRenderable();\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initBaseData(data, globalData, comp);\n    this._isPlaying = false;\n    this._canPlay = false;\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.audio = this.globalData.audioController.createAudio(assetPath);\n    this._currentTime = 0;\n    this.globalData.audioController.addAudio(this);\n    this._volumeMultiplier = 1;\n    this._volume = 1;\n    this._previousVolume = null;\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n    this.lv = PropertyFactory.getProp(this, data.au && data.au.lv ? data.au.lv : {\n      k: [100]\n    }, 1, 0.01, this);\n  }\n\n  AudioElement.prototype.prepareFrame = function (num) {\n    this.prepareRenderableFrame(num, true);\n    this.prepareProperties(num, true);\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n      this._currentTime = timeRemapped;\n    } else {\n      this._currentTime = num / this.data.sr;\n    }\n\n    this._volume = this.lv.v[0];\n    var totalVolume = this._volume * this._volumeMultiplier;\n\n    if (this._previousVolume !== totalVolume) {\n      this._previousVolume = totalVolume;\n      this.audio.volume(totalVolume);\n    }\n  };\n\n  extendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\n\n  AudioElement.prototype.renderFrame = function () {\n    if (this.isInRange && this._canPlay) {\n      if (!this._isPlaying) {\n        this.audio.play();\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n        this._isPlaying = true;\n      } else if (!this.audio.playing() || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1) {\n        this.audio.seek(this._currentTime / this.globalData.frameRate);\n      }\n    }\n  };\n\n  AudioElement.prototype.show = function () {// this.audio.play()\n  };\n\n  AudioElement.prototype.hide = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n  };\n\n  AudioElement.prototype.pause = function () {\n    this.audio.pause();\n    this._isPlaying = false;\n    this._canPlay = false;\n  };\n\n  AudioElement.prototype.resume = function () {\n    this._canPlay = true;\n  };\n\n  AudioElement.prototype.setRate = function (rateValue) {\n    this.audio.rate(rateValue);\n  };\n\n  AudioElement.prototype.volume = function (volumeValue) {\n    this._volumeMultiplier = volumeValue;\n    this._previousVolume = volumeValue * this._volume;\n    this.audio.volume(this._previousVolume);\n  };\n\n  AudioElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  AudioElement.prototype.destroy = function () {};\n\n  AudioElement.prototype.sourceRectAtTime = function () {};\n\n  AudioElement.prototype.initExpressions = function () {};\n\n  function BaseRenderer() {}\n\n  BaseRenderer.prototype.checkLayers = function (num) {\n    var i;\n    var len = this.layers.length;\n    var data;\n    this.completeLayers = true;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (!this.elements[i]) {\n        data = this.layers[i];\n\n        if (data.ip - data.st <= num - this.layers[i].st && data.op - data.st > num - this.layers[i].st) {\n          this.buildItem(i);\n        }\n      }\n\n      this.completeLayers = this.elements[i] ? this.completeLayers : false;\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.createItem = function (layer) {\n    switch (layer.ty) {\n      case 2:\n        return this.createImage(layer);\n\n      case 0:\n        return this.createComp(layer);\n\n      case 1:\n        return this.createSolid(layer);\n\n      case 3:\n        return this.createNull(layer);\n\n      case 4:\n        return this.createShape(layer);\n\n      case 5:\n        return this.createText(layer);\n\n      case 6:\n        return this.createAudio(layer);\n\n      case 13:\n        return this.createCamera(layer);\n\n      case 15:\n        return this.createFootage(layer);\n\n      default:\n        return this.createNull(layer);\n    }\n  };\n\n  BaseRenderer.prototype.createCamera = function () {\n    throw new Error('You\\'re using a 3d camera. Try the html renderer.');\n  };\n\n  BaseRenderer.prototype.createAudio = function (data) {\n    return new AudioElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.createFootage = function (data) {\n    return new FootageElement(data, this.globalData, this);\n  };\n\n  BaseRenderer.prototype.buildAllItems = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.buildItem(i);\n    }\n\n    this.checkPendingElements();\n  };\n\n  BaseRenderer.prototype.includeLayers = function (newLayers) {\n    this.completeLayers = false;\n    var i;\n    var len = newLayers.length;\n    var j;\n    var jLen = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      j = 0;\n\n      while (j < jLen) {\n        if (this.layers[j].id === newLayers[i].id) {\n          this.layers[j] = newLayers[i];\n          break;\n        }\n\n        j += 1;\n      }\n    }\n  };\n\n  BaseRenderer.prototype.setProjectInterface = function (pInterface) {\n    this.globalData.projectInterface = pInterface;\n  };\n\n  BaseRenderer.prototype.initItems = function () {\n    if (!this.globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n  };\n\n  BaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\n    var elements = this.elements;\n    var layers = this.layers;\n    var i = 0;\n    var len = layers.length;\n\n    while (i < len) {\n      if (layers[i].ind == parentName) {\n        // eslint-disable-line eqeqeq\n        if (!elements[i] || elements[i] === true) {\n          this.buildItem(i);\n          this.addPendingElement(element);\n        } else {\n          hierarchy.push(elements[i]);\n          elements[i].setAsParent();\n\n          if (layers[i].parent !== undefined) {\n            this.buildElementParenting(element, layers[i].parent, hierarchy);\n          } else {\n            element.setHierarchy(hierarchy);\n          }\n        }\n      }\n\n      i += 1;\n    }\n  };\n\n  BaseRenderer.prototype.addPendingElement = function (element) {\n    this.pendingElements.push(element);\n  };\n\n  BaseRenderer.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i]);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  BaseRenderer.prototype.getElementById = function (ind) {\n    var i;\n    var len = this.elements.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i].data.ind === ind) {\n        return this.elements[i];\n      }\n    }\n\n    return null;\n  };\n\n  BaseRenderer.prototype.getElementByPath = function (path) {\n    var pathValue = path.shift();\n    var element;\n\n    if (typeof pathValue === 'number') {\n      element = this.elements[pathValue];\n    } else {\n      var i;\n      var len = this.elements.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (this.elements[i].data.nm === pathValue) {\n          element = this.elements[i];\n          break;\n        }\n      }\n    }\n\n    if (path.length === 0) {\n      return element;\n    }\n\n    return element.getElementByPath(path);\n  };\n\n  BaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\n    this.globalData.fontManager = new FontManager();\n    this.globalData.slotManager = slotFactory(animData);\n    this.globalData.fontManager.addChars(animData.chars);\n    this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\n    this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\n    this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\n    this.globalData.imageLoader = this.animationItem.imagePreloader;\n    this.globalData.audioController = this.animationItem.audioController;\n    this.globalData.frameId = 0;\n    this.globalData.frameRate = animData.fr;\n    this.globalData.nm = animData.nm;\n    this.globalData.compSize = {\n      w: animData.w,\n      h: animData.h\n    };\n  };\n\n  var effectTypes = {\n    TRANSFORM_EFFECT: 'transformEFfect'\n  };\n\n  function TransformElement() {}\n\n  TransformElement.prototype = {\n    initTransform: function initTransform() {\n      var mat = new Matrix();\n      this.finalTransform = {\n        mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : {\n          o: 0\n        },\n        _matMdf: false,\n        _localMatMdf: false,\n        _opMdf: false,\n        mat: mat,\n        localMat: mat,\n        localOpacity: 1\n      };\n\n      if (this.data.ao) {\n        this.finalTransform.mProp.autoOriented = true;\n      } // TODO: check TYPE 11: Guided elements\n\n\n      if (this.data.ty !== 11) {// this.createElements();\n      }\n    },\n    renderTransform: function renderTransform() {\n      this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\n      this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\n\n      if (this.hierarchy) {\n        var mat;\n        var finalMat = this.finalTransform.mat;\n        var i = 0;\n        var len = this.hierarchy.length; // Checking if any of the transformation matrices in the hierarchy chain has changed.\n\n        if (!this.finalTransform._matMdf) {\n          while (i < len) {\n            if (this.hierarchy[i].finalTransform.mProp._mdf) {\n              this.finalTransform._matMdf = true;\n              break;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._matMdf) {\n          mat = this.finalTransform.mProp.v.props;\n          finalMat.cloneFromProps(mat);\n\n          for (i = 0; i < len; i += 1) {\n            finalMat.multiply(this.hierarchy[i].finalTransform.mProp.v);\n          }\n        }\n      }\n\n      if (this.finalTransform._matMdf) {\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderLocalTransform: function renderLocalTransform() {\n      if (this.localTransforms) {\n        var i = 0;\n        var len = this.localTransforms.length;\n        this.finalTransform._localMatMdf = this.finalTransform._matMdf;\n\n        if (!this.finalTransform._localMatMdf || !this.finalTransform._opMdf) {\n          while (i < len) {\n            if (this.localTransforms[i]._mdf) {\n              this.finalTransform._localMatMdf = true;\n            }\n\n            if (this.localTransforms[i]._opMdf && !this.finalTransform._opMdf) {\n              this.finalTransform.localOpacity = this.finalTransform.mProp.o.v;\n              this.finalTransform._opMdf = true;\n            }\n\n            i += 1;\n          }\n        }\n\n        if (this.finalTransform._localMatMdf) {\n          var localMat = this.finalTransform.localMat;\n          this.localTransforms[0].matrix.clone(localMat);\n\n          for (i = 1; i < len; i += 1) {\n            var lmat = this.localTransforms[i].matrix;\n            localMat.multiply(lmat);\n          }\n\n          localMat.multiply(this.finalTransform.mat);\n        }\n\n        if (this.finalTransform._opMdf) {\n          var localOp = this.finalTransform.localOpacity;\n\n          for (i = 0; i < len; i += 1) {\n            localOp *= this.localTransforms[i].opacity * 0.01;\n          }\n\n          this.finalTransform.localOpacity = localOp;\n        }\n      }\n    },\n    searchEffectTransforms: function searchEffectTransforms() {\n      if (this.renderableEffectsManager) {\n        var transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n\n        if (transformEffects.length) {\n          this.localTransforms = [];\n          this.finalTransform.localMat = new Matrix();\n          var i = 0;\n          var len = transformEffects.length;\n\n          for (i = 0; i < len; i += 1) {\n            this.localTransforms.push(transformEffects[i]);\n          }\n        }\n      }\n    },\n    globalToLocal: function globalToLocal(pt) {\n      var transforms = [];\n      transforms.push(this.finalTransform);\n      var flag = true;\n      var comp = this.comp;\n\n      while (flag) {\n        if (comp.finalTransform) {\n          if (comp.data.hasMask) {\n            transforms.splice(0, 0, comp.finalTransform);\n          }\n\n          comp = comp.comp;\n        } else {\n          flag = false;\n        }\n      }\n\n      var i;\n      var len = transforms.length;\n      var ptNew;\n\n      for (i = 0; i < len; i += 1) {\n        ptNew = transforms[i].mat.applyToPointArray(0, 0, 0); // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\n\n        pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\n      }\n\n      return pt;\n    },\n    mHelper: new Matrix()\n  };\n\n  function MaskElement(data, element, globalData) {\n    this.data = data;\n    this.element = element;\n    this.globalData = globalData;\n    this.storedData = [];\n    this.masksProperties = this.data.masksProperties || [];\n    this.maskElement = null;\n    var defs = this.globalData.defs;\n    var i;\n    var len = this.masksProperties ? this.masksProperties.length : 0;\n    this.viewData = createSizedArray(len);\n    this.solidPath = '';\n    var path;\n    var properties = this.masksProperties;\n    var count = 0;\n    var currentMasks = [];\n    var j;\n    var jLen;\n    var layerId = createElementID();\n    var rect;\n    var expansor;\n    var feMorph;\n    var x;\n    var maskType = 'clipPath';\n    var maskRef = 'clip-path';\n\n    for (i = 0; i < len; i += 1) {\n      if (properties[i].mode !== 'a' && properties[i].mode !== 'n' || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\n        maskType = 'mask';\n        maskRef = 'mask';\n      }\n\n      if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\n        rect = createNS('rect');\n        rect.setAttribute('fill', '#ffffff');\n        rect.setAttribute('width', this.element.comp.data.w || 0);\n        rect.setAttribute('height', this.element.comp.data.h || 0);\n        currentMasks.push(rect);\n      } else {\n        rect = null;\n      }\n\n      path = createNS('path');\n\n      if (properties[i].mode === 'n') {\n        // TODO move this to a factory or to a constructor\n        this.viewData[i] = {\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          elem: path,\n          lastPath: ''\n        };\n        defs.appendChild(path);\n      } else {\n        count += 1;\n        path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        path.setAttribute('clip-rule', 'nonzero');\n        var filterID;\n\n        if (properties[i].x.k !== 0) {\n          maskType = 'mask';\n          maskRef = 'mask';\n          x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\n          filterID = createElementID();\n          expansor = createNS('filter');\n          expansor.setAttribute('id', filterID);\n          feMorph = createNS('feMorphology');\n          feMorph.setAttribute('operator', 'erode');\n          feMorph.setAttribute('in', 'SourceGraphic');\n          feMorph.setAttribute('radius', '0');\n          expansor.appendChild(feMorph);\n          defs.appendChild(expansor);\n          path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\n        } else {\n          feMorph = null;\n          x = null;\n        } // TODO move this to a factory or to a constructor\n\n\n        this.storedData[i] = {\n          elem: path,\n          x: x,\n          expan: feMorph,\n          lastPath: '',\n          lastOperator: '',\n          filterId: filterID,\n          lastRadius: 0\n        };\n\n        if (properties[i].mode === 'i') {\n          jLen = currentMasks.length;\n          var g = createNS('g');\n\n          for (j = 0; j < jLen; j += 1) {\n            g.appendChild(currentMasks[j]);\n          }\n\n          var mask = createNS('mask');\n          mask.setAttribute('mask-type', 'alpha');\n          mask.setAttribute('id', layerId + '_' + count);\n          mask.appendChild(path);\n          defs.appendChild(mask);\n          g.setAttribute('mask', 'url(' + getLocationHref() + '#' + layerId + '_' + count + ')');\n          currentMasks.length = 0;\n          currentMasks.push(g);\n        } else {\n          currentMasks.push(path);\n        }\n\n        if (properties[i].inv && !this.solidPath) {\n          this.solidPath = this.createLayerSolidPath();\n        } // TODO move this to a factory or to a constructor\n\n\n        this.viewData[i] = {\n          elem: path,\n          lastPath: '',\n          op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\n          prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\n          invRect: rect\n        };\n\n        if (!this.viewData[i].prop.k) {\n          this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\n        }\n      }\n    }\n\n    this.maskElement = createNS(maskType);\n    len = currentMasks.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.maskElement.appendChild(currentMasks[i]);\n    }\n\n    if (count > 0) {\n      this.maskElement.setAttribute('id', layerId);\n      this.element.maskedElement.setAttribute(maskRef, 'url(' + getLocationHref() + '#' + layerId + ')');\n      defs.appendChild(this.maskElement);\n    }\n\n    if (this.viewData.length) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  MaskElement.prototype.getMaskProperty = function (pos) {\n    return this.viewData[pos].prop;\n  };\n\n  MaskElement.prototype.renderFrame = function (isFirstFrame) {\n    var finalMat = this.element.finalTransform.mat;\n    var i;\n    var len = this.masksProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.viewData[i].prop._mdf || isFirstFrame) {\n        this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\n      }\n\n      if (this.viewData[i].op._mdf || isFirstFrame) {\n        this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\n      }\n\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\n          this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\n        }\n\n        if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\n          var feMorph = this.storedData[i].expan;\n\n          if (this.storedData[i].x.v < 0) {\n            if (this.storedData[i].lastOperator !== 'erode') {\n              this.storedData[i].lastOperator = 'erode';\n              this.storedData[i].elem.setAttribute('filter', 'url(' + getLocationHref() + '#' + this.storedData[i].filterId + ')');\n            }\n\n            feMorph.setAttribute('radius', -this.storedData[i].x.v);\n          } else {\n            if (this.storedData[i].lastOperator !== 'dilate') {\n              this.storedData[i].lastOperator = 'dilate';\n              this.storedData[i].elem.setAttribute('filter', null);\n            }\n\n            this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\n          }\n        }\n      }\n    }\n  };\n\n  MaskElement.prototype.getMaskelement = function () {\n    return this.maskElement;\n  };\n\n  MaskElement.prototype.createLayerSolidPath = function () {\n    var path = 'M0,0 ';\n    path += ' h' + this.globalData.compSize.w;\n    path += ' v' + this.globalData.compSize.h;\n    path += ' h-' + this.globalData.compSize.w;\n    path += ' v-' + this.globalData.compSize.h + ' ';\n    return path;\n  };\n\n  MaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\n    var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    var i;\n    var len;\n    len = pathNodes._length;\n\n    for (i = 1; i < len; i += 1) {\n      // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\n    } // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\n\n\n    if (pathNodes.c && len > 1) {\n      pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\n    } // pathNodes.__renderedString = pathString;\n\n\n    if (viewData.lastPath !== pathString) {\n      var pathShapeValue = '';\n\n      if (viewData.elem) {\n        if (pathNodes.c) {\n          pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\n        }\n\n        viewData.elem.setAttribute('d', pathShapeValue);\n      }\n\n      viewData.lastPath = pathString;\n    }\n  };\n\n  MaskElement.prototype.destroy = function () {\n    this.element = null;\n    this.globalData = null;\n    this.maskElement = null;\n    this.data = null;\n    this.masksProperties = null;\n  };\n\n  var filtersFactory = function () {\n    var ob = {};\n    ob.createFilter = createFilter;\n    ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\n\n    function createFilter(filId, skipCoordinates) {\n      var fil = createNS('filter');\n      fil.setAttribute('id', filId);\n\n      if (skipCoordinates !== true) {\n        fil.setAttribute('filterUnits', 'objectBoundingBox');\n        fil.setAttribute('x', '0%');\n        fil.setAttribute('y', '0%');\n        fil.setAttribute('width', '100%');\n        fil.setAttribute('height', '100%');\n      }\n\n      return fil;\n    }\n\n    function createAlphaToLuminanceFilter() {\n      var feColorMatrix = createNS('feColorMatrix');\n      feColorMatrix.setAttribute('type', 'matrix');\n      feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n      feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\n      return feColorMatrix;\n    }\n\n    return ob;\n  }();\n\n  var featureSupport = function () {\n    var ob = {\n      maskType: true,\n      svgLumaHidden: true,\n      offscreenCanvas: typeof OffscreenCanvas !== 'undefined'\n    };\n\n    if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\n      ob.maskType = false;\n    }\n\n    if (/firefox/i.test(navigator.userAgent)) {\n      ob.svgLumaHidden = false;\n    }\n\n    return ob;\n  }();\n\n  var registeredEffects$1 = {};\n  var idPrefix = 'filter_result_';\n\n  function SVGEffects(elem) {\n    var i;\n    var source = 'SourceGraphic';\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    var filId = createElementID();\n    var fil = filtersFactory.createFilter(filId, true);\n    var count = 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects$1[type]) {\n        var Effect = registeredEffects$1[type].effect;\n        filterManager = new Effect(fil, elem.effectsManager.effectElements[i], elem, idPrefix + count, source);\n        source = idPrefix + count;\n\n        if (registeredEffects$1[type].countsAsEffect) {\n          count += 1;\n        }\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (count) {\n      elem.globalData.defs.appendChild(fil);\n      elem.layerElement.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  SVGEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  SVGEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n\n    return effects;\n  };\n\n  function registerEffect$1(id, effect, countsAsEffect) {\n    registeredEffects$1[id] = {\n      effect: effect,\n      countsAsEffect: countsAsEffect\n    };\n  }\n\n  function SVGBaseElement() {}\n\n  SVGBaseElement.prototype = {\n    initRendererElement: function initRendererElement() {\n      this.layerElement = createNS('g');\n    },\n    createContainerElements: function createContainerElements() {\n      this.matteElement = createNS('g');\n      this.transformedElement = this.layerElement;\n      this.maskedElement = this.layerElement;\n      this._sizeChanged = false;\n      var layerElementParent = null; // If this layer acts as a mask for the following layer\n\n      if (this.data.td) {\n        this.matteMasks = {};\n        var gg = createNS('g');\n        gg.setAttribute('id', this.layerId);\n        gg.appendChild(this.layerElement);\n        layerElementParent = gg;\n        this.globalData.defs.appendChild(gg);\n      } else if (this.data.tt) {\n        this.matteElement.appendChild(this.layerElement);\n        layerElementParent = this.matteElement;\n        this.baseElement = this.matteElement;\n      } else {\n        this.baseElement = this.layerElement;\n      }\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      } // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\n\n\n      if (this.data.ty === 0 && !this.data.hd) {\n        var cp = createNS('clipPath');\n        var pt = createNS('path');\n        pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\n        var clipId = createElementID();\n        cp.setAttribute('id', clipId);\n        cp.appendChild(pt);\n        this.globalData.defs.appendChild(cp);\n\n        if (this.checkMasks()) {\n          var cpGroup = createNS('g');\n          cpGroup.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n          cpGroup.appendChild(this.layerElement);\n          this.transformedElement = cpGroup;\n\n          if (layerElementParent) {\n            layerElementParent.appendChild(this.transformedElement);\n          } else {\n            this.baseElement = this.transformedElement;\n          }\n        } else {\n          this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + clipId + ')');\n        }\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      if (this.finalTransform._localMatMdf) {\n        this.transformedElement.setAttribute('transform', this.finalTransform.localMat.to2dCSS());\n      }\n\n      if (this.finalTransform._opMdf) {\n        this.transformedElement.setAttribute('opacity', this.finalTransform.localOpacity);\n      }\n    },\n    destroyBaseElement: function destroyBaseElement() {\n      this.layerElement = null;\n      this.matteElement = null;\n      this.maskManager.destroy();\n    },\n    getBaseElement: function getBaseElement() {\n      if (this.data.hd) {\n        return null;\n      }\n\n      return this.baseElement;\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n      this.renderableEffectsManager = new SVGEffects(this);\n      this.searchEffectTransforms();\n    },\n    getMatte: function getMatte(matteType) {\n      // This should not be a common case. But for backward compatibility, we'll create the matte object.\n      // It solves animations that have two consecutive layers marked as matte masks.\n      // Which is an undefined behavior in AE.\n      if (!this.matteMasks) {\n        this.matteMasks = {};\n      }\n\n      if (!this.matteMasks[matteType]) {\n        var id = this.layerId + '_' + matteType;\n        var filId;\n        var fil;\n        var useElement;\n        var gg;\n\n        if (matteType === 1 || matteType === 3) {\n          var masker = createNS('mask');\n          masker.setAttribute('id', id);\n          masker.setAttribute('mask-type', matteType === 3 ? 'luminance' : 'alpha');\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          masker.appendChild(useElement);\n          this.globalData.defs.appendChild(masker);\n\n          if (!featureSupport.maskType && matteType === 1) {\n            masker.setAttribute('mask-type', 'luminance');\n            filId = createElementID();\n            fil = filtersFactory.createFilter(filId);\n            this.globalData.defs.appendChild(fil);\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            gg.appendChild(useElement);\n            masker.appendChild(gg);\n            gg.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          }\n        } else if (matteType === 2) {\n          var maskGroup = createNS('mask');\n          maskGroup.setAttribute('id', id);\n          maskGroup.setAttribute('mask-type', 'alpha');\n          var maskGrouper = createNS('g');\n          maskGroup.appendChild(maskGrouper);\n          filId = createElementID();\n          fil = filtersFactory.createFilter(filId); /// /\n\n          var feCTr = createNS('feComponentTransfer');\n          feCTr.setAttribute('in', 'SourceGraphic');\n          fil.appendChild(feCTr);\n          var feFunc = createNS('feFuncA');\n          feFunc.setAttribute('type', 'table');\n          feFunc.setAttribute('tableValues', '1.0 0.0');\n          feCTr.appendChild(feFunc); /// /\n\n          this.globalData.defs.appendChild(fil);\n          var alphaRect = createNS('rect');\n          alphaRect.setAttribute('width', this.comp.data.w);\n          alphaRect.setAttribute('height', this.comp.data.h);\n          alphaRect.setAttribute('x', '0');\n          alphaRect.setAttribute('y', '0');\n          alphaRect.setAttribute('fill', '#ffffff');\n          alphaRect.setAttribute('opacity', '0');\n          maskGrouper.setAttribute('filter', 'url(' + getLocationHref() + '#' + filId + ')');\n          maskGrouper.appendChild(alphaRect);\n          useElement = createNS('use');\n          useElement.setAttributeNS('http://www.w3.org/1999/xlink', 'href', '#' + this.layerId);\n          maskGrouper.appendChild(useElement);\n\n          if (!featureSupport.maskType) {\n            maskGroup.setAttribute('mask-type', 'luminance');\n            fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\n            gg = createNS('g');\n            maskGrouper.appendChild(alphaRect);\n            gg.appendChild(this.layerElement);\n            maskGrouper.appendChild(gg);\n          }\n\n          this.globalData.defs.appendChild(maskGroup);\n        }\n\n        this.matteMasks[matteType] = id;\n      }\n\n      return this.matteMasks[matteType];\n    },\n    setMatte: function setMatte(id) {\n      if (!this.matteElement) {\n        return;\n      }\n\n      this.matteElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n    }\n  };\n\n  /**\r\n   * @file\r\n   * Handles AE's layer parenting property.\r\n   *\r\n   */\n  function HierarchyElement() {}\n\n  HierarchyElement.prototype = {\n    /**\r\n       * @function\r\n       * Initializes hierarchy properties\r\n       *\r\n       */\n    initHierarchy: function initHierarchy() {\n      // element's parent list\n      this.hierarchy = []; // if element is parent of another layer _isParent will be true\n\n      this._isParent = false;\n      this.checkParenting();\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer's hierarchy.\r\n       * @param {array} hierarch\r\n       * layer's parent list\r\n       *\r\n       */\n    setHierarchy: function setHierarchy(hierarchy) {\n      this.hierarchy = hierarchy;\n    },\n\n    /**\r\n       * @function\r\n       * Sets layer as parent.\r\n       *\r\n       */\n    setAsParent: function setAsParent() {\n      this._isParent = true;\n    },\n\n    /**\r\n       * @function\r\n       * Searches layer's parenting chain\r\n       *\r\n       */\n    checkParenting: function checkParenting() {\n      if (this.data.parent !== undefined) {\n        this.comp.buildElementParenting(this, this.data.parent, []);\n      }\n    }\n  };\n\n  function RenderableDOMElement() {}\n\n  (function () {\n    var _prototype = {\n      initElement: function initElement(data, globalData, comp) {\n        this.initFrame();\n        this.initBaseData(data, globalData, comp);\n        this.initTransform(data, globalData, comp);\n        this.initHierarchy();\n        this.initRenderable();\n        this.initRendererElement();\n        this.createContainerElements();\n        this.createRenderableComponents();\n        this.createContent();\n        this.hide();\n      },\n      hide: function hide() {\n        // console.log('HIDE', this);\n        if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n          var elem = this.baseElement || this.layerElement;\n          elem.style.display = 'none';\n          this.hidden = true;\n        }\n      },\n      show: function show() {\n        // console.log('SHOW', this);\n        if (this.isInRange && !this.isTransparent) {\n          if (!this.data.hd) {\n            var elem = this.baseElement || this.layerElement;\n            elem.style.display = 'block';\n          }\n\n          this.hidden = false;\n          this._isFirstFrame = true;\n        }\n      },\n      renderFrame: function renderFrame() {\n        // If it is exported as hidden (data.hd === true) no need to render\n        // If it is not visible no need to render\n        if (this.data.hd || this.hidden) {\n          return;\n        }\n\n        this.renderTransform();\n        this.renderRenderable();\n        this.renderLocalTransform();\n        this.renderElement();\n        this.renderInnerContent();\n\n        if (this._isFirstFrame) {\n          this._isFirstFrame = false;\n        }\n      },\n      renderInnerContent: function renderInnerContent() {},\n      prepareFrame: function prepareFrame(num) {\n        this._mdf = false;\n        this.prepareRenderableFrame(num);\n        this.prepareProperties(num, this.isInRange);\n        this.checkTransparency();\n      },\n      destroy: function destroy() {\n        this.innerElem = null;\n        this.destroyBaseElement();\n      }\n    };\n    extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\n  })();\n\n  function IImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n\n    if (this.assetData && this.assetData.sid) {\n      this.assetData = globalData.slotManager.getProp(this.assetData);\n    }\n\n    this.initElement(data, globalData, comp);\n    this.sourceRect = {\n      top: 0,\n      left: 0,\n      width: this.assetData.w,\n      height: this.assetData.h\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\n\n  IImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    this.innerElem = createNS('image');\n    this.innerElem.setAttribute('width', this.assetData.w + 'px');\n    this.innerElem.setAttribute('height', this.assetData.h + 'px');\n    this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\n    this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n    this.layerElement.appendChild(this.innerElem);\n  };\n\n  IImageElement.prototype.sourceRectAtTime = function () {\n    return this.sourceRect;\n  };\n\n  function ProcessedElement(element, position) {\n    this.elem = element;\n    this.pos = position;\n  }\n\n  function IShapeElement() {}\n\n  IShapeElement.prototype = {\n    addShapeToModifiers: function addShapeToModifiers(data) {\n      var i;\n      var len = this.shapeModifiers.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapeModifiers[i].addShape(data);\n      }\n    },\n    isShapeInAnimatedModifiers: function isShapeInAnimatedModifiers(data) {\n      var i = 0;\n      var len = this.shapeModifiers.length;\n\n      while (i < len) {\n        if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\n          return true;\n        }\n      }\n\n      return false;\n    },\n    renderModifiers: function renderModifiers() {\n      if (!this.shapeModifiers.length) {\n        return;\n      }\n\n      var i;\n      var len = this.shapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.shapes[i].sh.reset();\n      }\n\n      len = this.shapeModifiers.length;\n      var shouldBreakProcess;\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame); // workaround to fix cases where a repeater resets the shape so the following processes get called twice\n        // TODO: find a better solution for this\n\n        if (shouldBreakProcess) {\n          break;\n        }\n      }\n    },\n    searchProcessedElement: function searchProcessedElement(elem) {\n      var elements = this.processedElements;\n      var i = 0;\n      var len = elements.length;\n\n      while (i < len) {\n        if (elements[i].elem === elem) {\n          return elements[i].pos;\n        }\n\n        i += 1;\n      }\n\n      return 0;\n    },\n    addProcessedElement: function addProcessedElement(elem, pos) {\n      var elements = this.processedElements;\n      var i = elements.length;\n\n      while (i) {\n        i -= 1;\n\n        if (elements[i].elem === elem) {\n          elements[i].pos = pos;\n          return;\n        }\n      }\n\n      elements.push(new ProcessedElement(elem, pos));\n    },\n    prepareFrame: function prepareFrame(num) {\n      this.prepareRenderableFrame(num);\n      this.prepareProperties(num, this.isInRange);\n    }\n  };\n\n  var lineCapEnum = {\n    1: 'butt',\n    2: 'round',\n    3: 'square'\n  };\n  var lineJoinEnum = {\n    1: 'miter',\n    2: 'round',\n    3: 'bevel'\n  };\n\n  function SVGShapeData(transformers, level, shape) {\n    this.caches = [];\n    this.styles = [];\n    this.transformers = transformers;\n    this.lStr = '';\n    this.sh = shape;\n    this.lvl = level; // TODO find if there are some cases where _isAnimated can be false.\n    // For now, since shapes add up with other shapes. They have to be calculated every time.\n    // One way of finding out is checking if all styles associated to this shape depend only of this shape\n\n    this._isAnimated = !!shape.k; // TODO: commenting this for now since all shapes are animated\n\n    var i = 0;\n    var len = transformers.length;\n\n    while (i < len) {\n      if (transformers[i].mProps.dynamicProperties.length) {\n        this._isAnimated = true;\n        break;\n      }\n\n      i += 1;\n    }\n  }\n\n  SVGShapeData.prototype.setAsAnimated = function () {\n    this._isAnimated = true;\n  };\n\n  function SVGStyleData(data, level) {\n    this.data = data;\n    this.type = data.ty;\n    this.d = '';\n    this.lvl = level;\n    this._mdf = false;\n    this.closed = data.hd === true;\n    this.pElem = createNS('path');\n    this.msElem = null;\n  }\n\n  SVGStyleData.prototype.reset = function () {\n    this.d = '';\n    this._mdf = false;\n  };\n\n  function DashProperty(elem, data, renderer, container) {\n    this.elem = elem;\n    this.frameId = -1;\n    this.dataProps = createSizedArray(data.length);\n    this.renderer = renderer;\n    this.k = false;\n    this.dashStr = '';\n    this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\n    this.dashoffset = createTypedArray('float32', 1);\n    this.initDynamicPropertyContainer(container);\n    var i;\n    var len = data.length || 0;\n    var prop;\n\n    for (i = 0; i < len; i += 1) {\n      prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\n      this.k = prop.k || this.k;\n      this.dataProps[i] = {\n        n: data[i].n,\n        p: prop\n      };\n    }\n\n    if (!this.k) {\n      this.getValue(true);\n    }\n\n    this._isAnimated = this.k;\n  }\n\n  DashProperty.prototype.getValue = function (forceRender) {\n    if (this.elem.globalData.frameId === this.frameId && !forceRender) {\n      return;\n    }\n\n    this.frameId = this.elem.globalData.frameId;\n    this.iterateDynamicProperties();\n    this._mdf = this._mdf || forceRender;\n\n    if (this._mdf) {\n      var i = 0;\n      var len = this.dataProps.length;\n\n      if (this.renderer === 'svg') {\n        this.dashStr = '';\n      }\n\n      for (i = 0; i < len; i += 1) {\n        if (this.dataProps[i].n !== 'o') {\n          if (this.renderer === 'svg') {\n            this.dashStr += ' ' + this.dataProps[i].p.v;\n          } else {\n            this.dashArray[i] = this.dataProps[i].p.v;\n          }\n        } else {\n          this.dashoffset[0] = this.dataProps[i].p.v;\n        }\n      }\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], DashProperty);\n\n  function SVGStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\n\n  function SVGFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGFillStyleData);\n\n  function SVGNoStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.style = styleOb;\n  }\n\n  extendPrototype([DynamicPropertyContainer], SVGNoStyleData);\n\n  function GradientProperty(elem, data, container) {\n    this.data = data;\n    this.c = createTypedArray('uint8c', data.p * 4);\n    var cLength = data.k.k[0].s ? data.k.k[0].s.length - data.p * 4 : data.k.k.length - data.p * 4;\n    this.o = createTypedArray('float32', cLength);\n    this._cmdf = false;\n    this._omdf = false;\n    this._collapsable = this.checkCollapsable();\n    this._hasOpacity = cLength;\n    this.initDynamicPropertyContainer(container);\n    this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\n    this.k = this.prop.k;\n    this.getValue(true);\n  }\n\n  GradientProperty.prototype.comparePoints = function (values, points) {\n    var i = 0;\n    var len = this.o.length / 2;\n    var diff;\n\n    while (i < len) {\n      diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\n\n      if (diff > 0.01) {\n        return false;\n      }\n\n      i += 1;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.checkCollapsable = function () {\n    if (this.o.length / 2 !== this.c.length / 4) {\n      return false;\n    }\n\n    if (this.data.k.k[0].s) {\n      var i = 0;\n      var len = this.data.k.k.length;\n\n      while (i < len) {\n        if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\n          return false;\n        }\n\n        i += 1;\n      }\n    } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\n      return false;\n    }\n\n    return true;\n  };\n\n  GradientProperty.prototype.getValue = function (forceRender) {\n    this.prop.getValue();\n    this._mdf = false;\n    this._cmdf = false;\n    this._omdf = false;\n\n    if (this.prop._mdf || forceRender) {\n      var i;\n      var len = this.data.p * 4;\n      var mult;\n      var val;\n\n      for (i = 0; i < len; i += 1) {\n        mult = i % 4 === 0 ? 100 : 255;\n        val = Math.round(this.prop.v[i] * mult);\n\n        if (this.c[i] !== val) {\n          this.c[i] = val;\n          this._cmdf = !forceRender;\n        }\n      }\n\n      if (this.o.length) {\n        len = this.prop.v.length;\n\n        for (i = this.data.p * 4; i < len; i += 1) {\n          mult = i % 2 === 0 ? 100 : 1;\n          val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\n\n          if (this.o[i - this.data.p * 4] !== val) {\n            this.o[i - this.data.p * 4] = val;\n            this._omdf = !forceRender;\n          }\n        }\n      }\n\n      this._mdf = !forceRender;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], GradientProperty);\n\n  function SVGGradientFillStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.initGradientData(elem, data, styleOb);\n  }\n\n  SVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\n    this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\n    this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\n    this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\n    this.h = PropertyFactory.getProp(elem, data.h || {\n      k: 0\n    }, 0, 0.01, this);\n    this.a = PropertyFactory.getProp(elem, data.a || {\n      k: 0\n    }, 0, degToRads, this);\n    this.g = new GradientProperty(elem, data.g, this);\n    this.style = styleOb;\n    this.stops = [];\n    this.setGradientData(styleOb.pElem, data);\n    this.setGradientOpacity(data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\n    var gradientId = createElementID();\n    var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n    gfill.setAttribute('id', gradientId);\n    gfill.setAttribute('spreadMethod', 'pad');\n    gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\n    var stops = [];\n    var stop;\n    var j;\n    var jLen;\n    jLen = data.g.p * 4;\n\n    for (j = 0; j < jLen; j += 4) {\n      stop = createNS('stop');\n      gfill.appendChild(stop);\n      stops.push(stop);\n    }\n\n    pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + gradientId + ')');\n    this.gf = gfill;\n    this.cst = stops;\n  };\n\n  SVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\n    if (this.g._hasOpacity && !this.g._collapsable) {\n      var stop;\n      var j;\n      var jLen;\n      var mask = createNS('mask');\n      var maskElement = createNS('path');\n      mask.appendChild(maskElement);\n      var opacityId = createElementID();\n      var maskId = createElementID();\n      mask.setAttribute('id', maskId);\n      var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\n      opFill.setAttribute('id', opacityId);\n      opFill.setAttribute('spreadMethod', 'pad');\n      opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\n      jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\n      var stops = this.stops;\n\n      for (j = data.g.p * 4; j < jLen; j += 2) {\n        stop = createNS('stop');\n        stop.setAttribute('stop-color', 'rgb(255,255,255)');\n        opFill.appendChild(stop);\n        stops.push(stop);\n      }\n\n      maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + getLocationHref() + '#' + opacityId + ')');\n\n      if (data.ty === 'gs') {\n        maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n        maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n\n        if (data.lj === 1) {\n          maskElement.setAttribute('stroke-miterlimit', data.ml);\n        }\n      }\n\n      this.of = opFill;\n      this.ms = mask;\n      this.ost = stops;\n      this.maskId = maskId;\n      styleOb.msElem = maskElement;\n    }\n  };\n\n  extendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\n\n  function SVGGradientStrokeStyleData(elem, data, styleOb) {\n    this.initDynamicPropertyContainer(elem);\n    this.getValue = this.iterateDynamicProperties;\n    this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\n    this.d = new DashProperty(elem, data.d || {}, 'svg', this);\n    this.initGradientData(elem, data, styleOb);\n    this._isAnimated = !!this._isAnimated;\n  }\n\n  extendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\n\n  function ShapeGroupData() {\n    this.it = [];\n    this.prevViewData = [];\n    this.gr = createNS('g');\n  }\n\n  function SVGTransformData(mProps, op, container) {\n    this.transform = {\n      mProps: mProps,\n      op: op,\n      container: container\n    };\n    this.elements = [];\n    this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\n  }\n\n  var buildShapeString = function buildShapeString(pathNodes, length, closed, mat) {\n    if (length === 0) {\n      return '';\n    }\n\n    var _o = pathNodes.o;\n    var _i = pathNodes.i;\n    var _v = pathNodes.v;\n    var i;\n    var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n\n    for (i = 1; i < length; i += 1) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\n    }\n\n    if (closed && length) {\n      shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\n      shapeString += 'z';\n    }\n\n    return shapeString;\n  };\n\n  var SVGElementsRenderer = function () {\n    var _identityMatrix = new Matrix();\n\n    var _matrixHelper = new Matrix();\n\n    var ob = {\n      createRenderFunction: createRenderFunction\n    };\n\n    function createRenderFunction(data) {\n      switch (data.ty) {\n        case 'fl':\n          return renderFill;\n\n        case 'gf':\n          return renderGradient;\n\n        case 'gs':\n          return renderGradientStroke;\n\n        case 'st':\n          return renderStroke;\n\n        case 'sh':\n        case 'el':\n        case 'rc':\n        case 'sr':\n          return renderPath;\n\n        case 'tr':\n          return renderContentTransform;\n\n        case 'no':\n          return renderNoop;\n\n        default:\n          return null;\n      }\n    }\n\n    function renderContentTransform(styleData, itemData, isFirstFrame) {\n      if (isFirstFrame || itemData.transform.op._mdf) {\n        itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\n      }\n\n      if (isFirstFrame || itemData.transform.mProps._mdf) {\n        itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\n      }\n    }\n\n    function renderNoop() {}\n\n    function renderPath(styleData, itemData, isFirstFrame) {\n      var j;\n      var jLen;\n      var pathStringTransformed;\n      var redraw;\n      var pathNodes;\n      var l;\n      var lLen = itemData.styles.length;\n      var lvl = itemData.lvl;\n      var paths;\n      var mat;\n      var iterations;\n      var k;\n\n      for (l = 0; l < lLen; l += 1) {\n        redraw = itemData.sh._mdf || isFirstFrame;\n\n        if (itemData.styles[l].lvl < lvl) {\n          mat = _matrixHelper.reset();\n          iterations = lvl - itemData.styles[l].lvl;\n          k = itemData.transformers.length - 1;\n\n          while (!redraw && iterations > 0) {\n            redraw = itemData.transformers[k].mProps._mdf || redraw;\n            iterations -= 1;\n            k -= 1;\n          }\n\n          if (redraw) {\n            iterations = lvl - itemData.styles[l].lvl;\n            k = itemData.transformers.length - 1;\n\n            while (iterations > 0) {\n              mat.multiply(itemData.transformers[k].mProps.v);\n              iterations -= 1;\n              k -= 1;\n            }\n          }\n        } else {\n          mat = _identityMatrix;\n        }\n\n        paths = itemData.sh.paths;\n        jLen = paths._length;\n\n        if (redraw) {\n          pathStringTransformed = '';\n\n          for (j = 0; j < jLen; j += 1) {\n            pathNodes = paths.shapes[j];\n\n            if (pathNodes && pathNodes._length) {\n              pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\n            }\n          }\n\n          itemData.caches[l] = pathStringTransformed;\n        } else {\n          pathStringTransformed = itemData.caches[l];\n        }\n\n        itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\n        itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\n      }\n    }\n\n    function renderFill(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n\n      if (itemData.c._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\n      }\n    }\n\n    function renderGradientStroke(styleData, itemData, isFirstFrame) {\n      renderGradient(styleData, itemData, isFirstFrame);\n      renderStroke(styleData, itemData, isFirstFrame);\n    }\n\n    function renderGradient(styleData, itemData, isFirstFrame) {\n      var gfill = itemData.gf;\n      var hasOpacity = itemData.g._hasOpacity;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (itemData.o._mdf || isFirstFrame) {\n        var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\n        itemData.style.pElem.setAttribute(attr, itemData.o.v);\n      }\n\n      if (itemData.s._mdf || isFirstFrame) {\n        var attr1 = styleData.t === 1 ? 'x1' : 'cx';\n        var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\n        gfill.setAttribute(attr1, pt1[0]);\n        gfill.setAttribute(attr2, pt1[1]);\n\n        if (hasOpacity && !itemData.g._collapsable) {\n          itemData.of.setAttribute(attr1, pt1[0]);\n          itemData.of.setAttribute(attr2, pt1[1]);\n        }\n      }\n\n      var stops;\n      var i;\n      var len;\n      var stop;\n\n      if (itemData.g._cmdf || isFirstFrame) {\n        stops = itemData.cst;\n        var cValues = itemData.g.c;\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n          stop.setAttribute('offset', cValues[i * 4] + '%');\n          stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\n        }\n      }\n\n      if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\n        var oValues = itemData.g.o;\n\n        if (itemData.g._collapsable) {\n          stops = itemData.cst;\n        } else {\n          stops = itemData.ost;\n        }\n\n        len = stops.length;\n\n        for (i = 0; i < len; i += 1) {\n          stop = stops[i];\n\n          if (!itemData.g._collapsable) {\n            stop.setAttribute('offset', oValues[i * 2] + '%');\n          }\n\n          stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\n        }\n      }\n\n      if (styleData.t === 1) {\n        if (itemData.e._mdf || isFirstFrame) {\n          gfill.setAttribute('x2', pt2[0]);\n          gfill.setAttribute('y2', pt2[1]);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('x2', pt2[0]);\n            itemData.of.setAttribute('y2', pt2[1]);\n          }\n        }\n      } else {\n        var rad;\n\n        if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          gfill.setAttribute('r', rad);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('r', rad);\n          }\n        }\n\n        if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\n          if (!rad) {\n            rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n          }\n\n          var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n          var percent = itemData.h.v;\n\n          if (percent >= 1) {\n            percent = 0.99;\n          } else if (percent <= -1) {\n            percent = -0.99;\n          }\n\n          var dist = rad * percent;\n          var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n          var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n          gfill.setAttribute('fx', x);\n          gfill.setAttribute('fy', y);\n\n          if (hasOpacity && !itemData.g._collapsable) {\n            itemData.of.setAttribute('fx', x);\n            itemData.of.setAttribute('fy', y);\n          }\n        } // gfill.setAttribute('fy','200');\n\n      }\n    }\n\n    function renderStroke(styleData, itemData, isFirstFrame) {\n      var styleElem = itemData.style;\n      var d = itemData.d;\n\n      if (d && (d._mdf || isFirstFrame) && d.dashStr) {\n        styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\n        styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\n      }\n\n      if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\n        styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\n      }\n\n      if (itemData.o._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\n      }\n\n      if (itemData.w._mdf || isFirstFrame) {\n        styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\n\n        if (styleElem.msElem) {\n          styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\n        }\n      }\n    }\n\n    return ob;\n  }();\n\n  function SVGShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = []; // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\n\n  SVGShapeElement.prototype.initSecondaryElement = function () {};\n\n  SVGShapeElement.prototype.identityMatrix = new Matrix();\n\n  SVGShapeElement.prototype.buildExpressionInterface = function () {};\n\n  SVGShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n  };\n  /*\r\n  This method searches for multiple shapes that affect a single element and one of them is animated\r\n  */\n\n\n  SVGShapeElement.prototype.filterUniqueShapes = function () {\n    var i;\n    var len = this.shapes.length;\n    var shape;\n    var j;\n    var jLen = this.stylesList.length;\n    var style;\n    var tempShapes = [];\n    var areAnimated = false;\n\n    for (j = 0; j < jLen; j += 1) {\n      style = this.stylesList[j];\n      areAnimated = false;\n      tempShapes.length = 0;\n\n      for (i = 0; i < len; i += 1) {\n        shape = this.shapes[i];\n\n        if (shape.styles.indexOf(style) !== -1) {\n          tempShapes.push(shape);\n          areAnimated = shape._isAnimated || areAnimated;\n        }\n      }\n\n      if (tempShapes.length > 1 && areAnimated) {\n        this.setShapesAsAnimated(tempShapes);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\n    var i;\n    var len = shapes.length;\n\n    for (i = 0; i < len; i += 1) {\n      shapes[i].setAsAnimated();\n    }\n  };\n\n  SVGShapeElement.prototype.createStyleElement = function (data, level) {\n    // TODO: prevent drawing of hidden styles\n    var elementData;\n    var styleOb = new SVGStyleData(data, level);\n    var pathElement = styleOb.pElem;\n\n    if (data.ty === 'st') {\n      elementData = new SVGStrokeStyleData(this, data, styleOb);\n    } else if (data.ty === 'fl') {\n      elementData = new SVGFillStyleData(this, data, styleOb);\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\n      elementData = new GradientConstructor(this, data, styleOb);\n      this.globalData.defs.appendChild(elementData.gf);\n\n      if (elementData.maskId) {\n        this.globalData.defs.appendChild(elementData.ms);\n        this.globalData.defs.appendChild(elementData.of);\n        pathElement.setAttribute('mask', 'url(' + getLocationHref() + '#' + elementData.maskId + ')');\n      }\n    } else if (data.ty === 'no') {\n      elementData = new SVGNoStyleData(this, data, styleOb);\n    }\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\n      pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\n      pathElement.setAttribute('fill-opacity', '0');\n\n      if (data.lj === 1) {\n        pathElement.setAttribute('stroke-miterlimit', data.ml);\n      }\n    }\n\n    if (data.r === 2) {\n      pathElement.setAttribute('fill-rule', 'evenodd');\n    }\n\n    if (data.ln) {\n      pathElement.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      pathElement.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    this.stylesList.push(styleOb);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createGroupElement = function (data) {\n    var elementData = new ShapeGroupData();\n\n    if (data.ln) {\n      elementData.gr.setAttribute('id', data.ln);\n    }\n\n    if (data.cl) {\n      elementData.gr.setAttribute('class', data.cl);\n    }\n\n    if (data.bm) {\n      elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\n    }\n\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createTransformElement = function (data, container) {\n    var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\n    var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\n    var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    this.addToAnimatedContents(data, elementData);\n    return elementData;\n  };\n\n  SVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\n    var i = 0;\n    var len = this.animatedContents.length;\n\n    while (i < len) {\n      if (this.animatedContents[i].element === element) {\n        return;\n      }\n\n      i += 1;\n    }\n\n    this.animatedContents.push({\n      fn: SVGElementsRenderer.createRenderFunction(data),\n      element: element,\n      data: data\n    });\n  };\n\n  SVGShapeElement.prototype.setElementStyles = function (elementData) {\n    var arr = elementData.styles;\n    var j;\n    var jLen = this.stylesList.length;\n\n    for (j = 0; j < jLen; j += 1) {\n      if (!this.stylesList[j].closed) {\n        arr.push(this.stylesList[j]);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\n    this.filterUniqueShapes();\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n  };\n\n  SVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\n    var ownTransformers = [].concat(transformers);\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var currentTransform;\n    var modifier;\n    var processedPos;\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._render = render;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs' || arr[i].ty === 'no') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], level);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        if (arr[i]._render) {\n          if (itemsData[i].style.pElem.parentNode !== container) {\n            container.appendChild(itemsData[i].style.pElem);\n          }\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\n\n        if (arr[i]._render) {\n          if (itemsData[i].gr.parentNode !== container) {\n            container.appendChild(itemsData[i].gr);\n          }\n        }\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          itemsData[i] = this.createTransformElement(arr[i], container);\n        }\n\n        currentTransform = itemsData[i].transform;\n        ownTransformers.push(currentTransform);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\n        }\n\n        this.setElementStyles(itemsData[i]);\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          render = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    len = ownStyles.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownStyles[i].closed = true;\n    }\n\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  SVGShapeElement.prototype.renderInnerContent = function () {\n    this.renderModifiers();\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.stylesList[i].reset();\n    }\n\n    this.renderShape();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.stylesList[i]._mdf || this._isFirstFrame) {\n        if (this.stylesList[i].msElem) {\n          this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d); // Adding M0 0 fixes same mask bug on all browsers\n\n          this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\n        }\n\n        this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.renderShape = function () {\n    var i;\n    var len = this.animatedContents.length;\n    var animatedContent;\n\n    for (i = 0; i < len; i += 1) {\n      animatedContent = this.animatedContents[i];\n\n      if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\n        animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\n      }\n    }\n  };\n\n  SVGShapeElement.prototype.destroy = function () {\n    this.destroyBaseElement();\n    this.shapesData = null;\n    this.itemsData = null;\n  };\n\n  function LetterProps(o, sw, sc, fc, m, p) {\n    this.o = o;\n    this.sw = sw;\n    this.sc = sc;\n    this.fc = fc;\n    this.m = m;\n    this.p = p;\n    this._mdf = {\n      o: true,\n      sw: !!sw,\n      sc: !!sc,\n      fc: !!fc,\n      m: true,\n      p: true\n    };\n  }\n\n  LetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\n    this._mdf.o = false;\n    this._mdf.sw = false;\n    this._mdf.sc = false;\n    this._mdf.fc = false;\n    this._mdf.m = false;\n    this._mdf.p = false;\n    var updated = false;\n\n    if (this.o !== o) {\n      this.o = o;\n      this._mdf.o = true;\n      updated = true;\n    }\n\n    if (this.sw !== sw) {\n      this.sw = sw;\n      this._mdf.sw = true;\n      updated = true;\n    }\n\n    if (this.sc !== sc) {\n      this.sc = sc;\n      this._mdf.sc = true;\n      updated = true;\n    }\n\n    if (this.fc !== fc) {\n      this.fc = fc;\n      this._mdf.fc = true;\n      updated = true;\n    }\n\n    if (this.m !== m) {\n      this.m = m;\n      this._mdf.m = true;\n      updated = true;\n    }\n\n    if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\n      this.p = p;\n      this._mdf.p = true;\n      updated = true;\n    }\n\n    return updated;\n  };\n\n  function TextProperty(elem, data) {\n    this._frameId = initialDefaultFrame;\n    this.pv = '';\n    this.v = '';\n    this.kf = false;\n    this._isFirstFrame = true;\n    this._mdf = false;\n\n    if (data.d && data.d.sid) {\n      data.d = elem.globalData.slotManager.getProp(data.d);\n    }\n\n    this.data = data;\n    this.elem = elem;\n    this.comp = this.elem.comp;\n    this.keysIndex = 0;\n    this.canResize = false;\n    this.minimumFontSize = 1;\n    this.effectsSequence = [];\n    this.currentData = {\n      ascent: 0,\n      boxWidth: this.defaultBoxWidth,\n      f: '',\n      fStyle: '',\n      fWeight: '',\n      fc: '',\n      j: '',\n      justifyOffset: '',\n      l: [],\n      lh: 0,\n      lineWidths: [],\n      ls: '',\n      of: '',\n      s: '',\n      sc: '',\n      sw: 0,\n      t: 0,\n      tr: 0,\n      sz: 0,\n      ps: null,\n      fillColorAnim: false,\n      strokeColorAnim: false,\n      strokeWidthAnim: false,\n      yOffset: 0,\n      finalSize: 0,\n      finalText: [],\n      finalLineHeight: 0,\n      __complete: false\n    };\n    this.copyData(this.currentData, this.data.d.k[0].s);\n\n    if (!this.searchProperty()) {\n      this.completeTextData(this.currentData);\n    }\n  }\n\n  TextProperty.prototype.defaultBoxWidth = [0, 0];\n\n  TextProperty.prototype.copyData = function (obj, data) {\n    for (var s in data) {\n      if (Object.prototype.hasOwnProperty.call(data, s)) {\n        obj[s] = data[s];\n      }\n    }\n\n    return obj;\n  };\n\n  TextProperty.prototype.setCurrentData = function (data) {\n    if (!data.__complete) {\n      this.completeTextData(data);\n    }\n\n    this.currentData = data;\n    this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\n    this._mdf = true;\n  };\n\n  TextProperty.prototype.searchProperty = function () {\n    return this.searchKeyframes();\n  };\n\n  TextProperty.prototype.searchKeyframes = function () {\n    this.kf = this.data.d.k.length > 1;\n\n    if (this.kf) {\n      this.addEffect(this.getKeyframeValue.bind(this));\n    }\n\n    return this.kf;\n  };\n\n  TextProperty.prototype.addEffect = function (effectFunction) {\n    this.effectsSequence.push(effectFunction);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.getValue = function (_finalValue) {\n    if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\n      return;\n    }\n\n    this.currentData.t = this.data.d.k[this.keysIndex].s.t;\n    var currentValue = this.currentData;\n    var currentIndex = this.keysIndex;\n\n    if (this.lock) {\n      this.setCurrentData(this.currentData);\n      return;\n    }\n\n    this.lock = true;\n    this._mdf = false;\n    var i;\n    var len = this.effectsSequence.length;\n    var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\n\n    for (i = 0; i < len; i += 1) {\n      // Checking if index changed to prevent creating a new object every time the expression updates.\n      if (currentIndex !== this.keysIndex) {\n        finalValue = this.effectsSequence[i](finalValue, finalValue.t);\n      } else {\n        finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\n      }\n    }\n\n    if (currentValue !== finalValue) {\n      this.setCurrentData(finalValue);\n    }\n\n    this.v = this.currentData;\n    this.pv = this.v;\n    this.lock = false;\n    this.frameId = this.elem.globalData.frameId;\n  };\n\n  TextProperty.prototype.getKeyframeValue = function () {\n    var textKeys = this.data.d.k;\n    var frameNum = this.elem.comp.renderedFrame;\n    var i = 0;\n    var len = textKeys.length;\n\n    while (i <= len - 1) {\n      if (i === len - 1 || textKeys[i + 1].t > frameNum) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    if (this.keysIndex !== i) {\n      this.keysIndex = i;\n    }\n\n    return this.data.d.k[this.keysIndex].s;\n  };\n\n  TextProperty.prototype.buildFinalText = function (text) {\n    var charactersArray = [];\n    var i = 0;\n    var len = text.length;\n    var charCode;\n    var secondCharCode;\n    var shouldCombine = false;\n    var shouldCombineNext = false;\n    var currentChars = '';\n\n    while (i < len) {\n      shouldCombine = shouldCombineNext;\n      shouldCombineNext = false;\n      charCode = text.charCodeAt(i);\n      currentChars = text.charAt(i);\n\n      if (FontManager.isCombinedCharacter(charCode)) {\n        shouldCombine = true; // It's a potential surrogate pair (this is the High surrogate)\n      } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\n        if (FontManager.isRegionalFlag(text, i)) {\n          currentChars = text.substr(i, 14);\n        } else {\n          secondCharCode = text.charCodeAt(i + 1); // It's a surrogate pair (this is the Low surrogate)\n\n          if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\n            if (FontManager.isModifier(charCode, secondCharCode)) {\n              currentChars = text.substr(i, 2);\n              shouldCombine = true;\n            } else if (FontManager.isFlagEmoji(text.substr(i, 4))) {\n              currentChars = text.substr(i, 4);\n            } else {\n              currentChars = text.substr(i, 2);\n            }\n          }\n        }\n      } else if (charCode > 0xDBFF) {\n        secondCharCode = text.charCodeAt(i + 1);\n\n        if (FontManager.isVariationSelector(charCode)) {\n          shouldCombine = true;\n        }\n      } else if (FontManager.isZeroWidthJoiner(charCode)) {\n        shouldCombine = true;\n        shouldCombineNext = true;\n      }\n\n      if (shouldCombine) {\n        charactersArray[charactersArray.length - 1] += currentChars;\n        shouldCombine = false;\n      } else {\n        charactersArray.push(currentChars);\n      }\n\n      i += currentChars.length;\n    }\n\n    return charactersArray;\n  };\n\n  TextProperty.prototype.completeTextData = function (documentData) {\n    documentData.__complete = true;\n    var fontManager = this.elem.globalData.fontManager;\n    var data = this.data;\n    var letters = [];\n    var i;\n    var len;\n    var newLineFlag;\n    var index = 0;\n    var val;\n    var anchorGrouping = data.m.g;\n    var currentSize = 0;\n    var currentPos = 0;\n    var currentLine = 0;\n    var lineWidths = [];\n    var lineWidth = 0;\n    var maxLineWidth = 0;\n    var j;\n    var jLen;\n    var fontData = fontManager.getFontByName(documentData.f);\n    var charData;\n    var cLength = 0;\n    var fontProps = getFontProperties(fontData);\n    documentData.fWeight = fontProps.weight;\n    documentData.fStyle = fontProps.style;\n    documentData.finalSize = documentData.s;\n    documentData.finalText = this.buildFinalText(documentData.t);\n    len = documentData.finalText.length;\n    documentData.finalLineHeight = documentData.lh;\n    var trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n    var charCode;\n\n    if (documentData.sz) {\n      var flag = true;\n      var boxWidth = documentData.sz[0];\n      var boxHeight = documentData.sz[1];\n      var currentHeight;\n      var finalText;\n\n      while (flag) {\n        finalText = this.buildFinalText(documentData.t);\n        currentHeight = 0;\n        lineWidth = 0;\n        len = finalText.length;\n        trackingOffset = documentData.tr / 1000 * documentData.finalSize;\n        var lastSpaceIndex = -1;\n\n        for (i = 0; i < len; i += 1) {\n          charCode = finalText[i].charCodeAt(0);\n          newLineFlag = false;\n\n          if (finalText[i] === ' ') {\n            lastSpaceIndex = i;\n          } else if (charCode === 13 || charCode === 3) {\n            lineWidth = 0;\n            newLineFlag = true;\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n          }\n\n          if (fontManager.chars) {\n            charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\n            cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n          } else {\n            // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\n            cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\n          }\n\n          if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\n            if (lastSpaceIndex === -1) {\n              len += 1;\n            } else {\n              i = lastSpaceIndex;\n            }\n\n            currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\n            finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r'); // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\n\n            lastSpaceIndex = -1;\n            lineWidth = 0;\n          } else {\n            lineWidth += cLength;\n            lineWidth += trackingOffset;\n          }\n        }\n\n        currentHeight += fontData.ascent * documentData.finalSize / 100;\n\n        if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\n          documentData.finalSize -= 1;\n          documentData.finalLineHeight = documentData.finalSize * documentData.lh / documentData.s;\n        } else {\n          documentData.finalText = finalText;\n          len = documentData.finalText.length;\n          flag = false;\n        }\n      }\n    }\n\n    lineWidth = -trackingOffset;\n    cLength = 0;\n    var uncollapsedSpaces = 0;\n    var currentChar;\n\n    for (i = 0; i < len; i += 1) {\n      newLineFlag = false;\n      currentChar = documentData.finalText[i];\n      charCode = currentChar.charCodeAt(0);\n\n      if (charCode === 13 || charCode === 3) {\n        uncollapsedSpaces = 0;\n        lineWidths.push(lineWidth);\n        maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n        lineWidth = -2 * trackingOffset;\n        val = '';\n        newLineFlag = true;\n        currentLine += 1;\n      } else {\n        val = currentChar;\n      }\n\n      if (fontManager.chars) {\n        charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\n        cLength = newLineFlag ? 0 : charData.w * documentData.finalSize / 100;\n      } else {\n        // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\n        // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\n        cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\n      } //\n\n\n      if (currentChar === ' ') {\n        uncollapsedSpaces += cLength + trackingOffset;\n      } else {\n        lineWidth += cLength + trackingOffset + uncollapsedSpaces;\n        uncollapsedSpaces = 0;\n      }\n\n      letters.push({\n        l: cLength,\n        an: cLength,\n        add: currentSize,\n        n: newLineFlag,\n        anIndexes: [],\n        val: val,\n        line: currentLine,\n        animatorJustifyOffset: 0\n      });\n\n      if (anchorGrouping == 2) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || val === ' ' || i === len - 1) {\n          if (val === '' || val === ' ') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          index += 1;\n          currentSize = 0;\n        }\n      } else if (anchorGrouping == 3) {\n        // eslint-disable-line eqeqeq\n        currentSize += cLength;\n\n        if (val === '' || i === len - 1) {\n          if (val === '') {\n            currentSize -= cLength;\n          }\n\n          while (currentPos <= i) {\n            letters[currentPos].an = currentSize;\n            letters[currentPos].ind = index;\n            letters[currentPos].extra = cLength;\n            currentPos += 1;\n          }\n\n          currentSize = 0;\n          index += 1;\n        }\n      } else {\n        letters[index].ind = index;\n        letters[index].extra = 0;\n        index += 1;\n      }\n    }\n\n    documentData.l = letters;\n    maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\n    lineWidths.push(lineWidth);\n\n    if (documentData.sz) {\n      documentData.boxWidth = documentData.sz[0];\n      documentData.justifyOffset = 0;\n    } else {\n      documentData.boxWidth = maxLineWidth;\n\n      switch (documentData.j) {\n        case 1:\n          documentData.justifyOffset = -documentData.boxWidth;\n          break;\n\n        case 2:\n          documentData.justifyOffset = -documentData.boxWidth / 2;\n          break;\n\n        default:\n          documentData.justifyOffset = 0;\n      }\n    }\n\n    documentData.lineWidths = lineWidths;\n    var animators = data.a;\n    var animatorData;\n    var letterData;\n    jLen = animators.length;\n    var based;\n    var ind;\n    var indexes = [];\n\n    for (j = 0; j < jLen; j += 1) {\n      animatorData = animators[j];\n\n      if (animatorData.a.sc) {\n        documentData.strokeColorAnim = true;\n      }\n\n      if (animatorData.a.sw) {\n        documentData.strokeWidthAnim = true;\n      }\n\n      if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\n        documentData.fillColorAnim = true;\n      }\n\n      ind = 0;\n      based = animatorData.s.b;\n\n      for (i = 0; i < len; i += 1) {\n        letterData = letters[i];\n        letterData.anIndexes[j] = ind;\n\n        if (based == 1 && letterData.val !== '' || based == 2 && letterData.val !== '' && letterData.val !== ' ' || based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1) || based == 4 && (letterData.n || i == len - 1)) {\n          // eslint-disable-line eqeqeq\n          if (animatorData.s.rn === 1) {\n            indexes.push(ind);\n          }\n\n          ind += 1;\n        }\n      }\n\n      data.a[j].s.totalChars = ind;\n      var currentInd = -1;\n      var newInd;\n\n      if (animatorData.s.rn === 1) {\n        for (i = 0; i < len; i += 1) {\n          letterData = letters[i];\n\n          if (currentInd != letterData.anIndexes[j]) {\n            // eslint-disable-line eqeqeq\n            currentInd = letterData.anIndexes[j];\n            newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\n          }\n\n          letterData.anIndexes[j] = newInd;\n        }\n      }\n    }\n\n    documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\n    documentData.ls = documentData.ls || 0;\n    documentData.ascent = fontData.ascent * documentData.finalSize / 100;\n  };\n\n  TextProperty.prototype.updateDocumentData = function (newData, index) {\n    index = index === undefined ? this.keysIndex : index;\n    var dData = this.copyData({}, this.data.d.k[index].s);\n    dData = this.copyData(dData, newData);\n    this.data.d.k[index].s = dData;\n    this.recalculate(index);\n    this.setCurrentData(dData);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.recalculate = function (index) {\n    var dData = this.data.d.k[index].s;\n    dData.__complete = false;\n    this.keysIndex = 0;\n    this._isFirstFrame = true;\n    this.getValue(dData);\n  };\n\n  TextProperty.prototype.canResizeFont = function (_canResize) {\n    this.canResize = _canResize;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  TextProperty.prototype.setMinimumFontSize = function (_fontValue) {\n    this.minimumFontSize = Math.floor(_fontValue) || 1;\n    this.recalculate(this.keysIndex);\n    this.elem.addDynamicProperty(this);\n  };\n\n  var TextSelectorProp = function () {\n    var max = Math.max;\n    var min = Math.min;\n    var floor = Math.floor;\n\n    function TextSelectorPropFactory(elem, data) {\n      this._currentTextLength = -1;\n      this.k = false;\n      this.data = data;\n      this.elem = elem;\n      this.comp = elem.comp;\n      this.finalS = 0;\n      this.finalE = 0;\n      this.initDynamicPropertyContainer(elem);\n      this.s = PropertyFactory.getProp(elem, data.s || {\n        k: 0\n      }, 0, 0, this);\n\n      if ('e' in data) {\n        this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\n      } else {\n        this.e = {\n          v: 100\n        };\n      }\n\n      this.o = PropertyFactory.getProp(elem, data.o || {\n        k: 0\n      }, 0, 0, this);\n      this.xe = PropertyFactory.getProp(elem, data.xe || {\n        k: 0\n      }, 0, 0, this);\n      this.ne = PropertyFactory.getProp(elem, data.ne || {\n        k: 0\n      }, 0, 0, this);\n      this.sm = PropertyFactory.getProp(elem, data.sm || {\n        k: 100\n      }, 0, 0, this);\n      this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\n\n      if (!this.dynamicProperties.length) {\n        this.getValue();\n      }\n    }\n\n    TextSelectorPropFactory.prototype = {\n      getMult: function getMult(ind) {\n        if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\n          this.getValue();\n        }\n\n        var x1 = 0;\n        var y1 = 0;\n        var x2 = 1;\n        var y2 = 1;\n\n        if (this.ne.v > 0) {\n          x1 = this.ne.v / 100.0;\n        } else {\n          y1 = -this.ne.v / 100.0;\n        }\n\n        if (this.xe.v > 0) {\n          x2 = 1.0 - this.xe.v / 100.0;\n        } else {\n          y2 = 1.0 + this.xe.v / 100.0;\n        }\n\n        var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\n        var mult = 0;\n        var s = this.finalS;\n        var e = this.finalE;\n        var type = this.data.sh;\n\n        if (type === 2) {\n          if (e === s) {\n            mult = ind >= e ? 1 : 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 3) {\n          if (e === s) {\n            mult = ind >= e ? 0 : 1;\n          } else {\n            mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n          }\n\n          mult = easer(mult);\n        } else if (type === 4) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\n\n            if (mult < 0.5) {\n              mult *= 2;\n            } else {\n              mult = 1 - 2 * (mult - 0.5);\n            }\n          }\n\n          mult = easer(mult);\n        } else if (type === 5) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            var tot = e - s;\n            /* ind += 0.5;\r\n                      mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\n\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            var x = -tot / 2 + ind;\n            var a = tot / 2;\n            mult = Math.sqrt(1 - x * x / (a * a));\n          }\n\n          mult = easer(mult);\n        } else if (type === 6) {\n          if (e === s) {\n            mult = 0;\n          } else {\n            ind = min(max(0, ind + 0.5 - s), e - s);\n            mult = (1 + Math.cos(Math.PI + Math.PI * 2 * ind / (e - s))) / 2; // eslint-disable-line\n          }\n\n          mult = easer(mult);\n        } else {\n          if (ind >= floor(s)) {\n            if (ind - s < 0) {\n              mult = max(0, min(min(e, 1) - (s - ind), 1));\n            } else {\n              mult = max(0, min(e - ind, 1));\n            }\n          }\n\n          mult = easer(mult);\n        } // Smoothness implementation.\n        // The smoothness represents a reduced range of the original [0; 1] range.\n        // if smoothness is 25%, the new range will be [0.375; 0.625]\n        // Steps are:\n        // - find the lower value of the new range (threshold)\n        // - if multiplier is smaller than that value, floor it to 0\n        // - if it is larger,\n        //     - subtract the threshold\n        //     - divide it by the smoothness (this will return the range to [0; 1])\n        // Note: If it doesn't work on some scenarios, consider applying it before the easer.\n\n\n        if (this.sm.v !== 100) {\n          var smoothness = this.sm.v * 0.01;\n\n          if (smoothness === 0) {\n            smoothness = 0.00000001;\n          }\n\n          var threshold = 0.5 - smoothness * 0.5;\n\n          if (mult < threshold) {\n            mult = 0;\n          } else {\n            mult = (mult - threshold) / smoothness;\n\n            if (mult > 1) {\n              mult = 1;\n            }\n          }\n        }\n\n        return mult * this.a.v;\n      },\n      getValue: function getValue(newCharsFlag) {\n        this.iterateDynamicProperties();\n        this._mdf = newCharsFlag || this._mdf;\n        this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\n\n        if (newCharsFlag && this.data.r === 2) {\n          this.e.v = this._currentTextLength;\n        }\n\n        var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\n        var o = this.o.v / divisor;\n        var s = this.s.v / divisor + o;\n        var e = this.e.v / divisor + o;\n\n        if (s > e) {\n          var _s = s;\n          s = e;\n          e = _s;\n        }\n\n        this.finalS = s;\n        this.finalE = e;\n      }\n    };\n    extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\n\n    function getTextSelectorProp(elem, data, arr) {\n      return new TextSelectorPropFactory(elem, data, arr);\n    }\n\n    return {\n      getTextSelectorProp: getTextSelectorProp\n    };\n  }();\n\n  function TextAnimatorDataProperty(elem, animatorProps, container) {\n    var defaultData = {\n      propType: false\n    };\n    var getProp = PropertyFactory.getProp;\n    var textAnimatorAnimatables = animatorProps.a;\n    this.a = {\n      r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\n      rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\n      ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\n      sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\n      sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\n      s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\n      a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\n      o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\n      p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\n      sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\n      sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\n      fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\n      fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\n      fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\n      fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\n      t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData\n    };\n    this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\n    this.s.t = animatorProps.s.t;\n  }\n\n  function TextAnimatorProperty(textData, renderType, elem) {\n    this._isFirstFrame = true;\n    this._hasMaskedPath = false;\n    this._frameId = -1;\n    this._textData = textData;\n    this._renderType = renderType;\n    this._elem = elem;\n    this._animatorsData = createSizedArray(this._textData.a.length);\n    this._pathData = {};\n    this._moreOptions = {\n      alignment: {}\n    };\n    this.renderedLetters = [];\n    this.lettersChangedFlag = false;\n    this.initDynamicPropertyContainer(elem);\n  }\n\n  TextAnimatorProperty.prototype.searchProperties = function () {\n    var i;\n    var len = this._textData.a.length;\n    var animatorProps;\n    var getProp = PropertyFactory.getProp;\n\n    for (i = 0; i < len; i += 1) {\n      animatorProps = this._textData.a[i];\n      this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\n    }\n\n    if (this._textData.p && 'm' in this._textData.p) {\n      this._pathData = {\n        a: getProp(this._elem, this._textData.p.a, 0, 0, this),\n        f: getProp(this._elem, this._textData.p.f, 0, 0, this),\n        l: getProp(this._elem, this._textData.p.l, 0, 0, this),\n        r: getProp(this._elem, this._textData.p.r, 0, 0, this),\n        p: getProp(this._elem, this._textData.p.p, 0, 0, this),\n        m: this._elem.maskManager.getMaskProperty(this._textData.p.m)\n      };\n      this._hasMaskedPath = true;\n    } else {\n      this._hasMaskedPath = false;\n    }\n\n    this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\n  };\n\n  TextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\n    this.lettersChangedFlag = lettersChangedFlag;\n\n    if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\n      return;\n    }\n\n    this._isFirstFrame = false;\n    var alignment = this._moreOptions.alignment.v;\n    var animators = this._animatorsData;\n    var textData = this._textData;\n    var matrixHelper = this.mHelper;\n    var renderType = this._renderType;\n    var renderedLettersCount = this.renderedLetters.length;\n    var xPos;\n    var yPos;\n    var i;\n    var len;\n    var letters = documentData.l;\n    var pathInfo;\n    var currentLength;\n    var currentPoint;\n    var segmentLength;\n    var flag;\n    var pointInd;\n    var segmentInd;\n    var prevPoint;\n    var points;\n    var segments;\n    var partialLength;\n    var totalLength;\n    var perc;\n    var tanAngle;\n    var mask;\n\n    if (this._hasMaskedPath) {\n      mask = this._pathData.m;\n\n      if (!this._pathData.n || this._pathData._mdf) {\n        var paths = mask.v;\n\n        if (this._pathData.r.v) {\n          paths = paths.reverse();\n        } // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\n\n\n        pathInfo = {\n          tLength: 0,\n          segments: []\n        };\n        len = paths._length - 1;\n        var bezierData;\n        totalLength = 0;\n\n        for (i = 0; i < len; i += 1) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[i + 1], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        i = len;\n\n        if (mask.v.c) {\n          bezierData = bez.buildBezierData(paths.v[i], paths.v[0], [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]], [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\n          pathInfo.tLength += bezierData.segmentLength;\n          pathInfo.segments.push(bezierData);\n          totalLength += bezierData.segmentLength;\n        }\n\n        this._pathData.pi = pathInfo;\n      }\n\n      pathInfo = this._pathData.pi;\n      currentLength = this._pathData.f.v;\n      segmentInd = 0;\n      pointInd = 1;\n      segmentLength = 0;\n      flag = true;\n      segments = pathInfo.segments;\n\n      if (currentLength < 0 && mask.v.c) {\n        if (pathInfo.tLength < Math.abs(currentLength)) {\n          currentLength = -Math.abs(currentLength) % pathInfo.tLength;\n        }\n\n        segmentInd = segments.length - 1;\n        points = segments[segmentInd].points;\n        pointInd = points.length - 1;\n\n        while (currentLength < 0) {\n          currentLength += points[pointInd].partialLength;\n          pointInd -= 1;\n\n          if (pointInd < 0) {\n            segmentInd -= 1;\n            points = segments[segmentInd].points;\n            pointInd = points.length - 1;\n          }\n        }\n      }\n\n      points = segments[segmentInd].points;\n      prevPoint = points[pointInd - 1];\n      currentPoint = points[pointInd];\n      partialLength = currentPoint.partialLength;\n    }\n\n    len = letters.length;\n    xPos = 0;\n    yPos = 0;\n    var yOff = documentData.finalSize * 1.2 * 0.714;\n    var firstLine = true;\n    var animatorProps;\n    var animatorSelector;\n    var j;\n    var jLen;\n    var letterValue;\n    jLen = animators.length;\n    var mult;\n    var ind = -1;\n    var offf;\n    var xPathPos;\n    var yPathPos;\n    var initPathPos = currentLength;\n    var initSegmentInd = segmentInd;\n    var initPointInd = pointInd;\n    var currentLine = -1;\n    var elemOpacity;\n    var sc;\n    var sw;\n    var fc;\n    var k;\n    var letterSw;\n    var letterSc;\n    var letterFc;\n    var letterM = '';\n    var letterP = this.defaultPropsArray;\n    var letterO; //\n\n    if (documentData.j === 2 || documentData.j === 1) {\n      var animatorJustifyOffset = 0;\n      var animatorFirstCharOffset = 0;\n      var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\n      var lastIndex = 0;\n      var isNewLine = true;\n\n      for (i = 0; i < len; i += 1) {\n        if (letters[i].n) {\n          if (animatorJustifyOffset) {\n            animatorJustifyOffset += animatorFirstCharOffset;\n          }\n\n          while (lastIndex < i) {\n            letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n            lastIndex += 1;\n          }\n\n          animatorJustifyOffset = 0;\n          isNewLine = true;\n        } else {\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.t.propType) {\n              if (isNewLine && documentData.j === 2) {\n                animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\n              }\n\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\n              } else {\n                animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\n              }\n            }\n          }\n\n          isNewLine = false;\n        }\n      }\n\n      if (animatorJustifyOffset) {\n        animatorJustifyOffset += animatorFirstCharOffset;\n      }\n\n      while (lastIndex < i) {\n        letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\n        lastIndex += 1;\n      }\n    } //\n\n\n    for (i = 0; i < len; i += 1) {\n      matrixHelper.reset();\n      elemOpacity = 1;\n\n      if (letters[i].n) {\n        xPos = 0;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        currentLength = initPathPos;\n        firstLine = false;\n\n        if (this._hasMaskedPath) {\n          segmentInd = initSegmentInd;\n          pointInd = initPointInd;\n          points = segments[segmentInd].points;\n          prevPoint = points[pointInd - 1];\n          currentPoint = points[pointInd];\n          partialLength = currentPoint.partialLength;\n          segmentLength = 0;\n        }\n\n        letterM = '';\n        letterFc = '';\n        letterSw = '';\n        letterO = '';\n        letterP = this.defaultPropsArray;\n      } else {\n        if (this._hasMaskedPath) {\n          if (currentLine !== letters[i].line) {\n            switch (documentData.j) {\n              case 1:\n                currentLength += totalLength - documentData.lineWidths[letters[i].line];\n                break;\n\n              case 2:\n                currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\n                break;\n\n              default:\n                break;\n            }\n\n            currentLine = letters[i].line;\n          }\n\n          if (ind !== letters[i].ind) {\n            if (letters[ind]) {\n              currentLength += letters[ind].extra;\n            }\n\n            currentLength += letters[i].an / 2;\n            ind = letters[i].ind;\n          }\n\n          currentLength += alignment[0] * letters[i].an * 0.005;\n          var animatorOffset = 0;\n\n          for (j = 0; j < jLen; j += 1) {\n            animatorProps = animators[j].a;\n\n            if (animatorProps.p.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.p.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.p.v[0] * mult;\n              }\n            }\n\n            if (animatorProps.a.propType) {\n              animatorSelector = animators[j].s;\n              mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n              if (mult.length) {\n                animatorOffset += animatorProps.a.v[0] * mult[0];\n              } else {\n                animatorOffset += animatorProps.a.v[0] * mult;\n              }\n            }\n          }\n\n          flag = true; // Force alignment only works with a single line for now\n\n          if (this._pathData.a.v) {\n            currentLength = letters[0].an * 0.5 + (totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind / (len - 1);\n            currentLength += this._pathData.f.v;\n          }\n\n          while (flag) {\n            if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\n              perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\n              xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\n              yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\n              matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -(alignment[1] * yOff) * 0.01);\n              flag = false;\n            } else if (points) {\n              segmentLength += currentPoint.partialLength;\n              pointInd += 1;\n\n              if (pointInd >= points.length) {\n                pointInd = 0;\n                segmentInd += 1;\n\n                if (!segments[segmentInd]) {\n                  if (mask.v.c) {\n                    pointInd = 0;\n                    segmentInd = 0;\n                    points = segments[segmentInd].points;\n                  } else {\n                    segmentLength -= currentPoint.partialLength;\n                    points = null;\n                  }\n                } else {\n                  points = segments[segmentInd].points;\n                }\n              }\n\n              if (points) {\n                prevPoint = currentPoint;\n                currentPoint = points[pointInd];\n                partialLength = currentPoint.partialLength;\n              }\n            }\n          }\n\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0);\n        } else {\n          offf = letters[i].an / 2 - letters[i].add;\n          matrixHelper.translate(-offf, 0, 0); // Grouping alignment\n\n          matrixHelper.translate(-alignment[0] * letters[i].an * 0.005, -alignment[1] * yOff * 0.01, 0);\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.t.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars); // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\n\n            if (xPos !== 0 || documentData.j !== 0) {\n              if (this._hasMaskedPath) {\n                if (mult.length) {\n                  currentLength += animatorProps.t.v * mult[0];\n                } else {\n                  currentLength += animatorProps.t.v * mult;\n                }\n              } else if (mult.length) {\n                xPos += animatorProps.t.v * mult[0];\n              } else {\n                xPos += animatorProps.t.v * mult;\n              }\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          sw = documentData.sw || 0;\n        }\n\n        if (documentData.strokeColorAnim) {\n          if (documentData.sc) {\n            sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\n          } else {\n            sc = [0, 0, 0];\n          }\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.a.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.s.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (mult.length) {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult[0], 1 + (animatorProps.s.v[1] - 1) * mult[1], 1);\n            } else {\n              matrixHelper.scale(1 + (animatorProps.s.v[0] - 1) * mult, 1 + (animatorProps.s.v[1] - 1) * mult, 1);\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n          animatorSelector = animators[j].s;\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n          if (animatorProps.sk.propType) {\n            if (mult.length) {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\n            } else {\n              matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\n            }\n          }\n\n          if (animatorProps.r.propType) {\n            if (mult.length) {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\n            } else {\n              matrixHelper.rotateZ(-animatorProps.r.v * mult);\n            }\n          }\n\n          if (animatorProps.ry.propType) {\n            if (mult.length) {\n              matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\n            } else {\n              matrixHelper.rotateY(animatorProps.ry.v * mult);\n            }\n          }\n\n          if (animatorProps.rx.propType) {\n            if (mult.length) {\n              matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\n            } else {\n              matrixHelper.rotateX(animatorProps.rx.v * mult);\n            }\n          }\n\n          if (animatorProps.o.propType) {\n            if (mult.length) {\n              elemOpacity += (animatorProps.o.v * mult[0] - elemOpacity) * mult[0];\n            } else {\n              elemOpacity += (animatorProps.o.v * mult - elemOpacity) * mult;\n            }\n          }\n\n          if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\n            if (mult.length) {\n              sw += animatorProps.sw.v * mult[0];\n            } else {\n              sw += animatorProps.sw.v * mult;\n            }\n          }\n\n          if (documentData.strokeColorAnim && animatorProps.sc.propType) {\n            for (k = 0; k < 3; k += 1) {\n              if (mult.length) {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\n              } else {\n                sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\n              }\n            }\n          }\n\n          if (documentData.fillColorAnim && documentData.fc) {\n            if (animatorProps.fc.propType) {\n              for (k = 0; k < 3; k += 1) {\n                if (mult.length) {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\n                } else {\n                  fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\n                }\n              }\n            }\n\n            if (animatorProps.fh.propType) {\n              if (mult.length) {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\n              } else {\n                fc = addHueToRGB(fc, animatorProps.fh.v * mult);\n              }\n            }\n\n            if (animatorProps.fs.propType) {\n              if (mult.length) {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\n              } else {\n                fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\n              }\n            }\n\n            if (animatorProps.fb.propType) {\n              if (mult.length) {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\n              } else {\n                fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\n              }\n            }\n          }\n        }\n\n        for (j = 0; j < jLen; j += 1) {\n          animatorProps = animators[j].a;\n\n          if (animatorProps.p.propType) {\n            animatorSelector = animators[j].s;\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\n\n            if (this._hasMaskedPath) {\n              if (mult.length) {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\n              } else {\n                matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n              }\n            } else if (mult.length) {\n              matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\n            } else {\n              matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\n            }\n          }\n        }\n\n        if (documentData.strokeWidthAnim) {\n          letterSw = sw < 0 ? 0 : sw;\n        }\n\n        if (documentData.strokeColorAnim) {\n          letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\n        }\n\n        if (documentData.fillColorAnim && documentData.fc) {\n          letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\n        }\n\n        if (this._hasMaskedPath) {\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(0, alignment[1] * yOff * 0.01 + yPos, 0);\n\n          if (this._pathData.p.v) {\n            tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\n            var rot = Math.atan(tanAngle) * 180 / Math.PI;\n\n            if (currentPoint.point[0] < prevPoint.point[0]) {\n              rot += 180;\n            }\n\n            matrixHelper.rotate(-rot * Math.PI / 180);\n          }\n\n          matrixHelper.translate(xPathPos, yPathPos, 0);\n          currentLength -= alignment[0] * letters[i].an * 0.005;\n\n          if (letters[i + 1] && ind !== letters[i + 1].ind) {\n            currentLength += letters[i].an / 2;\n            currentLength += documentData.tr * 0.001 * documentData.finalSize;\n          }\n        } else {\n          matrixHelper.translate(xPos, yPos, 0);\n\n          if (documentData.ps) {\n            // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\n            matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n          }\n\n          switch (documentData.j) {\n            case 1:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\n              break;\n\n            case 2:\n              matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\n              break;\n\n            default:\n              break;\n          }\n\n          matrixHelper.translate(0, -documentData.ls);\n          matrixHelper.translate(offf, 0, 0);\n          matrixHelper.translate(alignment[0] * letters[i].an * 0.005, alignment[1] * yOff * 0.01, 0);\n          xPos += letters[i].l + documentData.tr * 0.001 * documentData.finalSize;\n        }\n\n        if (renderType === 'html') {\n          letterM = matrixHelper.toCSS();\n        } else if (renderType === 'svg') {\n          letterM = matrixHelper.to2dCSS();\n        } else {\n          letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\n        }\n\n        letterO = elemOpacity;\n      }\n\n      if (renderedLettersCount <= i) {\n        letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\n        this.renderedLetters.push(letterValue);\n        renderedLettersCount += 1;\n        this.lettersChangedFlag = true;\n      } else {\n        letterValue = this.renderedLetters[i];\n        this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\n      }\n    }\n  };\n\n  TextAnimatorProperty.prototype.getValue = function () {\n    if (this._elem.globalData.frameId === this._frameId) {\n      return;\n    }\n\n    this._frameId = this._elem.globalData.frameId;\n    this.iterateDynamicProperties();\n  };\n\n  TextAnimatorProperty.prototype.mHelper = new Matrix();\n  TextAnimatorProperty.prototype.defaultPropsArray = [];\n  extendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\n\n  function ITextElement() {}\n\n  ITextElement.prototype.initElement = function (data, globalData, comp) {\n    this.lettersChangedFlag = true;\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\n    this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n    this.initRenderable();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n    this.createContent();\n    this.hide();\n    this.textAnimator.searchProperties(this.dynamicProperties);\n  };\n\n  ITextElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n  };\n\n  ITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\n    var j;\n    var jLen = shapes.length;\n    var pathNodes;\n    var shapeStr = '';\n\n    for (j = 0; j < jLen; j += 1) {\n      if (shapes[j].ty === 'sh') {\n        pathNodes = shapes[j].ks.k;\n        shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\n      }\n    }\n\n    return shapeStr;\n  };\n\n  ITextElement.prototype.updateDocumentData = function (newData, index) {\n    this.textProperty.updateDocumentData(newData, index);\n  };\n\n  ITextElement.prototype.canResizeFont = function (_canResize) {\n    this.textProperty.canResizeFont(_canResize);\n  };\n\n  ITextElement.prototype.setMinimumFontSize = function (_fontSize) {\n    this.textProperty.setMinimumFontSize(_fontSize);\n  };\n\n  ITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\n    if (documentData.ps) {\n      matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\n    }\n\n    matrixHelper.translate(0, -documentData.ls, 0);\n\n    switch (documentData.j) {\n      case 1:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\n        break;\n\n      case 2:\n        matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\n        break;\n\n      default:\n        break;\n    }\n\n    matrixHelper.translate(xPos, yPos, 0);\n  };\n\n  ITextElement.prototype.buildColor = function (colorData) {\n    return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\n  };\n\n  ITextElement.prototype.emptyProp = new LetterProps();\n\n  ITextElement.prototype.destroy = function () {};\n\n  ITextElement.prototype.validateText = function () {\n    if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\n      this.buildNewText();\n      this.textProperty._isFirstFrame = false;\n      this.textProperty._mdf = false;\n    }\n  };\n\n  var emptyShapeData = {\n    shapes: []\n  };\n\n  function SVGTextLottieElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.renderType = 'svg';\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\n\n  SVGTextLottieElement.prototype.createContent = function () {\n    if (this.data.singleShape && !this.globalData.fontManager.chars) {\n      this.textContainer = createNS('text');\n    }\n  };\n\n  SVGTextLottieElement.prototype.buildTextContents = function (textArray) {\n    var i = 0;\n    var len = textArray.length;\n    var textContents = [];\n    var currentTextContent = '';\n\n    while (i < len) {\n      if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\n        textContents.push(currentTextContent);\n        currentTextContent = '';\n      } else {\n        currentTextContent += textArray[i];\n      }\n\n      i += 1;\n    }\n\n    textContents.push(currentTextContent);\n    return textContents;\n  };\n\n  SVGTextLottieElement.prototype.buildShapeData = function (data, scale) {\n    // data should probably be cloned to apply scale separately to each instance of a text on different layers\n    // but since text internal content gets only rendered once and then it's never rerendered,\n    // it's probably safe not to clone data and reuse always the same instance even if the object is mutated.\n    // Avoiding cloning is preferred since cloning each character shape data is expensive\n    if (data.shapes && data.shapes.length) {\n      var shape = data.shapes[0];\n\n      if (shape.it) {\n        var shapeItem = shape.it[shape.it.length - 1];\n\n        if (shapeItem.s) {\n          shapeItem.s.k[0] = scale;\n          shapeItem.s.k[1] = scale;\n        }\n      }\n    }\n\n    return data;\n  };\n\n  SVGTextLottieElement.prototype.buildNewText = function () {\n    this.addDynamicProperty(this);\n    var i;\n    var len;\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\n\n    if (documentData.fc) {\n      this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\n    } else {\n      this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\n    }\n\n    if (documentData.sc) {\n      this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\n      this.layerElement.setAttribute('stroke-width', documentData.sw);\n    }\n\n    this.layerElement.setAttribute('font-size', documentData.finalSize);\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (fontData.fClass) {\n      this.layerElement.setAttribute('class', fontData.fClass);\n    } else {\n      this.layerElement.setAttribute('font-family', fontData.fFamily);\n      var fWeight = documentData.fWeight;\n      var fStyle = documentData.fStyle;\n      this.layerElement.setAttribute('font-style', fStyle);\n      this.layerElement.setAttribute('font-weight', fWeight);\n    }\n\n    this.layerElement.setAttribute('aria-label', documentData.t);\n    var letters = documentData.l || [];\n    var usesGlyphs = !!this.globalData.fontManager.chars;\n    len = letters.length;\n    var tSpan;\n    var matrixHelper = this.mHelper;\n    var shapeStr = '';\n    var singleShape = this.data.singleShape;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n\n    if (singleShape && !usesGlyphs && !documentData.sz) {\n      var tElement = this.textContainer;\n      var justify = 'start';\n\n      switch (documentData.j) {\n        case 1:\n          justify = 'end';\n          break;\n\n        case 2:\n          justify = 'middle';\n          break;\n\n        default:\n          justify = 'start';\n          break;\n      }\n\n      tElement.setAttribute('text-anchor', justify);\n      tElement.setAttribute('letter-spacing', trackingOffset);\n      var textContent = this.buildTextContents(documentData.finalText);\n      len = textContent.length;\n      yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\n\n      for (i = 0; i < len; i += 1) {\n        tSpan = this.textSpans[i].span || createNS('tspan');\n        tSpan.textContent = textContent[i];\n        tSpan.setAttribute('x', 0);\n        tSpan.setAttribute('y', yPos);\n        tSpan.style.display = 'inherit';\n        tElement.appendChild(tSpan);\n\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            glyph: null\n          };\n        }\n\n        this.textSpans[i].span = tSpan;\n        yPos += documentData.finalLineHeight;\n      }\n\n      this.layerElement.appendChild(tElement);\n    } else {\n      var cachedSpansLength = this.textSpans.length;\n      var charData;\n\n      for (i = 0; i < len; i += 1) {\n        if (!this.textSpans[i]) {\n          this.textSpans[i] = {\n            span: null,\n            childSpan: null,\n            glyph: null\n          };\n        }\n\n        if (!usesGlyphs || !singleShape || i === 0) {\n          tSpan = cachedSpansLength > i ? this.textSpans[i].span : createNS(usesGlyphs ? 'g' : 'text');\n\n          if (cachedSpansLength <= i) {\n            tSpan.setAttribute('stroke-linecap', 'butt');\n            tSpan.setAttribute('stroke-linejoin', 'round');\n            tSpan.setAttribute('stroke-miterlimit', '4');\n            this.textSpans[i].span = tSpan;\n\n            if (usesGlyphs) {\n              var childSpan = createNS('g');\n              tSpan.appendChild(childSpan);\n              this.textSpans[i].childSpan = childSpan;\n            }\n\n            this.textSpans[i].span = tSpan;\n            this.layerElement.appendChild(tSpan);\n          }\n\n          tSpan.style.display = 'inherit';\n        }\n\n        matrixHelper.reset();\n\n        if (singleShape) {\n          if (letters[i].n) {\n            xPos = -trackingOffset;\n            yPos += documentData.yOffset;\n            yPos += firstLine ? 1 : 0;\n            firstLine = false;\n          }\n\n          this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n          xPos += letters[i].l || 0; // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\n\n          xPos += trackingOffset;\n        }\n\n        if (usesGlyphs) {\n          charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n          var glyphElement; // t === 1 means the character has been replaced with an animated shaped\n\n          if (charData.t === 1) {\n            glyphElement = new SVGCompElement(charData.data, this.globalData, this);\n          } else {\n            var data = emptyShapeData;\n\n            if (charData.data && charData.data.shapes) {\n              data = this.buildShapeData(charData.data, documentData.finalSize);\n            }\n\n            glyphElement = new SVGShapeElement(data, this.globalData, this);\n          }\n\n          if (this.textSpans[i].glyph) {\n            var glyph = this.textSpans[i].glyph;\n            this.textSpans[i].childSpan.removeChild(glyph.layerElement);\n            glyph.destroy();\n          }\n\n          this.textSpans[i].glyph = glyphElement;\n          glyphElement._debug = true;\n          glyphElement.prepareFrame(0);\n          glyphElement.renderFrame();\n          this.textSpans[i].childSpan.appendChild(glyphElement.layerElement); // when using animated shapes, the layer will be scaled instead of replacing the internal scale\n          // this might have issues with strokes and might need a different solution\n\n          if (charData.t === 1) {\n            this.textSpans[i].childSpan.setAttribute('transform', 'scale(' + documentData.finalSize / 100 + ',' + documentData.finalSize / 100 + ')');\n          }\n        } else {\n          if (singleShape) {\n            tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\n          }\n\n          tSpan.textContent = letters[i].val;\n          tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n        } //\n\n      }\n\n      if (singleShape && tSpan) {\n        tSpan.setAttribute('d', shapeStr);\n      }\n    }\n\n    while (i < this.textSpans.length) {\n      this.textSpans[i].span.style.display = 'none';\n      i += 1;\n    }\n\n    this._sizeChanged = true;\n  };\n\n  SVGTextLottieElement.prototype.sourceRectAtTime = function () {\n    this.prepareFrame(this.comp.renderedFrame - this.data.st);\n    this.renderInnerContent();\n\n    if (this._sizeChanged) {\n      this._sizeChanged = false;\n      var textBox = this.layerElement.getBBox();\n      this.bbox = {\n        top: textBox.y,\n        left: textBox.x,\n        width: textBox.width,\n        height: textBox.height\n      };\n    }\n\n    return this.bbox;\n  };\n\n  SVGTextLottieElement.prototype.getValue = function () {\n    var i;\n    var len = this.textSpans.length;\n    var glyphElement;\n    this.renderedFrame = this.comp.renderedFrame;\n\n    for (i = 0; i < len; i += 1) {\n      glyphElement = this.textSpans[i].glyph;\n\n      if (glyphElement) {\n        glyphElement.prepareFrame(this.comp.renderedFrame - this.data.st);\n\n        if (glyphElement._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  SVGTextLottieElement.prototype.renderInnerContent = function () {\n    this.validateText();\n\n    if (!this.data.singleShape || this._mdf) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n      if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\n        this._sizeChanged = true;\n        var i;\n        var len;\n        var renderedLetters = this.textAnimator.renderedLetters;\n        var letters = this.textProperty.currentData.l;\n        len = letters.length;\n        var renderedLetter;\n        var textSpan;\n        var glyphElement;\n\n        for (i = 0; i < len; i += 1) {\n          if (!letters[i].n) {\n            renderedLetter = renderedLetters[i];\n            textSpan = this.textSpans[i].span;\n            glyphElement = this.textSpans[i].glyph;\n\n            if (glyphElement) {\n              glyphElement.renderFrame();\n            }\n\n            if (renderedLetter._mdf.m) {\n              textSpan.setAttribute('transform', renderedLetter.m);\n            }\n\n            if (renderedLetter._mdf.o) {\n              textSpan.setAttribute('opacity', renderedLetter.o);\n            }\n\n            if (renderedLetter._mdf.sw) {\n              textSpan.setAttribute('stroke-width', renderedLetter.sw);\n            }\n\n            if (renderedLetter._mdf.sc) {\n              textSpan.setAttribute('stroke', renderedLetter.sc);\n            }\n\n            if (renderedLetter._mdf.fc) {\n              textSpan.setAttribute('fill', renderedLetter.fc);\n            }\n          }\n        }\n      }\n    }\n  };\n\n  function ISolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([IImageElement], ISolidElement);\n\n  ISolidElement.prototype.createContent = function () {\n    var rect = createNS('rect'); /// /rect.style.width = this.data.sw;\n    /// /rect.style.height = this.data.sh;\n    /// /rect.style.fill = this.data.sc;\n\n    rect.setAttribute('width', this.data.sw);\n    rect.setAttribute('height', this.data.sh);\n    rect.setAttribute('fill', this.data.sc);\n    this.layerElement.appendChild(rect);\n  };\n\n  function NullElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initFrame();\n    this.initTransform(data, globalData, comp);\n    this.initHierarchy();\n  }\n\n  NullElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  NullElement.prototype.renderFrame = function () {};\n\n  NullElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  NullElement.prototype.destroy = function () {};\n\n  NullElement.prototype.sourceRectAtTime = function () {};\n\n  NullElement.prototype.hide = function () {};\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\n\n  function SVGRendererBase() {}\n\n  extendPrototype([BaseRenderer], SVGRendererBase);\n\n  SVGRendererBase.prototype.createNull = function (data) {\n    return new NullElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createShape = function (data) {\n    return new SVGShapeElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createText = function (data) {\n    return new SVGTextLottieElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createImage = function (data) {\n    return new IImageElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.createSolid = function (data) {\n    return new ISolidElement(data, this.globalData, this);\n  };\n\n  SVGRendererBase.prototype.configAnimation = function (animData) {\n    this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\n    this.svgElement.setAttribute('xmlns:xlink', 'http://www.w3.org/1999/xlink');\n\n    if (this.renderConfig.viewBoxSize) {\n      this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\n    } else {\n      this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\n    }\n\n    if (!this.renderConfig.viewBoxOnly) {\n      this.svgElement.setAttribute('width', animData.w);\n      this.svgElement.setAttribute('height', animData.h);\n      this.svgElement.style.width = '100%';\n      this.svgElement.style.height = '100%';\n      this.svgElement.style.transform = 'translate3d(0,0,0)';\n      this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\n    }\n\n    if (this.renderConfig.width) {\n      this.svgElement.setAttribute('width', this.renderConfig.width);\n    }\n\n    if (this.renderConfig.height) {\n      this.svgElement.setAttribute('height', this.renderConfig.height);\n    }\n\n    if (this.renderConfig.className) {\n      this.svgElement.setAttribute('class', this.renderConfig.className);\n    }\n\n    if (this.renderConfig.id) {\n      this.svgElement.setAttribute('id', this.renderConfig.id);\n    }\n\n    if (this.renderConfig.focusable !== undefined) {\n      this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\n    }\n\n    this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio); // this.layerElement.style.transform = 'translate3d(0,0,0)';\n    // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\n\n    this.animationItem.wrapper.appendChild(this.svgElement); // Mask animation\n\n    var defs = this.globalData.defs;\n    this.setupGlobalData(animData, defs);\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.data = animData;\n    var maskElement = createNS('clipPath');\n    var rect = createNS('rect');\n    rect.setAttribute('width', animData.w);\n    rect.setAttribute('height', animData.h);\n    rect.setAttribute('x', 0);\n    rect.setAttribute('y', 0);\n    var maskId = createElementID();\n    maskElement.setAttribute('id', maskId);\n    maskElement.appendChild(rect);\n    this.layerElement.setAttribute('clip-path', 'url(' + getLocationHref() + '#' + maskId + ')');\n    defs.appendChild(maskElement);\n    this.layers = animData.layers;\n    this.elements = createSizedArray(animData.layers.length);\n  };\n\n  SVGRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.layerElement = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  SVGRendererBase.prototype.updateContainerSize = function () {};\n\n  SVGRendererBase.prototype.findIndexByInd = function (ind) {\n    var i = 0;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ind === ind) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  SVGRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    elements[pos] = true;\n    var element = this.createItem(this.layers[pos]);\n    elements[pos] = element;\n\n    if (getExpressionsPlugin()) {\n      if (this.layers[pos].ty === 0) {\n        this.globalData.projectInterface.registerComposition(element);\n      }\n\n      element.initExpressions();\n    }\n\n    this.appendElementInPos(element, pos);\n\n    if (this.layers[pos].tt) {\n      var elementIndex = 'tp' in this.layers[pos] ? this.findIndexByInd(this.layers[pos].tp) : pos - 1;\n\n      if (elementIndex === -1) {\n        return;\n      }\n\n      if (!this.elements[elementIndex] || this.elements[elementIndex] === true) {\n        this.buildItem(elementIndex);\n        this.addPendingElement(element);\n      } else {\n        var matteElement = elements[elementIndex];\n        var matteMask = matteElement.getMatte(this.layers[pos].tt);\n        element.setMatte(matteMask);\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n\n      if (element.data.tt) {\n        var i = 0;\n        var len = this.elements.length;\n\n        while (i < len) {\n          if (this.elements[i] === element) {\n            var elementIndex = 'tp' in element.data ? this.findIndexByInd(element.data.tp) : i - 1;\n            var matteElement = this.elements[elementIndex];\n            var matteMask = matteElement.getMatte(this.layers[i].tt);\n            element.setMatte(matteMask);\n            break;\n          }\n\n          i += 1;\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.renderFrame = function (num) {\n    if (this.renderedFrame === num || this.destroyed) {\n      return;\n    }\n\n    if (num === null) {\n      num = this.renderedFrame;\n    } else {\n      this.renderedFrame = num;\n    } // console.log('-------');\n    // console.log('FRAME ',num);\n\n\n    this.globalData.frameNum = num;\n    this.globalData.frameId += 1;\n    this.globalData.projectInterface.currentFrame = num;\n    this.globalData._mdf = false;\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      for (i = 0; i < len; i += 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n    }\n  };\n\n  SVGRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newElement = element.getBaseElement();\n\n    if (!newElement) {\n      return;\n    }\n\n    var i = 0;\n    var nextElement;\n\n    while (i < pos) {\n      if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\n        nextElement = this.elements[i].getBaseElement();\n      }\n\n      i += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(newElement, nextElement);\n    } else {\n      this.layerElement.appendChild(newElement);\n    }\n  };\n\n  SVGRendererBase.prototype.hide = function () {\n    this.layerElement.style.display = 'none';\n  };\n\n  SVGRendererBase.prototype.show = function () {\n    this.layerElement.style.display = 'block';\n  };\n\n  function ICompElement() {}\n\n  extendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\n\n  ICompElement.prototype.initElement = function (data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initTransform(data, globalData, comp);\n    this.initRenderable();\n    this.initHierarchy();\n    this.initRendererElement();\n    this.createContainerElements();\n    this.createRenderableComponents();\n\n    if (this.data.xt || !globalData.progressiveLoad) {\n      this.buildAllItems();\n    }\n\n    this.hide();\n  };\n  /* ICompElement.prototype.hide = function(){\r\n      if(!this.hidden){\r\n          this.hideElement();\r\n          var i,len = this.elements.length;\r\n          for( i = 0; i < len; i+=1 ){\r\n              if(this.elements[i]){\r\n                  this.elements[i].hide();\r\n              }\r\n          }\r\n      }\r\n  }; */\n\n\n  ICompElement.prototype.prepareFrame = function (num) {\n    this._mdf = false;\n    this.prepareRenderableFrame(num);\n    this.prepareProperties(num, this.isInRange);\n\n    if (!this.isInRange && !this.data.xt) {\n      return;\n    }\n\n    if (!this.tm._placeholder) {\n      var timeRemapped = this.tm.v;\n\n      if (timeRemapped === this.data.op) {\n        timeRemapped = this.data.op - 1;\n      }\n\n      this.renderedFrame = timeRemapped;\n    } else {\n      this.renderedFrame = num / this.data.sr;\n    }\n\n    var i;\n    var len = this.elements.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(this.renderedFrame);\n    } // This iteration needs to be backwards because of how expressions connect between each other\n\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\n\n        if (this.elements[i]._mdf) {\n          this._mdf = true;\n        }\n      }\n    }\n  };\n\n  ICompElement.prototype.renderInnerContent = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  ICompElement.prototype.setElements = function (elems) {\n    this.elements = elems;\n  };\n\n  ICompElement.prototype.getElements = function () {\n    return this.elements;\n  };\n\n  ICompElement.prototype.destroyElements = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n  };\n\n  ICompElement.prototype.destroy = function () {\n    this.destroyElements();\n    this.destroyBaseElement();\n  };\n\n  function SVGCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = true;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([SVGRendererBase, ICompElement, SVGBaseElement], SVGCompElement);\n\n  SVGCompElement.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function SVGRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.svgElement = createNS('svg');\n    var ariaLabel = '';\n\n    if (config && config.title) {\n      var titleElement = createNS('title');\n      var titleId = createElementID();\n      titleElement.setAttribute('id', titleId);\n      titleElement.textContent = config.title;\n      this.svgElement.appendChild(titleElement);\n      ariaLabel += titleId;\n    }\n\n    if (config && config.description) {\n      var descElement = createNS('desc');\n      var descId = createElementID();\n      descElement.setAttribute('id', descId);\n      descElement.textContent = config.description;\n      this.svgElement.appendChild(descElement);\n      ariaLabel += ' ' + descId;\n    }\n\n    if (ariaLabel) {\n      this.svgElement.setAttribute('aria-labelledby', ariaLabel);\n    }\n\n    var defs = createNS('defs');\n    this.svgElement.appendChild(defs);\n    var maskElement = createNS('g');\n    this.svgElement.appendChild(maskElement);\n    this.layerElement = maskElement;\n    this.renderConfig = {\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      progressiveLoad: config && config.progressiveLoad || false,\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      viewBoxOnly: config && config.viewBoxOnly || false,\n      viewBoxSize: config && config.viewBoxSize || false,\n      className: config && config.className || '',\n      id: config && config.id || '',\n      focusable: config && config.focusable,\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '100%',\n        height: config && config.filterSize && config.filterSize.height || '100%',\n        x: config && config.filterSize && config.filterSize.x || '0%',\n        y: config && config.filterSize && config.filterSize.y || '0%'\n      },\n      width: config && config.width,\n      height: config && config.height,\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      defs: defs,\n      renderConfig: this.renderConfig\n    };\n    this.elements = [];\n    this.pendingElements = [];\n    this.destroyed = false;\n    this.rendererType = 'svg';\n  }\n\n  extendPrototype([SVGRendererBase], SVGRenderer);\n\n  SVGRenderer.prototype.createComp = function (data) {\n    return new SVGCompElement(data, this.globalData, this);\n  };\n\n  function ShapeTransformManager() {\n    this.sequences = {};\n    this.sequenceList = [];\n    this.transform_key_count = 0;\n  }\n\n  ShapeTransformManager.prototype = {\n    addTransformSequence: function addTransformSequence(transforms) {\n      var i;\n      var len = transforms.length;\n      var key = '_';\n\n      for (i = 0; i < len; i += 1) {\n        key += transforms[i].transform.key + '_';\n      }\n\n      var sequence = this.sequences[key];\n\n      if (!sequence) {\n        sequence = {\n          transforms: [].concat(transforms),\n          finalTransform: new Matrix(),\n          _mdf: false\n        };\n        this.sequences[key] = sequence;\n        this.sequenceList.push(sequence);\n      }\n\n      return sequence;\n    },\n    processSequence: function processSequence(sequence, isFirstFrame) {\n      var i = 0;\n      var len = sequence.transforms.length;\n      var _mdf = isFirstFrame;\n\n      while (i < len && !isFirstFrame) {\n        if (sequence.transforms[i].transform.mProps._mdf) {\n          _mdf = true;\n          break;\n        }\n\n        i += 1;\n      }\n\n      if (_mdf) {\n        sequence.finalTransform.reset();\n\n        for (i = len - 1; i >= 0; i -= 1) {\n          sequence.finalTransform.multiply(sequence.transforms[i].transform.mProps.v);\n        }\n      }\n\n      sequence._mdf = _mdf;\n    },\n    processSequences: function processSequences(isFirstFrame) {\n      var i;\n      var len = this.sequenceList.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.processSequence(this.sequenceList[i], isFirstFrame);\n      }\n    },\n    getNewKey: function getNewKey() {\n      this.transform_key_count += 1;\n      return '_' + this.transform_key_count;\n    }\n  };\n\n  var lumaLoader = function lumaLoader() {\n    var id = '__lottie_element_luma_buffer';\n    var lumaBuffer = null;\n    var lumaBufferCtx = null;\n    var svg = null; // This alternate solution has a slight delay before the filter is applied, resulting in a flicker on the first frame.\n    // Keeping this here for reference, and in the future, if offscreen canvas supports url filters, this can be used.\n    // For now, neither of them work for offscreen canvas, so canvas workers can't support the luma track matte mask.\n    // Naming it solution 2 to mark the extra comment lines.\n\n    /*\r\n    var svgString = [\r\n      '<svg xmlns=\"http://www.w3.org/2000/svg\">',\r\n      '<filter id=\"' + id + '\">',\r\n      '<feColorMatrix type=\"matrix\" color-interpolation-filters=\"sRGB\" values=\"',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0, ',\r\n      '0.3, 0.3, 0.3, 0, 0',\r\n      '\"/>',\r\n      '</filter>',\r\n      '</svg>',\r\n    ].join('');\r\n    var blob = new Blob([svgString], { type: 'image/svg+xml' });\r\n    var url = URL.createObjectURL(blob);\r\n    */\n\n    function createLumaSvgFilter() {\n      var _svg = createNS('svg');\n\n      var fil = createNS('filter');\n      var matrix = createNS('feColorMatrix');\n      fil.setAttribute('id', id);\n      matrix.setAttribute('type', 'matrix');\n      matrix.setAttribute('color-interpolation-filters', 'sRGB');\n      matrix.setAttribute('values', '0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0');\n      fil.appendChild(matrix);\n\n      _svg.appendChild(fil);\n\n      _svg.setAttribute('id', id + '_svg');\n\n      if (featureSupport.svgLumaHidden) {\n        _svg.style.display = 'none';\n      }\n\n      return _svg;\n    }\n\n    function loadLuma() {\n      if (!lumaBuffer) {\n        svg = createLumaSvgFilter();\n        document.body.appendChild(svg);\n        lumaBuffer = createTag('canvas');\n        lumaBufferCtx = lumaBuffer.getContext('2d'); // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n\n        lumaBufferCtx.filter = 'url(#' + id + ')';\n        lumaBufferCtx.fillStyle = 'rgba(0,0,0,0)';\n        lumaBufferCtx.fillRect(0, 0, 1, 1);\n      }\n    }\n\n    function getLuma(canvas) {\n      if (!lumaBuffer) {\n        loadLuma();\n      }\n\n      lumaBuffer.width = canvas.width;\n      lumaBuffer.height = canvas.height; // lumaBufferCtx.filter = `url('${url}#__lottie_element_luma_buffer')`; // part of solution 2\n\n      lumaBufferCtx.filter = 'url(#' + id + ')';\n      return lumaBuffer;\n    }\n\n    return {\n      load: loadLuma,\n      get: getLuma\n    };\n  };\n\n  function createCanvas(width, height) {\n    if (featureSupport.offscreenCanvas) {\n      return new OffscreenCanvas(width, height);\n    }\n\n    var canvas = createTag('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    return canvas;\n  }\n\n  var assetLoader = function () {\n    return {\n      loadLumaCanvas: lumaLoader.load,\n      getLumaCanvas: lumaLoader.get,\n      createCanvas: createCanvas\n    };\n  }();\n\n  var registeredEffects = {};\n\n  function CVEffects(elem) {\n    var i;\n    var len = elem.data.ef ? elem.data.ef.length : 0;\n    this.filters = [];\n    var filterManager;\n\n    for (i = 0; i < len; i += 1) {\n      filterManager = null;\n      var type = elem.data.ef[i].ty;\n\n      if (registeredEffects[type]) {\n        var Effect = registeredEffects[type].effect;\n        filterManager = new Effect(elem.effectsManager.effectElements[i], elem);\n      }\n\n      if (filterManager) {\n        this.filters.push(filterManager);\n      }\n    }\n\n    if (this.filters.length) {\n      elem.addRenderableComponent(this);\n    }\n  }\n\n  CVEffects.prototype.renderFrame = function (_isFirstFrame) {\n    var i;\n    var len = this.filters.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.filters[i].renderFrame(_isFirstFrame);\n    }\n  };\n\n  CVEffects.prototype.getEffects = function (type) {\n    var i;\n    var len = this.filters.length;\n    var effects = [];\n\n    for (i = 0; i < len; i += 1) {\n      if (this.filters[i].type === type) {\n        effects.push(this.filters[i]);\n      }\n    }\n\n    return effects;\n  };\n\n  function registerEffect(id, effect) {\n    registeredEffects[id] = {\n      effect: effect\n    };\n  }\n\n  function CVMaskElement(data, element) {\n    this.data = data;\n    this.element = element;\n    this.masksProperties = this.data.masksProperties || [];\n    this.viewData = createSizedArray(this.masksProperties.length);\n    var i;\n    var len = this.masksProperties.length;\n    var hasMasks = false;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        hasMasks = true;\n      }\n\n      this.viewData[i] = ShapePropertyFactory.getShapeProp(this.element, this.masksProperties[i], 3);\n    }\n\n    this.hasMasks = hasMasks;\n\n    if (hasMasks) {\n      this.element.addRenderableComponent(this);\n    }\n  }\n\n  CVMaskElement.prototype.renderFrame = function () {\n    if (!this.hasMasks) {\n      return;\n    }\n\n    var transform = this.element.finalTransform.mat;\n    var ctx = this.element.canvasContext;\n    var i;\n    var len = this.masksProperties.length;\n    var pt;\n    var pts;\n    var data;\n    ctx.beginPath();\n\n    for (i = 0; i < len; i += 1) {\n      if (this.masksProperties[i].mode !== 'n') {\n        if (this.masksProperties[i].inv) {\n          ctx.moveTo(0, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, 0);\n          ctx.lineTo(this.element.globalData.compSize.w, this.element.globalData.compSize.h);\n          ctx.lineTo(0, this.element.globalData.compSize.h);\n          ctx.lineTo(0, 0);\n        }\n\n        data = this.viewData[i].v;\n        pt = transform.applyToPointArray(data.v[0][0], data.v[0][1], 0);\n        ctx.moveTo(pt[0], pt[1]);\n        var j;\n        var jLen = data._length;\n\n        for (j = 1; j < jLen; j += 1) {\n          pts = transform.applyToTriplePoints(data.o[j - 1], data.i[j], data.v[j]);\n          ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n        }\n\n        pts = transform.applyToTriplePoints(data.o[j - 1], data.i[0], data.v[0]);\n        ctx.bezierCurveTo(pts[0], pts[1], pts[2], pts[3], pts[4], pts[5]);\n      }\n    }\n\n    this.element.globalData.renderer.save(true);\n    ctx.clip();\n  };\n\n  CVMaskElement.prototype.getMaskProperty = MaskElement.prototype.getMaskProperty;\n\n  CVMaskElement.prototype.destroy = function () {\n    this.element = null;\n  };\n\n  function CVBaseElement() {}\n\n  var operationsMap = {\n    1: 'source-in',\n    2: 'source-out',\n    3: 'source-in',\n    4: 'source-out'\n  };\n  CVBaseElement.prototype = {\n    createElements: function createElements() {},\n    initRendererElement: function initRendererElement() {},\n    createContainerElements: function createContainerElements() {\n      // If the layer is masked we will use two buffers to store each different states of the drawing\n      // This solution is not ideal for several reason. But unfortunately, because of the recursive\n      // nature of the render tree, it's the only simple way to make sure one inner mask doesn't override an outer mask.\n      // TODO: try to reduce the size of these buffers to the size of the composition contaning the layer\n      // It might be challenging because the layer most likely is transformed in some way\n      if (this.data.tt >= 1) {\n        this.buffers = [];\n        var canvasContext = this.globalData.canvasContext;\n        var bufferCanvas = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas);\n        var bufferCanvas2 = assetLoader.createCanvas(canvasContext.canvas.width, canvasContext.canvas.height);\n        this.buffers.push(bufferCanvas2);\n\n        if (this.data.tt >= 3 && !document._isProxy) {\n          assetLoader.loadLumaCanvas();\n        }\n      }\n\n      this.canvasContext = this.globalData.canvasContext;\n      this.transformCanvas = this.globalData.transformCanvas;\n      this.renderableEffectsManager = new CVEffects(this);\n      this.searchEffectTransforms();\n    },\n    createContent: function createContent() {},\n    setBlendMode: function setBlendMode() {\n      var globalData = this.globalData;\n\n      if (globalData.blendMode !== this.data.bm) {\n        globalData.blendMode = this.data.bm;\n        var blendModeValue = getBlendMode(this.data.bm);\n        globalData.canvasContext.globalCompositeOperation = blendModeValue;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new CVMaskElement(this.data, this);\n      this.transformEffects = this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);\n    },\n    hideElement: function hideElement() {\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\n        this.hidden = true;\n      }\n    },\n    showElement: function showElement() {\n      if (this.isInRange && !this.isTransparent) {\n        this.hidden = false;\n        this._isFirstFrame = true;\n        this.maskManager._isFirstFrame = true;\n      }\n    },\n    clearCanvas: function clearCanvas(canvasContext) {\n      canvasContext.clearRect(this.transformCanvas.tx, this.transformCanvas.ty, this.transformCanvas.w * this.transformCanvas.sx, this.transformCanvas.h * this.transformCanvas.sy);\n    },\n    prepareLayer: function prepareLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[0];\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx); // on the first buffer we store the current state of the global drawing\n\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // The next four lines are to clear the canvas\n        // TODO: Check if there is a way to clear the canvas without resetting the transform\n\n        this.currentTransform = this.canvasContext.getTransform();\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform);\n      }\n    },\n    exitLayer: function exitLayer() {\n      if (this.data.tt >= 1) {\n        var buffer = this.buffers[1]; // On the second buffer we store the current state of the global drawing\n        // that only contains the content of this layer\n        // (if it is a composition, it also includes the nested layers)\n\n        var bufferCtx = buffer.getContext('2d');\n        this.clearCanvas(bufferCtx);\n        bufferCtx.drawImage(this.canvasContext.canvas, 0, 0); // We clear the canvas again\n\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0);\n        this.clearCanvas(this.canvasContext);\n        this.canvasContext.setTransform(this.currentTransform); // We draw the mask\n\n        var mask = this.comp.getElementById('tp' in this.data ? this.data.tp : this.data.ind - 1);\n        mask.renderFrame(true); // We draw the second buffer (that contains the content of this layer)\n\n        this.canvasContext.setTransform(1, 0, 0, 1, 0, 0); // If the mask is a Luma matte, we need to do two extra painting operations\n        // the _isProxy check is to avoid drawing a fake canvas in workers that will throw an error\n\n        if (this.data.tt >= 3 && !document._isProxy) {\n          // We copy the painted mask to a buffer that has a color matrix filter applied to it\n          // that applies the rgb values to the alpha channel\n          var lumaBuffer = assetLoader.getLumaCanvas(this.canvasContext.canvas);\n          var lumaBufferCtx = lumaBuffer.getContext('2d');\n          lumaBufferCtx.drawImage(this.canvasContext.canvas, 0, 0);\n          this.clearCanvas(this.canvasContext); // we repaint the context with the mask applied to it\n\n          this.canvasContext.drawImage(lumaBuffer, 0, 0);\n        }\n\n        this.canvasContext.globalCompositeOperation = operationsMap[this.data.tt];\n        this.canvasContext.drawImage(buffer, 0, 0); // We finally draw the first buffer (that contains the content of the global drawing)\n        // We use destination-over to draw the global drawing below the current layer\n\n        this.canvasContext.globalCompositeOperation = 'destination-over';\n        this.canvasContext.drawImage(this.buffers[0], 0, 0);\n        this.canvasContext.setTransform(this.currentTransform); // We reset the globalCompositeOperation to source-over, the standard type of operation\n\n        this.canvasContext.globalCompositeOperation = 'source-over';\n      }\n    },\n    renderFrame: function renderFrame(forceRender) {\n      if (this.hidden || this.data.hd) {\n        return;\n      }\n\n      if (this.data.td === 1 && !forceRender) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderLocalTransform();\n      this.setBlendMode();\n      var forceRealStack = this.data.ty === 0;\n      this.prepareLayer();\n      this.globalData.renderer.save(forceRealStack);\n      this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props);\n      this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity);\n      this.renderInnerContent();\n      this.globalData.renderer.restore(forceRealStack);\n      this.exitLayer();\n\n      if (this.maskManager.hasMasks) {\n        this.globalData.renderer.restore(true);\n      }\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.canvasContext = null;\n      this.data = null;\n      this.globalData = null;\n      this.maskManager.destroy();\n    },\n    mHelper: new Matrix()\n  };\n  CVBaseElement.prototype.hide = CVBaseElement.prototype.hideElement;\n  CVBaseElement.prototype.show = CVBaseElement.prototype.showElement;\n\n  function CVShapeData(element, data, styles, transformsManager) {\n    this.styledShapes = [];\n    this.tr = [0, 0, 0, 0, 0, 0];\n    var ty = 4;\n\n    if (data.ty === 'rc') {\n      ty = 5;\n    } else if (data.ty === 'el') {\n      ty = 6;\n    } else if (data.ty === 'sr') {\n      ty = 7;\n    }\n\n    this.sh = ShapePropertyFactory.getShapeProp(element, data, ty, element);\n    var i;\n    var len = styles.length;\n    var styledShape;\n\n    for (i = 0; i < len; i += 1) {\n      if (!styles[i].closed) {\n        styledShape = {\n          transforms: transformsManager.addTransformSequence(styles[i].transforms),\n          trNodes: []\n        };\n        this.styledShapes.push(styledShape);\n        styles[i].elements.push(styledShape);\n      }\n    }\n  }\n\n  CVShapeData.prototype.setAsAnimated = SVGShapeData.prototype.setAsAnimated;\n\n  function CVShapeElement(data, globalData, comp) {\n    this.shapes = [];\n    this.shapesData = data.shapes;\n    this.stylesList = [];\n    this.itemsData = [];\n    this.prevViewData = [];\n    this.shapeModifiers = [];\n    this.processedElements = [];\n    this.transformsManager = new ShapeTransformManager();\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableElement], CVShapeElement);\n  CVShapeElement.prototype.initElement = RenderableDOMElement.prototype.initElement;\n  CVShapeElement.prototype.transformHelper = {\n    opacity: 1,\n    _opMdf: false\n  };\n  CVShapeElement.prototype.dashResetter = [];\n\n  CVShapeElement.prototype.createContent = function () {\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n  };\n\n  CVShapeElement.prototype.createStyleElement = function (data, transforms) {\n    var styleElem = {\n      data: data,\n      type: data.ty,\n      preTransforms: this.transformsManager.addTransformSequence(transforms),\n      transforms: [],\n      elements: [],\n      closed: data.hd === true\n    };\n    var elementData = {};\n\n    if (data.ty === 'fl' || data.ty === 'st') {\n      elementData.c = PropertyFactory.getProp(this, data.c, 1, 255, this);\n\n      if (!elementData.c.k) {\n        styleElem.co = 'rgb(' + bmFloor(elementData.c.v[0]) + ',' + bmFloor(elementData.c.v[1]) + ',' + bmFloor(elementData.c.v[2]) + ')';\n      }\n    } else if (data.ty === 'gf' || data.ty === 'gs') {\n      elementData.s = PropertyFactory.getProp(this, data.s, 1, null, this);\n      elementData.e = PropertyFactory.getProp(this, data.e, 1, null, this);\n      elementData.h = PropertyFactory.getProp(this, data.h || {\n        k: 0\n      }, 0, 0.01, this);\n      elementData.a = PropertyFactory.getProp(this, data.a || {\n        k: 0\n      }, 0, degToRads, this);\n      elementData.g = new GradientProperty(this, data.g, this);\n    }\n\n    elementData.o = PropertyFactory.getProp(this, data.o, 0, 0.01, this);\n\n    if (data.ty === 'st' || data.ty === 'gs') {\n      styleElem.lc = lineCapEnum[data.lc || 2];\n      styleElem.lj = lineJoinEnum[data.lj || 2];\n\n      if (data.lj == 1) {\n        // eslint-disable-line eqeqeq\n        styleElem.ml = data.ml;\n      }\n\n      elementData.w = PropertyFactory.getProp(this, data.w, 0, null, this);\n\n      if (!elementData.w.k) {\n        styleElem.wi = elementData.w.v;\n      }\n\n      if (data.d) {\n        var d = new DashProperty(this, data.d, 'canvas', this);\n        elementData.d = d;\n\n        if (!elementData.d.k) {\n          styleElem.da = elementData.d.dashArray;\n          styleElem[\"do\"] = elementData.d.dashoffset[0];\n        }\n      }\n    } else {\n      styleElem.r = data.r === 2 ? 'evenodd' : 'nonzero';\n    }\n\n    this.stylesList.push(styleElem);\n    elementData.style = styleElem;\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createGroupElement = function () {\n    var elementData = {\n      it: [],\n      prevViewData: []\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createTransformElement = function (data) {\n    var elementData = {\n      transform: {\n        opacity: 1,\n        _opMdf: false,\n        key: this.transformsManager.getNewKey(),\n        op: PropertyFactory.getProp(this, data.o, 0, 0.01, this),\n        mProps: TransformPropertyFactory.getTransformProperty(this, data, this)\n      }\n    };\n    return elementData;\n  };\n\n  CVShapeElement.prototype.createShapeElement = function (data) {\n    var elementData = new CVShapeData(this, data, this.stylesList, this.transformsManager);\n    this.shapes.push(elementData);\n    this.addShapeToModifiers(elementData);\n    return elementData;\n  };\n\n  CVShapeElement.prototype.reloadShapes = function () {\n    this._isFirstFrame = true;\n    var i;\n    var len = this.itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.prevViewData[i] = this.itemsData[i];\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, true, []);\n    len = this.dynamicProperties.length;\n\n    for (i = 0; i < len; i += 1) {\n      this.dynamicProperties[i].getValue();\n    }\n\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n  };\n\n  CVShapeElement.prototype.addTransformToStyleList = function (transform) {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.push(transform);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.removeTransformFromStyleList = function () {\n    var i;\n    var len = this.stylesList.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (!this.stylesList[i].closed) {\n        this.stylesList[i].transforms.pop();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.closeStyles = function (styles) {\n    var i;\n    var len = styles.length;\n\n    for (i = 0; i < len; i += 1) {\n      styles[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, shouldRender, transforms) {\n    var i;\n    var len = arr.length - 1;\n    var j;\n    var jLen;\n    var ownStyles = [];\n    var ownModifiers = [];\n    var processedPos;\n    var modifier;\n    var currentTransform;\n    var ownTransforms = [].concat(transforms);\n\n    for (i = len; i >= 0; i -= 1) {\n      processedPos = this.searchProcessedElement(arr[i]);\n\n      if (!processedPos) {\n        arr[i]._shouldRender = shouldRender;\n      } else {\n        itemsData[i] = prevViewData[processedPos - 1];\n      }\n\n      if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\n        if (!processedPos) {\n          itemsData[i] = this.createStyleElement(arr[i], ownTransforms);\n        } else {\n          itemsData[i].style.closed = false;\n        }\n\n        ownStyles.push(itemsData[i].style);\n      } else if (arr[i].ty === 'gr') {\n        if (!processedPos) {\n          itemsData[i] = this.createGroupElement(arr[i]);\n        } else {\n          jLen = itemsData[i].it.length;\n\n          for (j = 0; j < jLen; j += 1) {\n            itemsData[i].prevViewData[j] = itemsData[i].it[j];\n          }\n        }\n\n        this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, shouldRender, ownTransforms);\n      } else if (arr[i].ty === 'tr') {\n        if (!processedPos) {\n          currentTransform = this.createTransformElement(arr[i]);\n          itemsData[i] = currentTransform;\n        }\n\n        ownTransforms.push(itemsData[i]);\n        this.addTransformToStyleList(itemsData[i]);\n      } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\n        if (!processedPos) {\n          itemsData[i] = this.createShapeElement(arr[i]);\n        }\n      } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'pb' || arr[i].ty === 'zz' || arr[i].ty === 'op') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          modifier.init(this, arr[i]);\n          itemsData[i] = modifier;\n          this.shapeModifiers.push(modifier);\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = false;\n        }\n\n        ownModifiers.push(modifier);\n      } else if (arr[i].ty === 'rp') {\n        if (!processedPos) {\n          modifier = ShapeModifiers.getModifier(arr[i].ty);\n          itemsData[i] = modifier;\n          modifier.init(this, arr, i, itemsData);\n          this.shapeModifiers.push(modifier);\n          shouldRender = false;\n        } else {\n          modifier = itemsData[i];\n          modifier.closed = true;\n        }\n\n        ownModifiers.push(modifier);\n      }\n\n      this.addProcessedElement(arr[i], i + 1);\n    }\n\n    this.removeTransformFromStyleList();\n    this.closeStyles(ownStyles);\n    len = ownModifiers.length;\n\n    for (i = 0; i < len; i += 1) {\n      ownModifiers[i].closed = true;\n    }\n  };\n\n  CVShapeElement.prototype.renderInnerContent = function () {\n    this.transformHelper.opacity = 1;\n    this.transformHelper._opMdf = false;\n    this.renderModifiers();\n    this.transformsManager.processSequences(this._isFirstFrame);\n    this.renderShape(this.transformHelper, this.shapesData, this.itemsData, true);\n  };\n\n  CVShapeElement.prototype.renderShapeTransform = function (parentTransform, groupTransform) {\n    if (parentTransform._opMdf || groupTransform.op._mdf || this._isFirstFrame) {\n      groupTransform.opacity = parentTransform.opacity;\n      groupTransform.opacity *= groupTransform.op.v;\n      groupTransform._opMdf = true;\n    }\n  };\n\n  CVShapeElement.prototype.drawLayer = function () {\n    var i;\n    var len = this.stylesList.length;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var elems;\n    var nodes;\n    var renderer = this.globalData.renderer;\n    var ctx = this.globalData.canvasContext;\n    var type;\n    var currentStyle;\n\n    for (i = 0; i < len; i += 1) {\n      currentStyle = this.stylesList[i];\n      type = currentStyle.type; // Skipping style when\n      // Stroke width equals 0\n      // style should not be rendered (extra unused repeaters)\n      // current opacity equals 0\n      // global opacity equals 0\n\n      if (!((type === 'st' || type === 'gs') && currentStyle.wi === 0 || !currentStyle.data._shouldRender || currentStyle.coOp === 0 || this.globalData.currentGlobalAlpha === 0)) {\n        renderer.save();\n        elems = currentStyle.elements;\n\n        if (type === 'st' || type === 'gs') {\n          renderer.ctxStrokeStyle(type === 'st' ? currentStyle.co : currentStyle.grd); // ctx.strokeStyle = type === 'st' ? currentStyle.co : currentStyle.grd;\n\n          renderer.ctxLineWidth(currentStyle.wi); // ctx.lineWidth = currentStyle.wi;\n\n          renderer.ctxLineCap(currentStyle.lc); // ctx.lineCap = currentStyle.lc;\n\n          renderer.ctxLineJoin(currentStyle.lj); // ctx.lineJoin = currentStyle.lj;\n\n          renderer.ctxMiterLimit(currentStyle.ml || 0); // ctx.miterLimit = currentStyle.ml || 0;\n        } else {\n          renderer.ctxFillStyle(type === 'fl' ? currentStyle.co : currentStyle.grd); // ctx.fillStyle = type === 'fl' ? currentStyle.co : currentStyle.grd;\n        }\n\n        renderer.ctxOpacity(currentStyle.coOp);\n\n        if (type !== 'st' && type !== 'gs') {\n          ctx.beginPath();\n        }\n\n        renderer.ctxTransform(currentStyle.preTransforms.finalTransform.props);\n        jLen = elems.length;\n\n        for (j = 0; j < jLen; j += 1) {\n          if (type === 'st' || type === 'gs') {\n            ctx.beginPath();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(currentStyle.da);\n              ctx.lineDashOffset = currentStyle[\"do\"];\n            }\n          }\n\n          nodes = elems[j].trNodes;\n          kLen = nodes.length;\n\n          for (k = 0; k < kLen; k += 1) {\n            if (nodes[k].t === 'm') {\n              ctx.moveTo(nodes[k].p[0], nodes[k].p[1]);\n            } else if (nodes[k].t === 'c') {\n              ctx.bezierCurveTo(nodes[k].pts[0], nodes[k].pts[1], nodes[k].pts[2], nodes[k].pts[3], nodes[k].pts[4], nodes[k].pts[5]);\n            } else {\n              ctx.closePath();\n            }\n          }\n\n          if (type === 'st' || type === 'gs') {\n            // ctx.stroke();\n            renderer.ctxStroke();\n\n            if (currentStyle.da) {\n              ctx.setLineDash(this.dashResetter);\n            }\n          }\n        }\n\n        if (type !== 'st' && type !== 'gs') {\n          // ctx.fill(currentStyle.r);\n          this.globalData.renderer.ctxFill(currentStyle.r);\n        }\n\n        renderer.restore();\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderShape = function (parentTransform, items, data, isMain) {\n    var i;\n    var len = items.length - 1;\n    var groupTransform;\n    groupTransform = parentTransform;\n\n    for (i = len; i >= 0; i -= 1) {\n      if (items[i].ty === 'tr') {\n        groupTransform = data[i].transform;\n        this.renderShapeTransform(parentTransform, groupTransform);\n      } else if (items[i].ty === 'sh' || items[i].ty === 'el' || items[i].ty === 'rc' || items[i].ty === 'sr') {\n        this.renderPath(items[i], data[i]);\n      } else if (items[i].ty === 'fl') {\n        this.renderFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'st') {\n        this.renderStroke(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gf' || items[i].ty === 'gs') {\n        this.renderGradientFill(items[i], data[i], groupTransform);\n      } else if (items[i].ty === 'gr') {\n        this.renderShape(groupTransform, items[i].it, data[i].it);\n      } else if (items[i].ty === 'tm') {//\n      }\n    }\n\n    if (isMain) {\n      this.drawLayer();\n    }\n  };\n\n  CVShapeElement.prototype.renderStyledShape = function (styledShape, shape) {\n    if (this._isFirstFrame || shape._mdf || styledShape.transforms._mdf) {\n      var shapeNodes = styledShape.trNodes;\n      var paths = shape.paths;\n      var i;\n      var len;\n      var j;\n      var jLen = paths._length;\n      shapeNodes.length = 0;\n      var groupTransformMat = styledShape.transforms.finalTransform;\n\n      for (j = 0; j < jLen; j += 1) {\n        var pathNodes = paths.shapes[j];\n\n        if (pathNodes && pathNodes.v) {\n          len = pathNodes._length;\n\n          for (i = 1; i < len; i += 1) {\n            if (i === 1) {\n              shapeNodes.push({\n                t: 'm',\n                p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n              });\n            }\n\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[i], pathNodes.v[i])\n            });\n          }\n\n          if (len === 1) {\n            shapeNodes.push({\n              t: 'm',\n              p: groupTransformMat.applyToPointArray(pathNodes.v[0][0], pathNodes.v[0][1], 0)\n            });\n          }\n\n          if (pathNodes.c && len) {\n            shapeNodes.push({\n              t: 'c',\n              pts: groupTransformMat.applyToTriplePoints(pathNodes.o[i - 1], pathNodes.i[0], pathNodes.v[0])\n            });\n            shapeNodes.push({\n              t: 'z'\n            });\n          }\n        }\n      }\n\n      styledShape.trNodes = shapeNodes;\n    }\n  };\n\n  CVShapeElement.prototype.renderPath = function (pathData, itemData) {\n    if (pathData.hd !== true && pathData._shouldRender) {\n      var i;\n      var len = itemData.styledShapes.length;\n\n      for (i = 0; i < len; i += 1) {\n        this.renderStyledShape(itemData.styledShapes[i], itemData.sh);\n      }\n    }\n  };\n\n  CVShapeElement.prototype.renderFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n  };\n\n  CVShapeElement.prototype.renderGradientFill = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var grd;\n\n    if (!styleElem.grd || itemData.g._mdf || itemData.s._mdf || itemData.e._mdf || styleData.t !== 1 && (itemData.h._mdf || itemData.a._mdf)) {\n      var ctx = this.globalData.canvasContext;\n      var pt1 = itemData.s.v;\n      var pt2 = itemData.e.v;\n\n      if (styleData.t === 1) {\n        grd = ctx.createLinearGradient(pt1[0], pt1[1], pt2[0], pt2[1]);\n      } else {\n        var rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\n        var percent = itemData.h.v;\n\n        if (percent >= 1) {\n          percent = 0.99;\n        } else if (percent <= -1) {\n          percent = -0.99;\n        }\n\n        var dist = rad * percent;\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\n        grd = ctx.createRadialGradient(x, y, 0, pt1[0], pt1[1], rad);\n      }\n\n      var i;\n      var len = styleData.g.p;\n      var cValues = itemData.g.c;\n      var opacity = 1;\n\n      for (i = 0; i < len; i += 1) {\n        if (itemData.g._hasOpacity && itemData.g._collapsable) {\n          opacity = itemData.g.o[i * 2 + 1];\n        }\n\n        grd.addColorStop(cValues[i * 4] / 100, 'rgba(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ',' + opacity + ')');\n      }\n\n      styleElem.grd = grd;\n    }\n\n    styleElem.coOp = itemData.o.v * groupTransform.opacity;\n  };\n\n  CVShapeElement.prototype.renderStroke = function (styleData, itemData, groupTransform) {\n    var styleElem = itemData.style;\n    var d = itemData.d;\n\n    if (d && (d._mdf || this._isFirstFrame)) {\n      styleElem.da = d.dashArray;\n      styleElem[\"do\"] = d.dashoffset[0];\n    }\n\n    if (itemData.c._mdf || this._isFirstFrame) {\n      styleElem.co = 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')';\n    }\n\n    if (itemData.o._mdf || groupTransform._opMdf || this._isFirstFrame) {\n      styleElem.coOp = itemData.o.v * groupTransform.opacity;\n    }\n\n    if (itemData.w._mdf || this._isFirstFrame) {\n      styleElem.wi = itemData.w.v;\n    }\n  };\n\n  CVShapeElement.prototype.destroy = function () {\n    this.shapesData = null;\n    this.globalData = null;\n    this.canvasContext = null;\n    this.stylesList.length = 0;\n    this.itemsData.length = 0;\n  };\n\n  function CVTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.yOffset = 0;\n    this.fillColorAnim = false;\n    this.strokeColorAnim = false;\n    this.strokeWidthAnim = false;\n    this.stroke = false;\n    this.fill = false;\n    this.justifyOffset = 0;\n    this.currentRender = null;\n    this.renderType = 'canvas';\n    this.values = {\n      fill: 'rgba(0,0,0,0)',\n      stroke: 'rgba(0,0,0,0)',\n      sWidth: 0,\n      fValue: ''\n    };\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement, ITextElement], CVTextElement);\n  CVTextElement.prototype.tHelper = createTag('canvas').getContext('2d');\n\n  CVTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var hasFill = false;\n\n    if (documentData.fc) {\n      hasFill = true;\n      this.values.fill = this.buildColor(documentData.fc);\n    } else {\n      this.values.fill = 'rgba(0,0,0,0)';\n    }\n\n    this.fill = hasFill;\n    var hasStroke = false;\n\n    if (documentData.sc) {\n      hasStroke = true;\n      this.values.stroke = this.buildColor(documentData.sc);\n      this.values.sWidth = documentData.sw;\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n    var i;\n    var len;\n    var letters = documentData.l;\n    var matrixHelper = this.mHelper;\n    this.stroke = hasStroke;\n    this.values.fValue = documentData.finalSize + 'px ' + this.globalData.fontManager.getFontByName(documentData.f).fFamily;\n    len = documentData.finalText.length; // this.tHelper.font = this.values.fValue;\n\n    var charData;\n    var shapeData;\n    var k;\n    var kLen;\n    var shapes;\n    var j;\n    var jLen;\n    var pathNodes;\n    var commands;\n    var pathArr;\n    var singleShape = this.data.singleShape;\n    var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\n    var xPos = 0;\n    var yPos = 0;\n    var firstLine = true;\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n      shapeData = charData && charData.data || {};\n      matrixHelper.reset();\n\n      if (singleShape && letters[i].n) {\n        xPos = -trackingOffset;\n        yPos += documentData.yOffset;\n        yPos += firstLine ? 1 : 0;\n        firstLine = false;\n      }\n\n      shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\n      jLen = shapes.length;\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n\n      if (singleShape) {\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\n      }\n\n      commands = createSizedArray(jLen - 1);\n      var commandsCounter = 0;\n\n      for (j = 0; j < jLen; j += 1) {\n        if (shapes[j].ty === 'sh') {\n          kLen = shapes[j].ks.k.i.length;\n          pathNodes = shapes[j].ks.k;\n          pathArr = [];\n\n          for (k = 1; k < kLen; k += 1) {\n            if (k === 1) {\n              pathArr.push(matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n            }\n\n            pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToY(pathNodes.i[k][0], pathNodes.i[k][1], 0), matrixHelper.applyToX(pathNodes.v[k][0], pathNodes.v[k][1], 0), matrixHelper.applyToY(pathNodes.v[k][0], pathNodes.v[k][1], 0));\n          }\n\n          pathArr.push(matrixHelper.applyToX(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToY(pathNodes.o[k - 1][0], pathNodes.o[k - 1][1], 0), matrixHelper.applyToX(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToY(pathNodes.i[0][0], pathNodes.i[0][1], 0), matrixHelper.applyToX(pathNodes.v[0][0], pathNodes.v[0][1], 0), matrixHelper.applyToY(pathNodes.v[0][0], pathNodes.v[0][1], 0));\n          commands[commandsCounter] = pathArr;\n          commandsCounter += 1;\n        }\n      }\n\n      if (singleShape) {\n        xPos += letters[i].l;\n        xPos += trackingOffset;\n      }\n\n      if (this.textSpans[cnt]) {\n        this.textSpans[cnt].elem = commands;\n      } else {\n        this.textSpans[cnt] = {\n          elem: commands\n        };\n      }\n\n      cnt += 1;\n    }\n  };\n\n  CVTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var ctx = this.canvasContext;\n    ctx.font = this.values.fValue;\n    this.globalData.renderer.ctxLineCap('butt'); // ctx.lineCap = 'butt';\n\n    this.globalData.renderer.ctxLineJoin('miter'); // ctx.lineJoin = 'miter';\n\n    this.globalData.renderer.ctxMiterLimit(4); // ctx.miterLimit = 4;\n\n    if (!this.data.singleShape) {\n      this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n    }\n\n    var i;\n    var len;\n    var j;\n    var jLen;\n    var k;\n    var kLen;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var lastFill = null;\n    var lastStroke = null;\n    var lastStrokeW = null;\n    var commands;\n    var pathArr;\n    var renderer = this.globalData.renderer;\n\n    for (i = 0; i < len; i += 1) {\n      if (!letters[i].n) {\n        renderedLetter = renderedLetters[i];\n\n        if (renderedLetter) {\n          renderer.save();\n          renderer.ctxTransform(renderedLetter.p);\n          renderer.ctxOpacity(renderedLetter.o);\n        }\n\n        if (this.fill) {\n          if (renderedLetter && renderedLetter.fc) {\n            if (lastFill !== renderedLetter.fc) {\n              renderer.ctxFillStyle(renderedLetter.fc);\n              lastFill = renderedLetter.fc; // ctx.fillStyle = renderedLetter.fc;\n            }\n          } else if (lastFill !== this.values.fill) {\n            lastFill = this.values.fill;\n            renderer.ctxFillStyle(this.values.fill); // ctx.fillStyle = this.values.fill;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          renderer.ctxFill(); // this.globalData.canvasContext.fill();\n          /// ctx.fillText(this.textSpans[i].val,0,0);\n        }\n\n        if (this.stroke) {\n          if (renderedLetter && renderedLetter.sw) {\n            if (lastStrokeW !== renderedLetter.sw) {\n              lastStrokeW = renderedLetter.sw;\n              renderer.ctxLineWidth(renderedLetter.sw); // ctx.lineWidth = renderedLetter.sw;\n            }\n          } else if (lastStrokeW !== this.values.sWidth) {\n            lastStrokeW = this.values.sWidth;\n            renderer.ctxLineWidth(this.values.sWidth); // ctx.lineWidth = this.values.sWidth;\n          }\n\n          if (renderedLetter && renderedLetter.sc) {\n            if (lastStroke !== renderedLetter.sc) {\n              lastStroke = renderedLetter.sc;\n              renderer.ctxStrokeStyle(renderedLetter.sc); // ctx.strokeStyle = renderedLetter.sc;\n            }\n          } else if (lastStroke !== this.values.stroke) {\n            lastStroke = this.values.stroke;\n            renderer.ctxStrokeStyle(this.values.stroke); // ctx.strokeStyle = this.values.stroke;\n          }\n\n          commands = this.textSpans[i].elem;\n          jLen = commands.length;\n          this.globalData.canvasContext.beginPath();\n\n          for (j = 0; j < jLen; j += 1) {\n            pathArr = commands[j];\n            kLen = pathArr.length;\n            this.globalData.canvasContext.moveTo(pathArr[0], pathArr[1]);\n\n            for (k = 2; k < kLen; k += 6) {\n              this.globalData.canvasContext.bezierCurveTo(pathArr[k], pathArr[k + 1], pathArr[k + 2], pathArr[k + 3], pathArr[k + 4], pathArr[k + 5]);\n            }\n          }\n\n          this.globalData.canvasContext.closePath();\n          renderer.ctxStroke(); // this.globalData.canvasContext.stroke();\n          /// ctx.strokeText(letters[i].val,0,0);\n        }\n\n        if (renderedLetter) {\n          this.globalData.renderer.restore();\n        }\n      }\n    }\n  };\n\n  function CVImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.img = globalData.imageLoader.getAsset(this.assetData);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVImageElement);\n  CVImageElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVImageElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVImageElement.prototype.createContent = function () {\n    if (this.img.width && (this.assetData.w !== this.img.width || this.assetData.h !== this.img.height)) {\n      var canvas = createTag('canvas');\n      canvas.width = this.assetData.w;\n      canvas.height = this.assetData.h;\n      var ctx = canvas.getContext('2d');\n      var imgW = this.img.width;\n      var imgH = this.img.height;\n      var imgRel = imgW / imgH;\n      var canvasRel = this.assetData.w / this.assetData.h;\n      var widthCrop;\n      var heightCrop;\n      var par = this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio;\n\n      if (imgRel > canvasRel && par === 'xMidYMid slice' || imgRel < canvasRel && par !== 'xMidYMid slice') {\n        heightCrop = imgH;\n        widthCrop = heightCrop * canvasRel;\n      } else {\n        widthCrop = imgW;\n        heightCrop = widthCrop / canvasRel;\n      }\n\n      ctx.drawImage(this.img, (imgW - widthCrop) / 2, (imgH - heightCrop) / 2, widthCrop, heightCrop, 0, 0, this.assetData.w, this.assetData.h);\n      this.img = canvas;\n    }\n  };\n\n  CVImageElement.prototype.renderInnerContent = function () {\n    this.canvasContext.drawImage(this.img, 0, 0);\n  };\n\n  CVImageElement.prototype.destroy = function () {\n    this.img = null;\n  };\n\n  function CVSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, CVBaseElement, HierarchyElement, FrameElement, RenderableElement], CVSolidElement);\n  CVSolidElement.prototype.initElement = SVGShapeElement.prototype.initElement;\n  CVSolidElement.prototype.prepareFrame = IImageElement.prototype.prepareFrame;\n\n  CVSolidElement.prototype.renderInnerContent = function () {\n    // var ctx = this.canvasContext;\n    this.globalData.renderer.ctxFillStyle(this.data.sc); // ctx.fillStyle = this.data.sc;\n\n    this.globalData.renderer.ctxFillRect(0, 0, this.data.sw, this.data.sh); // ctx.fillRect(0, 0, this.data.sw, this.data.sh);\n    //\n  };\n\n  function CanvasRendererBase() {}\n\n  extendPrototype([BaseRenderer], CanvasRendererBase);\n\n  CanvasRendererBase.prototype.createShape = function (data) {\n    return new CVShapeElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createText = function (data) {\n    return new CVTextElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createImage = function (data) {\n    return new CVImageElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createSolid = function (data) {\n    return new CVSolidElement(data, this.globalData, this);\n  };\n\n  CanvasRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  CanvasRendererBase.prototype.ctxTransform = function (props) {\n    if (props[0] === 1 && props[1] === 0 && props[4] === 0 && props[5] === 1 && props[12] === 0 && props[13] === 0) {\n      return;\n    }\n\n    this.canvasContext.transform(props[0], props[1], props[4], props[5], props[12], props[13]);\n  };\n\n  CanvasRendererBase.prototype.ctxOpacity = function (op) {\n    this.canvasContext.globalAlpha *= op < 0 ? 0 : op;\n  };\n\n  CanvasRendererBase.prototype.ctxFillStyle = function (value) {\n    this.canvasContext.fillStyle = value;\n  };\n\n  CanvasRendererBase.prototype.ctxStrokeStyle = function (value) {\n    this.canvasContext.strokeStyle = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineWidth = function (value) {\n    this.canvasContext.lineWidth = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineCap = function (value) {\n    this.canvasContext.lineCap = value;\n  };\n\n  CanvasRendererBase.prototype.ctxLineJoin = function (value) {\n    this.canvasContext.lineJoin = value;\n  };\n\n  CanvasRendererBase.prototype.ctxMiterLimit = function (value) {\n    this.canvasContext.miterLimit = value;\n  };\n\n  CanvasRendererBase.prototype.ctxFill = function (rule) {\n    this.canvasContext.fill(rule);\n  };\n\n  CanvasRendererBase.prototype.ctxFillRect = function (x, y, w, h) {\n    this.canvasContext.fillRect(x, y, w, h);\n  };\n\n  CanvasRendererBase.prototype.ctxStroke = function () {\n    this.canvasContext.stroke();\n  };\n\n  CanvasRendererBase.prototype.reset = function () {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    this.contextData.reset();\n  };\n\n  CanvasRendererBase.prototype.save = function () {\n    this.canvasContext.save();\n  };\n\n  CanvasRendererBase.prototype.restore = function (actionFlag) {\n    if (!this.renderConfig.clearCanvas) {\n      this.canvasContext.restore();\n      return;\n    }\n\n    if (actionFlag) {\n      this.globalData.blendMode = 'source-over';\n    }\n\n    this.contextData.restore(actionFlag);\n  };\n\n  CanvasRendererBase.prototype.configAnimation = function (animData) {\n    if (this.animationItem.wrapper) {\n      this.animationItem.container = createTag('canvas');\n      var containerStyle = this.animationItem.container.style;\n      containerStyle.width = '100%';\n      containerStyle.height = '100%';\n      var origin = '0px 0px 0px';\n      containerStyle.transformOrigin = origin;\n      containerStyle.mozTransformOrigin = origin;\n      containerStyle.webkitTransformOrigin = origin;\n      containerStyle['-webkit-transform'] = origin;\n      containerStyle.contentVisibility = this.renderConfig.contentVisibility;\n      this.animationItem.wrapper.appendChild(this.animationItem.container);\n      this.canvasContext = this.animationItem.container.getContext('2d');\n\n      if (this.renderConfig.className) {\n        this.animationItem.container.setAttribute('class', this.renderConfig.className);\n      }\n\n      if (this.renderConfig.id) {\n        this.animationItem.container.setAttribute('id', this.renderConfig.id);\n      }\n    } else {\n      this.canvasContext = this.renderConfig.context;\n    }\n\n    this.contextData.setContext(this.canvasContext);\n    this.data = animData;\n    this.layers = animData.layers;\n    this.transformCanvas = {\n      w: animData.w,\n      h: animData.h,\n      sx: 0,\n      sy: 0,\n      tx: 0,\n      ty: 0\n    };\n    this.setupGlobalData(animData, document.body);\n    this.globalData.canvasContext = this.canvasContext;\n    this.globalData.renderer = this;\n    this.globalData.isDashed = false;\n    this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\n    this.globalData.transformCanvas = this.transformCanvas;\n    this.elements = createSizedArray(animData.layers.length);\n    this.updateContainerSize();\n  };\n\n  CanvasRendererBase.prototype.updateContainerSize = function (width, height) {\n    this.reset();\n    var elementWidth;\n    var elementHeight;\n\n    if (width) {\n      elementWidth = width;\n      elementHeight = height;\n      this.canvasContext.canvas.width = elementWidth;\n      this.canvasContext.canvas.height = elementHeight;\n    } else {\n      if (this.animationItem.wrapper && this.animationItem.container) {\n        elementWidth = this.animationItem.wrapper.offsetWidth;\n        elementHeight = this.animationItem.wrapper.offsetHeight;\n      } else {\n        elementWidth = this.canvasContext.canvas.width;\n        elementHeight = this.canvasContext.canvas.height;\n      }\n\n      this.canvasContext.canvas.width = elementWidth * this.renderConfig.dpr;\n      this.canvasContext.canvas.height = elementHeight * this.renderConfig.dpr;\n    }\n\n    var elementRel;\n    var animationRel;\n\n    if (this.renderConfig.preserveAspectRatio.indexOf('meet') !== -1 || this.renderConfig.preserveAspectRatio.indexOf('slice') !== -1) {\n      var par = this.renderConfig.preserveAspectRatio.split(' ');\n      var fillType = par[1] || 'meet';\n      var pos = par[0] || 'xMidYMid';\n      var xPos = pos.substr(0, 4);\n      var yPos = pos.substr(4);\n      elementRel = elementWidth / elementHeight;\n      animationRel = this.transformCanvas.w / this.transformCanvas.h;\n\n      if (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice') {\n        this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      } else {\n        this.transformCanvas.sx = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n        this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      }\n\n      if (xPos === 'xMid' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) / 2 * this.renderConfig.dpr;\n      } else if (xPos === 'xMax' && (animationRel < elementRel && fillType === 'meet' || animationRel > elementRel && fillType === 'slice')) {\n        this.transformCanvas.tx = (elementWidth - this.transformCanvas.w * (elementHeight / this.transformCanvas.h)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.tx = 0;\n      }\n\n      if (yPos === 'YMid' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) / 2 * this.renderConfig.dpr;\n      } else if (yPos === 'YMax' && (animationRel > elementRel && fillType === 'meet' || animationRel < elementRel && fillType === 'slice')) {\n        this.transformCanvas.ty = (elementHeight - this.transformCanvas.h * (elementWidth / this.transformCanvas.w)) * this.renderConfig.dpr;\n      } else {\n        this.transformCanvas.ty = 0;\n      }\n    } else if (this.renderConfig.preserveAspectRatio === 'none') {\n      this.transformCanvas.sx = elementWidth / (this.transformCanvas.w / this.renderConfig.dpr);\n      this.transformCanvas.sy = elementHeight / (this.transformCanvas.h / this.renderConfig.dpr);\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    } else {\n      this.transformCanvas.sx = this.renderConfig.dpr;\n      this.transformCanvas.sy = this.renderConfig.dpr;\n      this.transformCanvas.tx = 0;\n      this.transformCanvas.ty = 0;\n    }\n\n    this.transformCanvas.props = [this.transformCanvas.sx, 0, 0, 0, 0, this.transformCanvas.sy, 0, 0, 0, 0, 1, 0, this.transformCanvas.tx, this.transformCanvas.ty, 0, 1];\n    /* var i, len = this.elements.length;\r\n      for(i=0;i<len;i+=1){\r\n          if(this.elements[i] && this.elements[i].data.ty === 0){\r\n              this.elements[i].resize(this.globalData.transformCanvas);\r\n          }\r\n      } */\n\n    this.ctxTransform(this.transformCanvas.props);\n    this.canvasContext.beginPath();\n    this.canvasContext.rect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n    this.canvasContext.closePath();\n    this.canvasContext.clip();\n    this.renderFrame(this.renderedFrame, true);\n  };\n\n  CanvasRendererBase.prototype.destroy = function () {\n    if (this.renderConfig.clearCanvas && this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.globalData.canvasContext = null;\n    this.animationItem.container = null;\n    this.destroyed = true;\n  };\n\n  CanvasRendererBase.prototype.renderFrame = function (num, forceRender) {\n    if (this.renderedFrame === num && this.renderConfig.clearCanvas === true && !forceRender || this.destroyed || num === -1) {\n      return;\n    }\n\n    this.renderedFrame = num;\n    this.globalData.frameNum = num - this.animationItem._isFirstFrame;\n    this.globalData.frameId += 1;\n    this.globalData._mdf = !this.renderConfig.clearCanvas || forceRender;\n    this.globalData.projectInterface.currentFrame = num; // console.log('--------');\n    // console.log('NEW: ',num);\n\n    var i;\n    var len = this.layers.length;\n\n    if (!this.completeLayers) {\n      this.checkLayers(num);\n    }\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].prepareFrame(num - this.layers[i].st);\n      }\n    }\n\n    if (this.globalData._mdf) {\n      if (this.renderConfig.clearCanvas === true) {\n        this.canvasContext.clearRect(0, 0, this.transformCanvas.w, this.transformCanvas.h);\n      } else {\n        this.save();\n      }\n\n      for (i = len - 1; i >= 0; i -= 1) {\n        if (this.completeLayers || this.elements[i]) {\n          this.elements[i].renderFrame();\n        }\n      }\n\n      if (this.renderConfig.clearCanvas !== true) {\n        this.restore();\n      }\n    }\n  };\n\n  CanvasRendererBase.prototype.buildItem = function (pos) {\n    var elements = this.elements;\n\n    if (elements[pos] || this.layers[pos].ty === 99) {\n      return;\n    }\n\n    var element = this.createItem(this.layers[pos], this, this.globalData);\n    elements[pos] = element;\n    element.initExpressions();\n    /* if(this.layers[pos].ty === 0){\r\n          element.resize(this.globalData.transformCanvas);\r\n      } */\n  };\n\n  CanvasRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  CanvasRendererBase.prototype.hide = function () {\n    this.animationItem.container.style.display = 'none';\n  };\n\n  CanvasRendererBase.prototype.show = function () {\n    this.animationItem.container.style.display = 'block';\n  };\n\n  function CanvasContext() {\n    this.opacity = -1;\n    this.transform = createTypedArray('float32', 16);\n    this.fillStyle = '';\n    this.strokeStyle = '';\n    this.lineWidth = '';\n    this.lineCap = '';\n    this.lineJoin = '';\n    this.miterLimit = '';\n    this.id = Math.random();\n  }\n\n  function CVContextData() {\n    this.stack = [];\n    this.cArrPos = 0;\n    this.cTr = new Matrix();\n    var i;\n    var len = 15;\n\n    for (i = 0; i < len; i += 1) {\n      var canvasContext = new CanvasContext();\n      this.stack[i] = canvasContext;\n    }\n\n    this._length = len;\n    this.nativeContext = null;\n    this.transformMat = new Matrix();\n    this.currentOpacity = 1; //\n\n    this.currentFillStyle = '';\n    this.appliedFillStyle = ''; //\n\n    this.currentStrokeStyle = '';\n    this.appliedStrokeStyle = ''; //\n\n    this.currentLineWidth = '';\n    this.appliedLineWidth = ''; //\n\n    this.currentLineCap = '';\n    this.appliedLineCap = ''; //\n\n    this.currentLineJoin = '';\n    this.appliedLineJoin = ''; //\n\n    this.appliedMiterLimit = '';\n    this.currentMiterLimit = '';\n  }\n\n  CVContextData.prototype.duplicate = function () {\n    var newLength = this._length * 2;\n    var i = 0;\n\n    for (i = this._length; i < newLength; i += 1) {\n      this.stack[i] = new CanvasContext();\n    }\n\n    this._length = newLength;\n  };\n\n  CVContextData.prototype.reset = function () {\n    this.cArrPos = 0;\n    this.cTr.reset();\n    this.stack[this.cArrPos].opacity = 1;\n  };\n\n  CVContextData.prototype.restore = function (forceRestore) {\n    this.cArrPos -= 1;\n    var currentContext = this.stack[this.cArrPos];\n    var transform = currentContext.transform;\n    var i;\n    var arr = this.cTr.props;\n\n    for (i = 0; i < 16; i += 1) {\n      arr[i] = transform[i];\n    }\n\n    if (forceRestore) {\n      this.nativeContext.restore();\n      var prevStack = this.stack[this.cArrPos + 1];\n      this.appliedFillStyle = prevStack.fillStyle;\n      this.appliedStrokeStyle = prevStack.strokeStyle;\n      this.appliedLineWidth = prevStack.lineWidth;\n      this.appliedLineCap = prevStack.lineCap;\n      this.appliedLineJoin = prevStack.lineJoin;\n      this.appliedMiterLimit = prevStack.miterLimit;\n    }\n\n    this.nativeContext.setTransform(transform[0], transform[1], transform[4], transform[5], transform[12], transform[13]);\n\n    if (forceRestore || currentContext.opacity !== -1 && this.currentOpacity !== currentContext.opacity) {\n      this.nativeContext.globalAlpha = currentContext.opacity;\n      this.currentOpacity = currentContext.opacity;\n    }\n\n    this.currentFillStyle = currentContext.fillStyle;\n    this.currentStrokeStyle = currentContext.strokeStyle;\n    this.currentLineWidth = currentContext.lineWidth;\n    this.currentLineCap = currentContext.lineCap;\n    this.currentLineJoin = currentContext.lineJoin;\n    this.currentMiterLimit = currentContext.miterLimit;\n  };\n\n  CVContextData.prototype.save = function (saveOnNativeFlag) {\n    if (saveOnNativeFlag) {\n      this.nativeContext.save();\n    }\n\n    var props = this.cTr.props;\n\n    if (this._length <= this.cArrPos) {\n      this.duplicate();\n    }\n\n    var currentStack = this.stack[this.cArrPos];\n    var i;\n\n    for (i = 0; i < 16; i += 1) {\n      currentStack.transform[i] = props[i];\n    }\n\n    this.cArrPos += 1;\n    var newStack = this.stack[this.cArrPos];\n    newStack.opacity = currentStack.opacity;\n    newStack.fillStyle = currentStack.fillStyle;\n    newStack.strokeStyle = currentStack.strokeStyle;\n    newStack.lineWidth = currentStack.lineWidth;\n    newStack.lineCap = currentStack.lineCap;\n    newStack.lineJoin = currentStack.lineJoin;\n    newStack.miterLimit = currentStack.miterLimit;\n  };\n\n  CVContextData.prototype.setOpacity = function (value) {\n    this.stack[this.cArrPos].opacity = value;\n  };\n\n  CVContextData.prototype.setContext = function (value) {\n    this.nativeContext = value;\n  };\n\n  CVContextData.prototype.fillStyle = function (value) {\n    if (this.stack[this.cArrPos].fillStyle !== value) {\n      this.currentFillStyle = value;\n      this.stack[this.cArrPos].fillStyle = value;\n    }\n  };\n\n  CVContextData.prototype.strokeStyle = function (value) {\n    if (this.stack[this.cArrPos].strokeStyle !== value) {\n      this.currentStrokeStyle = value;\n      this.stack[this.cArrPos].strokeStyle = value;\n    }\n  };\n\n  CVContextData.prototype.lineWidth = function (value) {\n    if (this.stack[this.cArrPos].lineWidth !== value) {\n      this.currentLineWidth = value;\n      this.stack[this.cArrPos].lineWidth = value;\n    }\n  };\n\n  CVContextData.prototype.lineCap = function (value) {\n    if (this.stack[this.cArrPos].lineCap !== value) {\n      this.currentLineCap = value;\n      this.stack[this.cArrPos].lineCap = value;\n    }\n  };\n\n  CVContextData.prototype.lineJoin = function (value) {\n    if (this.stack[this.cArrPos].lineJoin !== value) {\n      this.currentLineJoin = value;\n      this.stack[this.cArrPos].lineJoin = value;\n    }\n  };\n\n  CVContextData.prototype.miterLimit = function (value) {\n    if (this.stack[this.cArrPos].miterLimit !== value) {\n      this.currentMiterLimit = value;\n      this.stack[this.cArrPos].miterLimit = value;\n    }\n  };\n\n  CVContextData.prototype.transform = function (props) {\n    this.transformMat.cloneFromProps(props); // Taking the last transform value from the stored stack of transforms\n\n    var currentTransform = this.cTr; // Applying the last transform value after the new transform to respect the order of transformations\n\n    this.transformMat.multiply(currentTransform); // Storing the new transformed value in the stored transform\n\n    currentTransform.cloneFromProps(this.transformMat.props);\n    var trProps = currentTransform.props; // Applying the new transform to the canvas\n\n    this.nativeContext.setTransform(trProps[0], trProps[1], trProps[4], trProps[5], trProps[12], trProps[13]);\n  };\n\n  CVContextData.prototype.opacity = function (op) {\n    var currentOpacity = this.stack[this.cArrPos].opacity;\n    currentOpacity *= op < 0 ? 0 : op;\n\n    if (this.stack[this.cArrPos].opacity !== currentOpacity) {\n      if (this.currentOpacity !== op) {\n        this.nativeContext.globalAlpha = op;\n        this.currentOpacity = op;\n      }\n\n      this.stack[this.cArrPos].opacity = currentOpacity;\n    }\n  };\n\n  CVContextData.prototype.fill = function (rule) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n\n    this.nativeContext.fill(rule);\n  };\n\n  CVContextData.prototype.fillRect = function (x, y, w, h) {\n    if (this.appliedFillStyle !== this.currentFillStyle) {\n      this.appliedFillStyle = this.currentFillStyle;\n      this.nativeContext.fillStyle = this.appliedFillStyle;\n    }\n\n    this.nativeContext.fillRect(x, y, w, h);\n  };\n\n  CVContextData.prototype.stroke = function () {\n    if (this.appliedStrokeStyle !== this.currentStrokeStyle) {\n      this.appliedStrokeStyle = this.currentStrokeStyle;\n      this.nativeContext.strokeStyle = this.appliedStrokeStyle;\n    }\n\n    if (this.appliedLineWidth !== this.currentLineWidth) {\n      this.appliedLineWidth = this.currentLineWidth;\n      this.nativeContext.lineWidth = this.appliedLineWidth;\n    }\n\n    if (this.appliedLineCap !== this.currentLineCap) {\n      this.appliedLineCap = this.currentLineCap;\n      this.nativeContext.lineCap = this.appliedLineCap;\n    }\n\n    if (this.appliedLineJoin !== this.currentLineJoin) {\n      this.appliedLineJoin = this.currentLineJoin;\n      this.nativeContext.lineJoin = this.appliedLineJoin;\n    }\n\n    if (this.appliedMiterLimit !== this.currentMiterLimit) {\n      this.appliedMiterLimit = this.currentMiterLimit;\n      this.nativeContext.miterLimit = this.appliedMiterLimit;\n    }\n\n    this.nativeContext.stroke();\n  };\n\n  function CVCompElement(data, globalData, comp) {\n    this.completeLayers = false;\n    this.layers = data.layers;\n    this.pendingElements = [];\n    this.elements = createSizedArray(this.layers.length);\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([CanvasRendererBase, ICompElement, CVBaseElement], CVCompElement);\n\n  CVCompElement.prototype.renderInnerContent = function () {\n    var ctx = this.canvasContext;\n    ctx.beginPath();\n    ctx.moveTo(0, 0);\n    ctx.lineTo(this.data.w, 0);\n    ctx.lineTo(this.data.w, this.data.h);\n    ctx.lineTo(0, this.data.h);\n    ctx.lineTo(0, 0);\n    ctx.clip();\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.completeLayers || this.elements[i]) {\n        this.elements[i].renderFrame();\n      }\n    }\n  };\n\n  CVCompElement.prototype.destroy = function () {\n    var i;\n    var len = this.layers.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      if (this.elements[i]) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.layers = null;\n    this.elements = null;\n  };\n\n  CVCompElement.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function CanvasRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.renderConfig = {\n      clearCanvas: config && config.clearCanvas !== undefined ? config.clearCanvas : true,\n      context: config && config.context || null,\n      progressiveLoad: config && config.progressiveLoad || false,\n      preserveAspectRatio: config && config.preserveAspectRatio || 'xMidYMid meet',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      contentVisibility: config && config.contentVisibility || 'visible',\n      className: config && config.className || '',\n      id: config && config.id || '',\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.renderConfig.dpr = config && config.dpr || 1;\n\n    if (this.animationItem.wrapper) {\n      this.renderConfig.dpr = config && config.dpr || window.devicePixelRatio || 1;\n    }\n\n    this.renderedFrame = -1;\n    this.globalData = {\n      frameNum: -1,\n      _mdf: false,\n      renderConfig: this.renderConfig,\n      currentGlobalAlpha: -1\n    };\n    this.contextData = new CVContextData();\n    this.elements = [];\n    this.pendingElements = [];\n    this.transformMat = new Matrix();\n    this.completeLayers = false;\n    this.rendererType = 'canvas';\n\n    if (this.renderConfig.clearCanvas) {\n      this.ctxTransform = this.contextData.transform.bind(this.contextData);\n      this.ctxOpacity = this.contextData.opacity.bind(this.contextData);\n      this.ctxFillStyle = this.contextData.fillStyle.bind(this.contextData);\n      this.ctxStrokeStyle = this.contextData.strokeStyle.bind(this.contextData);\n      this.ctxLineWidth = this.contextData.lineWidth.bind(this.contextData);\n      this.ctxLineCap = this.contextData.lineCap.bind(this.contextData);\n      this.ctxLineJoin = this.contextData.lineJoin.bind(this.contextData);\n      this.ctxMiterLimit = this.contextData.miterLimit.bind(this.contextData);\n      this.ctxFill = this.contextData.fill.bind(this.contextData);\n      this.ctxFillRect = this.contextData.fillRect.bind(this.contextData);\n      this.ctxStroke = this.contextData.stroke.bind(this.contextData);\n      this.save = this.contextData.save.bind(this.contextData);\n    }\n  }\n\n  extendPrototype([CanvasRendererBase], CanvasRenderer);\n\n  CanvasRenderer.prototype.createComp = function (data) {\n    return new CVCompElement(data, this.globalData, this);\n  };\n\n  function HBaseElement() {}\n\n  HBaseElement.prototype = {\n    checkBlendMode: function checkBlendMode() {},\n    initRendererElement: function initRendererElement() {\n      this.baseElement = createTag(this.data.tg || 'div');\n\n      if (this.data.hasMask) {\n        this.svgElement = createNS('svg');\n        this.layerElement = createNS('g');\n        this.maskedElement = this.layerElement;\n        this.svgElement.appendChild(this.layerElement);\n        this.baseElement.appendChild(this.svgElement);\n      } else {\n        this.layerElement = this.baseElement;\n      }\n\n      styleDiv(this.baseElement);\n    },\n    createContainerElements: function createContainerElements() {\n      this.renderableEffectsManager = new CVEffects(this);\n      this.transformedElement = this.baseElement;\n      this.maskedElement = this.layerElement;\n\n      if (this.data.ln) {\n        this.layerElement.setAttribute('id', this.data.ln);\n      }\n\n      if (this.data.cl) {\n        this.layerElement.setAttribute('class', this.data.cl);\n      }\n\n      if (this.data.bm !== 0) {\n        this.setBlendMode();\n      }\n    },\n    renderElement: function renderElement() {\n      var transformedElementStyle = this.transformedElement ? this.transformedElement.style : {};\n\n      if (this.finalTransform._matMdf) {\n        var matrixValue = this.finalTransform.mat.toCSS();\n        transformedElementStyle.transform = matrixValue;\n        transformedElementStyle.webkitTransform = matrixValue;\n      }\n\n      if (this.finalTransform._opMdf) {\n        transformedElementStyle.opacity = this.finalTransform.mProp.o.v;\n      }\n    },\n    renderFrame: function renderFrame() {\n      // If it is exported as hidden (data.hd === true) no need to render\n      // If it is not visible no need to render\n      if (this.data.hd || this.hidden) {\n        return;\n      }\n\n      this.renderTransform();\n      this.renderRenderable();\n      this.renderElement();\n      this.renderInnerContent();\n\n      if (this._isFirstFrame) {\n        this._isFirstFrame = false;\n      }\n    },\n    destroy: function destroy() {\n      this.layerElement = null;\n      this.transformedElement = null;\n\n      if (this.matteElement) {\n        this.matteElement = null;\n      }\n\n      if (this.maskManager) {\n        this.maskManager.destroy();\n        this.maskManager = null;\n      }\n    },\n    createRenderableComponents: function createRenderableComponents() {\n      this.maskManager = new MaskElement(this.data, this, this.globalData);\n    },\n    addEffects: function addEffects() {},\n    setMatte: function setMatte() {}\n  };\n  HBaseElement.prototype.getBaseElement = SVGBaseElement.prototype.getBaseElement;\n  HBaseElement.prototype.destroyBaseElement = HBaseElement.prototype.destroy;\n  HBaseElement.prototype.buildElementParenting = BaseRenderer.prototype.buildElementParenting;\n\n  function HSolidElement(data, globalData, comp) {\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], HSolidElement);\n\n  HSolidElement.prototype.createContent = function () {\n    var rect;\n\n    if (this.data.hasMask) {\n      rect = createNS('rect');\n      rect.setAttribute('width', this.data.sw);\n      rect.setAttribute('height', this.data.sh);\n      rect.setAttribute('fill', this.data.sc);\n      this.svgElement.setAttribute('width', this.data.sw);\n      this.svgElement.setAttribute('height', this.data.sh);\n    } else {\n      rect = createTag('div');\n      rect.style.width = this.data.sw + 'px';\n      rect.style.height = this.data.sh + 'px';\n      rect.style.backgroundColor = this.data.sc;\n    }\n\n    this.layerElement.appendChild(rect);\n  };\n\n  function HShapeElement(data, globalData, comp) {\n    // List of drawable elements\n    this.shapes = []; // Full shape data\n\n    this.shapesData = data.shapes; // List of styles that will be applied to shapes\n\n    this.stylesList = []; // List of modifiers that will be applied to shapes\n\n    this.shapeModifiers = []; // List of items in shape tree\n\n    this.itemsData = []; // List of items in previous shape tree\n\n    this.processedElements = []; // List of animated components\n\n    this.animatedContents = [];\n    this.shapesContainer = createNS('g');\n    this.initElement(data, globalData, comp); // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\n    // List of elements that have been created\n\n    this.prevViewData = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n  }\n\n  extendPrototype([BaseElement, TransformElement, HSolidElement, SVGShapeElement, HBaseElement, HierarchyElement, FrameElement, RenderableElement], HShapeElement);\n  HShapeElement.prototype._renderShapeFrame = HShapeElement.prototype.renderInnerContent;\n\n  HShapeElement.prototype.createContent = function () {\n    var cont;\n    this.baseElement.style.fontSize = 0;\n\n    if (this.data.hasMask) {\n      this.layerElement.appendChild(this.shapesContainer);\n      cont = this.svgElement;\n    } else {\n      cont = createNS('svg');\n      var size = this.comp.data ? this.comp.data : this.globalData.compSize;\n      cont.setAttribute('width', size.w);\n      cont.setAttribute('height', size.h);\n      cont.appendChild(this.shapesContainer);\n      this.layerElement.appendChild(cont);\n    }\n\n    this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.shapesContainer, 0, [], true);\n    this.filterUniqueShapes();\n    this.shapeCont = cont;\n  };\n\n  HShapeElement.prototype.getTransformedPoint = function (transformers, point) {\n    var i;\n    var len = transformers.length;\n\n    for (i = 0; i < len; i += 1) {\n      point = transformers[i].mProps.v.applyToPointArray(point[0], point[1], 0);\n    }\n\n    return point;\n  };\n\n  HShapeElement.prototype.calculateShapeBoundingBox = function (item, boundingBox) {\n    var shape = item.sh.v;\n    var transformers = item.transformers;\n    var i;\n    var len = shape._length;\n    var vPoint;\n    var oPoint;\n    var nextIPoint;\n    var nextVPoint;\n\n    if (len <= 1) {\n      return;\n    }\n\n    for (i = 0; i < len - 1; i += 1) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[i + 1]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[i + 1]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n\n    if (shape.c) {\n      vPoint = this.getTransformedPoint(transformers, shape.v[i]);\n      oPoint = this.getTransformedPoint(transformers, shape.o[i]);\n      nextIPoint = this.getTransformedPoint(transformers, shape.i[0]);\n      nextVPoint = this.getTransformedPoint(transformers, shape.v[0]);\n      this.checkBounds(vPoint, oPoint, nextIPoint, nextVPoint, boundingBox);\n    }\n  };\n\n  HShapeElement.prototype.checkBounds = function (vPoint, oPoint, nextIPoint, nextVPoint, boundingBox) {\n    this.getBoundsOfCurve(vPoint, oPoint, nextIPoint, nextVPoint);\n    var bounds = this.shapeBoundingBox;\n    boundingBox.x = bmMin(bounds.left, boundingBox.x);\n    boundingBox.xMax = bmMax(bounds.right, boundingBox.xMax);\n    boundingBox.y = bmMin(bounds.top, boundingBox.y);\n    boundingBox.yMax = bmMax(bounds.bottom, boundingBox.yMax);\n  };\n\n  HShapeElement.prototype.shapeBoundingBox = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n  HShapeElement.prototype.tempBoundingBox = {\n    x: 0,\n    xMax: 0,\n    y: 0,\n    yMax: 0,\n    width: 0,\n    height: 0\n  };\n\n  HShapeElement.prototype.getBoundsOfCurve = function (p0, p1, p2, p3) {\n    var bounds = [[p0[0], p3[0]], [p0[1], p3[1]]];\n\n    for (var a, b, c, t, b2ac, t1, t2, i = 0; i < 2; ++i) {\n      // eslint-disable-line no-plusplus\n      b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];\n      a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];\n      c = 3 * p1[i] - 3 * p0[i];\n      b |= 0; // eslint-disable-line no-bitwise\n\n      a |= 0; // eslint-disable-line no-bitwise\n\n      c |= 0; // eslint-disable-line no-bitwise\n\n      if (a === 0 && b === 0) {//\n      } else if (a === 0) {\n        t = -c / b;\n\n        if (t > 0 && t < 1) {\n          bounds[i].push(this.calculateF(t, p0, p1, p2, p3, i));\n        }\n      } else {\n        b2ac = b * b - 4 * c * a;\n\n        if (b2ac >= 0) {\n          t1 = (-b + bmSqrt(b2ac)) / (2 * a);\n          if (t1 > 0 && t1 < 1) bounds[i].push(this.calculateF(t1, p0, p1, p2, p3, i));\n          t2 = (-b - bmSqrt(b2ac)) / (2 * a);\n          if (t2 > 0 && t2 < 1) bounds[i].push(this.calculateF(t2, p0, p1, p2, p3, i));\n        }\n      }\n    }\n\n    this.shapeBoundingBox.left = bmMin.apply(null, bounds[0]);\n    this.shapeBoundingBox.top = bmMin.apply(null, bounds[1]);\n    this.shapeBoundingBox.right = bmMax.apply(null, bounds[0]);\n    this.shapeBoundingBox.bottom = bmMax.apply(null, bounds[1]);\n  };\n\n  HShapeElement.prototype.calculateF = function (t, p0, p1, p2, p3, i) {\n    return bmPow(1 - t, 3) * p0[i] + 3 * bmPow(1 - t, 2) * t * p1[i] + 3 * (1 - t) * bmPow(t, 2) * p2[i] + bmPow(t, 3) * p3[i];\n  };\n\n  HShapeElement.prototype.calculateBoundingBox = function (itemsData, boundingBox) {\n    var i;\n    var len = itemsData.length;\n\n    for (i = 0; i < len; i += 1) {\n      if (itemsData[i] && itemsData[i].sh) {\n        this.calculateShapeBoundingBox(itemsData[i], boundingBox);\n      } else if (itemsData[i] && itemsData[i].it) {\n        this.calculateBoundingBox(itemsData[i].it, boundingBox);\n      } else if (itemsData[i] && itemsData[i].style && itemsData[i].w) {\n        this.expandStrokeBoundingBox(itemsData[i].w, boundingBox);\n      }\n    }\n  };\n\n  HShapeElement.prototype.expandStrokeBoundingBox = function (widthProperty, boundingBox) {\n    var width = 0;\n\n    if (widthProperty.keyframes) {\n      for (var i = 0; i < widthProperty.keyframes.length; i += 1) {\n        var kfw = widthProperty.keyframes[i].s;\n\n        if (kfw > width) {\n          width = kfw;\n        }\n      }\n\n      width *= widthProperty.mult;\n    } else {\n      width = widthProperty.v * widthProperty.mult;\n    }\n\n    boundingBox.x -= width;\n    boundingBox.xMax += width;\n    boundingBox.y -= width;\n    boundingBox.yMax += width;\n  };\n\n  HShapeElement.prototype.currentBoxContains = function (box) {\n    return this.currentBBox.x <= box.x && this.currentBBox.y <= box.y && this.currentBBox.width + this.currentBBox.x >= box.x + box.width && this.currentBBox.height + this.currentBBox.y >= box.y + box.height;\n  };\n\n  HShapeElement.prototype.renderInnerContent = function () {\n    this._renderShapeFrame();\n\n    if (!this.hidden && (this._isFirstFrame || this._mdf)) {\n      var tempBoundingBox = this.tempBoundingBox;\n      var max = 999999;\n      tempBoundingBox.x = max;\n      tempBoundingBox.xMax = -max;\n      tempBoundingBox.y = max;\n      tempBoundingBox.yMax = -max;\n      this.calculateBoundingBox(this.itemsData, tempBoundingBox);\n      tempBoundingBox.width = tempBoundingBox.xMax < tempBoundingBox.x ? 0 : tempBoundingBox.xMax - tempBoundingBox.x;\n      tempBoundingBox.height = tempBoundingBox.yMax < tempBoundingBox.y ? 0 : tempBoundingBox.yMax - tempBoundingBox.y; // var tempBoundingBox = this.shapeCont.getBBox();\n\n      if (this.currentBoxContains(tempBoundingBox)) {\n        return;\n      }\n\n      var changed = false;\n\n      if (this.currentBBox.w !== tempBoundingBox.width) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.shapeCont.setAttribute('width', tempBoundingBox.width);\n        changed = true;\n      }\n\n      if (this.currentBBox.h !== tempBoundingBox.height) {\n        this.currentBBox.h = tempBoundingBox.height;\n        this.shapeCont.setAttribute('height', tempBoundingBox.height);\n        changed = true;\n      }\n\n      if (changed || this.currentBBox.x !== tempBoundingBox.x || this.currentBBox.y !== tempBoundingBox.y) {\n        this.currentBBox.w = tempBoundingBox.width;\n        this.currentBBox.h = tempBoundingBox.height;\n        this.currentBBox.x = tempBoundingBox.x;\n        this.currentBBox.y = tempBoundingBox.y;\n        this.shapeCont.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        var shapeStyle = this.shapeCont.style;\n        var shapeTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        shapeStyle.transform = shapeTransform;\n        shapeStyle.webkitTransform = shapeTransform;\n      }\n    }\n  };\n\n  function HTextElement(data, globalData, comp) {\n    this.textSpans = [];\n    this.textPaths = [];\n    this.currentBBox = {\n      x: 999999,\n      y: -999999,\n      h: 0,\n      w: 0\n    };\n    this.renderType = 'svg';\n    this.isMasked = false;\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], HTextElement);\n\n  HTextElement.prototype.createContent = function () {\n    this.isMasked = this.checkMasks();\n\n    if (this.isMasked) {\n      this.renderType = 'svg';\n      this.compW = this.comp.data.w;\n      this.compH = this.comp.data.h;\n      this.svgElement.setAttribute('width', this.compW);\n      this.svgElement.setAttribute('height', this.compH);\n      var g = createNS('g');\n      this.maskedElement.appendChild(g);\n      this.innerElem = g;\n    } else {\n      this.renderType = 'html';\n      this.innerElem = this.layerElement;\n    }\n\n    this.checkParenting();\n  };\n\n  HTextElement.prototype.buildNewText = function () {\n    var documentData = this.textProperty.currentData;\n    this.renderedLetters = createSizedArray(documentData.l ? documentData.l.length : 0);\n    var innerElemStyle = this.innerElem.style;\n    var textColor = documentData.fc ? this.buildColor(documentData.fc) : 'rgba(0,0,0,0)';\n    innerElemStyle.fill = textColor;\n    innerElemStyle.color = textColor;\n\n    if (documentData.sc) {\n      innerElemStyle.stroke = this.buildColor(documentData.sc);\n      innerElemStyle.strokeWidth = documentData.sw + 'px';\n    }\n\n    var fontData = this.globalData.fontManager.getFontByName(documentData.f);\n\n    if (!this.globalData.fontManager.chars) {\n      innerElemStyle.fontSize = documentData.finalSize + 'px';\n      innerElemStyle.lineHeight = documentData.finalSize + 'px';\n\n      if (fontData.fClass) {\n        this.innerElem.className = fontData.fClass;\n      } else {\n        innerElemStyle.fontFamily = fontData.fFamily;\n        var fWeight = documentData.fWeight;\n        var fStyle = documentData.fStyle;\n        innerElemStyle.fontStyle = fStyle;\n        innerElemStyle.fontWeight = fWeight;\n      }\n    }\n\n    var i;\n    var len;\n    var letters = documentData.l;\n    len = letters.length;\n    var tSpan;\n    var tParent;\n    var tCont;\n    var matrixHelper = this.mHelper;\n    var shapes;\n    var shapeStr = '';\n    var cnt = 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.globalData.fontManager.chars) {\n        if (!this.textPaths[cnt]) {\n          tSpan = createNS('path');\n          tSpan.setAttribute('stroke-linecap', lineCapEnum[1]);\n          tSpan.setAttribute('stroke-linejoin', lineJoinEnum[2]);\n          tSpan.setAttribute('stroke-miterlimit', '4');\n        } else {\n          tSpan = this.textPaths[cnt];\n        }\n\n        if (!this.isMasked) {\n          if (this.textSpans[cnt]) {\n            tParent = this.textSpans[cnt];\n            tCont = tParent.children[0];\n          } else {\n            tParent = createTag('div');\n            tParent.style.lineHeight = 0;\n            tCont = createNS('svg');\n            tCont.appendChild(tSpan);\n            styleDiv(tParent);\n          }\n        }\n      } else if (!this.isMasked) {\n        if (this.textSpans[cnt]) {\n          tParent = this.textSpans[cnt];\n          tSpan = this.textPaths[cnt];\n        } else {\n          tParent = createTag('span');\n          styleDiv(tParent);\n          tSpan = createTag('span');\n          styleDiv(tSpan);\n          tParent.appendChild(tSpan);\n        }\n      } else {\n        tSpan = this.textPaths[cnt] ? this.textPaths[cnt] : createNS('text');\n      } // tSpan.setAttribute('visibility', 'hidden');\n\n\n      if (this.globalData.fontManager.chars) {\n        var charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\n        var shapeData;\n\n        if (charData) {\n          shapeData = charData.data;\n        } else {\n          shapeData = null;\n        }\n\n        matrixHelper.reset();\n\n        if (shapeData && shapeData.shapes && shapeData.shapes.length) {\n          shapes = shapeData.shapes[0].it;\n          matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\n          shapeStr = this.createPathShape(matrixHelper, shapes);\n          tSpan.setAttribute('d', shapeStr);\n        }\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent);\n\n          if (shapeData && shapeData.shapes) {\n            // document.body.appendChild is needed to get exact measure of shape\n            document.body.appendChild(tCont);\n            var boundingBox = tCont.getBBox();\n            tCont.setAttribute('width', boundingBox.width + 2);\n            tCont.setAttribute('height', boundingBox.height + 2);\n            tCont.setAttribute('viewBox', boundingBox.x - 1 + ' ' + (boundingBox.y - 1) + ' ' + (boundingBox.width + 2) + ' ' + (boundingBox.height + 2));\n            var tContStyle = tCont.style;\n            var tContTranslation = 'translate(' + (boundingBox.x - 1) + 'px,' + (boundingBox.y - 1) + 'px)';\n            tContStyle.transform = tContTranslation;\n            tContStyle.webkitTransform = tContTranslation;\n            letters[i].yOffset = boundingBox.y - 1;\n          } else {\n            tCont.setAttribute('width', 1);\n            tCont.setAttribute('height', 1);\n          }\n\n          tParent.appendChild(tCont);\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } else {\n        tSpan.textContent = letters[i].val;\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\n\n        if (!this.isMasked) {\n          this.innerElem.appendChild(tParent); //\n\n          var tStyle = tSpan.style;\n          var tSpanTranslation = 'translate3d(0,' + -documentData.finalSize / 1.2 + 'px,0)';\n          tStyle.transform = tSpanTranslation;\n          tStyle.webkitTransform = tSpanTranslation;\n        } else {\n          this.innerElem.appendChild(tSpan);\n        }\n      } //\n\n\n      if (!this.isMasked) {\n        this.textSpans[cnt] = tParent;\n      } else {\n        this.textSpans[cnt] = tSpan;\n      }\n\n      this.textSpans[cnt].style.display = 'block';\n      this.textPaths[cnt] = tSpan;\n      cnt += 1;\n    }\n\n    while (cnt < this.textSpans.length) {\n      this.textSpans[cnt].style.display = 'none';\n      cnt += 1;\n    }\n  };\n\n  HTextElement.prototype.renderInnerContent = function () {\n    this.validateText();\n    var svgStyle;\n\n    if (this.data.singleShape) {\n      if (!this._isFirstFrame && !this.lettersChangedFlag) {\n        return;\n      }\n\n      if (this.isMasked && this.finalTransform._matMdf) {\n        // Todo Benchmark if using this is better than getBBox\n        this.svgElement.setAttribute('viewBox', -this.finalTransform.mProp.p.v[0] + ' ' + -this.finalTransform.mProp.p.v[1] + ' ' + this.compW + ' ' + this.compH);\n        svgStyle = this.svgElement.style;\n        var translation = 'translate(' + -this.finalTransform.mProp.p.v[0] + 'px,' + -this.finalTransform.mProp.p.v[1] + 'px)';\n        svgStyle.transform = translation;\n        svgStyle.webkitTransform = translation;\n      }\n    }\n\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\n\n    if (!this.lettersChangedFlag && !this.textAnimator.lettersChangedFlag) {\n      return;\n    }\n\n    var i;\n    var len;\n    var count = 0;\n    var renderedLetters = this.textAnimator.renderedLetters;\n    var letters = this.textProperty.currentData.l;\n    len = letters.length;\n    var renderedLetter;\n    var textSpan;\n    var textPath;\n\n    for (i = 0; i < len; i += 1) {\n      if (letters[i].n) {\n        count += 1;\n      } else {\n        textSpan = this.textSpans[i];\n        textPath = this.textPaths[i];\n        renderedLetter = renderedLetters[count];\n        count += 1;\n\n        if (renderedLetter._mdf.m) {\n          if (!this.isMasked) {\n            textSpan.style.webkitTransform = renderedLetter.m;\n            textSpan.style.transform = renderedLetter.m;\n          } else {\n            textSpan.setAttribute('transform', renderedLetter.m);\n          }\n        } /// /textSpan.setAttribute('opacity',renderedLetter.o);\n\n\n        textSpan.style.opacity = renderedLetter.o;\n\n        if (renderedLetter.sw && renderedLetter._mdf.sw) {\n          textPath.setAttribute('stroke-width', renderedLetter.sw);\n        }\n\n        if (renderedLetter.sc && renderedLetter._mdf.sc) {\n          textPath.setAttribute('stroke', renderedLetter.sc);\n        }\n\n        if (renderedLetter.fc && renderedLetter._mdf.fc) {\n          textPath.setAttribute('fill', renderedLetter.fc);\n          textPath.style.color = renderedLetter.fc;\n        }\n      }\n    }\n\n    if (this.innerElem.getBBox && !this.hidden && (this._isFirstFrame || this._mdf)) {\n      var boundingBox = this.innerElem.getBBox();\n\n      if (this.currentBBox.w !== boundingBox.width) {\n        this.currentBBox.w = boundingBox.width;\n        this.svgElement.setAttribute('width', boundingBox.width);\n      }\n\n      if (this.currentBBox.h !== boundingBox.height) {\n        this.currentBBox.h = boundingBox.height;\n        this.svgElement.setAttribute('height', boundingBox.height);\n      }\n\n      var margin = 1;\n\n      if (this.currentBBox.w !== boundingBox.width + margin * 2 || this.currentBBox.h !== boundingBox.height + margin * 2 || this.currentBBox.x !== boundingBox.x - margin || this.currentBBox.y !== boundingBox.y - margin) {\n        this.currentBBox.w = boundingBox.width + margin * 2;\n        this.currentBBox.h = boundingBox.height + margin * 2;\n        this.currentBBox.x = boundingBox.x - margin;\n        this.currentBBox.y = boundingBox.y - margin;\n        this.svgElement.setAttribute('viewBox', this.currentBBox.x + ' ' + this.currentBBox.y + ' ' + this.currentBBox.w + ' ' + this.currentBBox.h);\n        svgStyle = this.svgElement.style;\n        var svgTransform = 'translate(' + this.currentBBox.x + 'px,' + this.currentBBox.y + 'px)';\n        svgStyle.transform = svgTransform;\n        svgStyle.webkitTransform = svgTransform;\n      }\n    }\n  };\n\n  function HCameraElement(data, globalData, comp) {\n    this.initFrame();\n    this.initBaseData(data, globalData, comp);\n    this.initHierarchy();\n    var getProp = PropertyFactory.getProp;\n    this.pe = getProp(this, data.pe, 0, 0, this);\n\n    if (data.ks.p.s) {\n      this.px = getProp(this, data.ks.p.x, 1, 0, this);\n      this.py = getProp(this, data.ks.p.y, 1, 0, this);\n      this.pz = getProp(this, data.ks.p.z, 1, 0, this);\n    } else {\n      this.p = getProp(this, data.ks.p, 1, 0, this);\n    }\n\n    if (data.ks.a) {\n      this.a = getProp(this, data.ks.a, 1, 0, this);\n    }\n\n    if (data.ks.or.k.length && data.ks.or.k[0].to) {\n      var i;\n      var len = data.ks.or.k.length;\n\n      for (i = 0; i < len; i += 1) {\n        data.ks.or.k[i].to = null;\n        data.ks.or.k[i].ti = null;\n      }\n    }\n\n    this.or = getProp(this, data.ks.or, 1, degToRads, this);\n    this.or.sh = true;\n    this.rx = getProp(this, data.ks.rx, 0, degToRads, this);\n    this.ry = getProp(this, data.ks.ry, 0, degToRads, this);\n    this.rz = getProp(this, data.ks.rz, 0, degToRads, this);\n    this.mat = new Matrix();\n    this._prevMat = new Matrix();\n    this._isFirstFrame = true; // TODO: find a better way to make the HCamera element to be compatible with the LayerInterface and TransformInterface.\n\n    this.finalTransform = {\n      mProp: this\n    };\n  }\n\n  extendPrototype([BaseElement, FrameElement, HierarchyElement], HCameraElement);\n\n  HCameraElement.prototype.setup = function () {\n    var i;\n    var len = this.comp.threeDElements.length;\n    var comp;\n    var perspectiveStyle;\n    var containerStyle;\n\n    for (i = 0; i < len; i += 1) {\n      // [perspectiveElem,container]\n      comp = this.comp.threeDElements[i];\n\n      if (comp.type === '3d') {\n        perspectiveStyle = comp.perspectiveElem.style;\n        containerStyle = comp.container.style;\n        var perspective = this.pe.v + 'px';\n        var origin = '0px 0px 0px';\n        var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n        perspectiveStyle.perspective = perspective;\n        perspectiveStyle.webkitPerspective = perspective;\n        containerStyle.transformOrigin = origin;\n        containerStyle.mozTransformOrigin = origin;\n        containerStyle.webkitTransformOrigin = origin;\n        perspectiveStyle.transform = matrix;\n        perspectiveStyle.webkitTransform = matrix;\n      }\n    }\n  };\n\n  HCameraElement.prototype.createElements = function () {};\n\n  HCameraElement.prototype.hide = function () {};\n\n  HCameraElement.prototype.renderFrame = function () {\n    var _mdf = this._isFirstFrame;\n    var i;\n    var len;\n\n    if (this.hierarchy) {\n      len = this.hierarchy.length;\n\n      for (i = 0; i < len; i += 1) {\n        _mdf = this.hierarchy[i].finalTransform.mProp._mdf || _mdf;\n      }\n    }\n\n    if (_mdf || this.pe._mdf || this.p && this.p._mdf || this.px && (this.px._mdf || this.py._mdf || this.pz._mdf) || this.rx._mdf || this.ry._mdf || this.rz._mdf || this.or._mdf || this.a && this.a._mdf) {\n      this.mat.reset();\n\n      if (this.hierarchy) {\n        len = this.hierarchy.length - 1;\n\n        for (i = len; i >= 0; i -= 1) {\n          var mTransf = this.hierarchy[i].finalTransform.mProp;\n          this.mat.translate(-mTransf.p.v[0], -mTransf.p.v[1], mTransf.p.v[2]);\n          this.mat.rotateX(-mTransf.or.v[0]).rotateY(-mTransf.or.v[1]).rotateZ(mTransf.or.v[2]);\n          this.mat.rotateX(-mTransf.rx.v).rotateY(-mTransf.ry.v).rotateZ(mTransf.rz.v);\n          this.mat.scale(1 / mTransf.s.v[0], 1 / mTransf.s.v[1], 1 / mTransf.s.v[2]);\n          this.mat.translate(mTransf.a.v[0], mTransf.a.v[1], mTransf.a.v[2]);\n        }\n      }\n\n      if (this.p) {\n        this.mat.translate(-this.p.v[0], -this.p.v[1], this.p.v[2]);\n      } else {\n        this.mat.translate(-this.px.v, -this.py.v, this.pz.v);\n      }\n\n      if (this.a) {\n        var diffVector;\n\n        if (this.p) {\n          diffVector = [this.p.v[0] - this.a.v[0], this.p.v[1] - this.a.v[1], this.p.v[2] - this.a.v[2]];\n        } else {\n          diffVector = [this.px.v - this.a.v[0], this.py.v - this.a.v[1], this.pz.v - this.a.v[2]];\n        }\n\n        var mag = Math.sqrt(Math.pow(diffVector[0], 2) + Math.pow(diffVector[1], 2) + Math.pow(diffVector[2], 2)); // var lookDir = getNormalizedPoint(getDiffVector(this.a.v,this.p.v));\n\n        var lookDir = [diffVector[0] / mag, diffVector[1] / mag, diffVector[2] / mag];\n        var lookLengthOnXZ = Math.sqrt(lookDir[2] * lookDir[2] + lookDir[0] * lookDir[0]);\n        var mRotationX = Math.atan2(lookDir[1], lookLengthOnXZ);\n        var mRotationY = Math.atan2(lookDir[0], -lookDir[2]);\n        this.mat.rotateY(mRotationY).rotateX(-mRotationX);\n      }\n\n      this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v);\n      this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]);\n      this.mat.translate(this.globalData.compSize.w / 2, this.globalData.compSize.h / 2, 0);\n      this.mat.translate(0, 0, this.pe.v);\n      var hasMatrixChanged = !this._prevMat.equals(this.mat);\n\n      if ((hasMatrixChanged || this.pe._mdf) && this.comp.threeDElements) {\n        len = this.comp.threeDElements.length;\n        var comp;\n        var perspectiveStyle;\n        var containerStyle;\n\n        for (i = 0; i < len; i += 1) {\n          comp = this.comp.threeDElements[i];\n\n          if (comp.type === '3d') {\n            if (hasMatrixChanged) {\n              var matValue = this.mat.toCSS();\n              containerStyle = comp.container.style;\n              containerStyle.transform = matValue;\n              containerStyle.webkitTransform = matValue;\n            }\n\n            if (this.pe._mdf) {\n              perspectiveStyle = comp.perspectiveElem.style;\n              perspectiveStyle.perspective = this.pe.v + 'px';\n              perspectiveStyle.webkitPerspective = this.pe.v + 'px';\n            }\n          }\n        }\n\n        this.mat.clone(this._prevMat);\n      }\n    }\n\n    this._isFirstFrame = false;\n  };\n\n  HCameraElement.prototype.prepareFrame = function (num) {\n    this.prepareProperties(num, true);\n  };\n\n  HCameraElement.prototype.destroy = function () {};\n\n  HCameraElement.prototype.getBaseElement = function () {\n    return null;\n  };\n\n  function HImageElement(data, globalData, comp) {\n    this.assetData = globalData.getAssetData(data.refId);\n    this.initElement(data, globalData, comp);\n  }\n\n  extendPrototype([BaseElement, TransformElement, HBaseElement, HSolidElement, HierarchyElement, FrameElement, RenderableElement], HImageElement);\n\n  HImageElement.prototype.createContent = function () {\n    var assetPath = this.globalData.getAssetsPath(this.assetData);\n    var img = new Image();\n\n    if (this.data.hasMask) {\n      this.imageElem = createNS('image');\n      this.imageElem.setAttribute('width', this.assetData.w + 'px');\n      this.imageElem.setAttribute('height', this.assetData.h + 'px');\n      this.imageElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\n      this.layerElement.appendChild(this.imageElem);\n      this.baseElement.setAttribute('width', this.assetData.w);\n      this.baseElement.setAttribute('height', this.assetData.h);\n    } else {\n      this.layerElement.appendChild(img);\n    }\n\n    img.crossOrigin = 'anonymous';\n    img.src = assetPath;\n\n    if (this.data.ln) {\n      this.baseElement.setAttribute('id', this.data.ln);\n    }\n  };\n\n  function HybridRendererBase(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      }\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([BaseRenderer], HybridRendererBase);\n  HybridRendererBase.prototype.buildItem = SVGRenderer.prototype.buildItem;\n\n  HybridRendererBase.prototype.checkPendingElements = function () {\n    while (this.pendingElements.length) {\n      var element = this.pendingElements.pop();\n      element.checkParenting();\n    }\n  };\n\n  HybridRendererBase.prototype.appendElementInPos = function (element, pos) {\n    var newDOMElement = element.getBaseElement();\n\n    if (!newDOMElement) {\n      return;\n    }\n\n    var layer = this.layers[pos];\n\n    if (!layer.ddd || !this.supports3d) {\n      if (this.threeDElements) {\n        this.addTo3dContainer(newDOMElement, pos);\n      } else {\n        var i = 0;\n        var nextDOMElement;\n        var nextLayer;\n        var tmpDOMElement;\n\n        while (i < pos) {\n          if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement) {\n            nextLayer = this.elements[i];\n            tmpDOMElement = this.layers[i].ddd ? this.getThreeDContainerByPos(i) : nextLayer.getBaseElement();\n            nextDOMElement = tmpDOMElement || nextDOMElement;\n          }\n\n          i += 1;\n        }\n\n        if (nextDOMElement) {\n          if (!layer.ddd || !this.supports3d) {\n            this.layerElement.insertBefore(newDOMElement, nextDOMElement);\n          }\n        } else if (!layer.ddd || !this.supports3d) {\n          this.layerElement.appendChild(newDOMElement);\n        }\n      }\n    } else {\n      this.addTo3dContainer(newDOMElement, pos);\n    }\n  };\n\n  HybridRendererBase.prototype.createShape = function (data) {\n    if (!this.supports3d) {\n      return new SVGShapeElement(data, this.globalData, this);\n    }\n\n    return new HShapeElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createText = function (data) {\n    if (!this.supports3d) {\n      return new SVGTextLottieElement(data, this.globalData, this);\n    }\n\n    return new HTextElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createCamera = function (data) {\n    this.camera = new HCameraElement(data, this.globalData, this);\n    return this.camera;\n  };\n\n  HybridRendererBase.prototype.createImage = function (data) {\n    if (!this.supports3d) {\n      return new IImageElement(data, this.globalData, this);\n    }\n\n    return new HImageElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createSolid = function (data) {\n    if (!this.supports3d) {\n      return new ISolidElement(data, this.globalData, this);\n    }\n\n    return new HSolidElement(data, this.globalData, this);\n  };\n\n  HybridRendererBase.prototype.createNull = SVGRenderer.prototype.createNull;\n\n  HybridRendererBase.prototype.getThreeDContainerByPos = function (pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (this.threeDElements[i].startPos <= pos && this.threeDElements[i].endPos >= pos) {\n        return this.threeDElements[i].perspectiveElem;\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  HybridRendererBase.prototype.createThreeDContainer = function (pos, type) {\n    var perspectiveElem = createTag('div');\n    var style;\n    var containerStyle;\n    styleDiv(perspectiveElem);\n    var container = createTag('div');\n    styleDiv(container);\n\n    if (type === '3d') {\n      style = perspectiveElem.style;\n      style.width = this.globalData.compSize.w + 'px';\n      style.height = this.globalData.compSize.h + 'px';\n      var center = '50% 50%';\n      style.webkitTransformOrigin = center;\n      style.mozTransformOrigin = center;\n      style.transformOrigin = center;\n      containerStyle = container.style;\n      var matrix = 'matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)';\n      containerStyle.transform = matrix;\n      containerStyle.webkitTransform = matrix;\n    }\n\n    perspectiveElem.appendChild(container); // this.resizerElem.appendChild(perspectiveElem);\n\n    var threeDContainerData = {\n      container: container,\n      perspectiveElem: perspectiveElem,\n      startPos: pos,\n      endPos: pos,\n      type: type\n    };\n    this.threeDElements.push(threeDContainerData);\n    return threeDContainerData;\n  };\n\n  HybridRendererBase.prototype.build3dContainers = function () {\n    var i;\n    var len = this.layers.length;\n    var lastThreeDContainerData;\n    var currentContainer = '';\n\n    for (i = 0; i < len; i += 1) {\n      if (this.layers[i].ddd && this.layers[i].ty !== 3) {\n        if (currentContainer !== '3d') {\n          currentContainer = '3d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '3d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      } else {\n        if (currentContainer !== '2d') {\n          currentContainer = '2d';\n          lastThreeDContainerData = this.createThreeDContainer(i, '2d');\n        }\n\n        lastThreeDContainerData.endPos = Math.max(lastThreeDContainerData.endPos, i);\n      }\n    }\n\n    len = this.threeDElements.length;\n\n    for (i = len - 1; i >= 0; i -= 1) {\n      this.resizerElem.appendChild(this.threeDElements[i].perspectiveElem);\n    }\n  };\n\n  HybridRendererBase.prototype.addTo3dContainer = function (elem, pos) {\n    var i = 0;\n    var len = this.threeDElements.length;\n\n    while (i < len) {\n      if (pos <= this.threeDElements[i].endPos) {\n        var j = this.threeDElements[i].startPos;\n        var nextElement;\n\n        while (j < pos) {\n          if (this.elements[j] && this.elements[j].getBaseElement) {\n            nextElement = this.elements[j].getBaseElement();\n          }\n\n          j += 1;\n        }\n\n        if (nextElement) {\n          this.threeDElements[i].container.insertBefore(elem, nextElement);\n        } else {\n          this.threeDElements[i].container.appendChild(elem);\n        }\n\n        break;\n      }\n\n      i += 1;\n    }\n  };\n\n  HybridRendererBase.prototype.configAnimation = function (animData) {\n    var resizerElem = createTag('div');\n    var wrapper = this.animationItem.wrapper;\n    var style = resizerElem.style;\n    style.width = animData.w + 'px';\n    style.height = animData.h + 'px';\n    this.resizerElem = resizerElem;\n    styleDiv(resizerElem);\n    style.transformStyle = 'flat';\n    style.mozTransformStyle = 'flat';\n    style.webkitTransformStyle = 'flat';\n\n    if (this.renderConfig.className) {\n      resizerElem.setAttribute('class', this.renderConfig.className);\n    }\n\n    wrapper.appendChild(resizerElem);\n    style.overflow = 'hidden';\n    var svg = createNS('svg');\n    svg.setAttribute('width', '1');\n    svg.setAttribute('height', '1');\n    styleDiv(svg);\n    this.resizerElem.appendChild(svg);\n    var defs = createNS('defs');\n    svg.appendChild(defs);\n    this.data = animData; // Mask animation\n\n    this.setupGlobalData(animData, svg);\n    this.globalData.defs = defs;\n    this.layers = animData.layers;\n    this.layerElement = this.resizerElem;\n    this.build3dContainers();\n    this.updateContainerSize();\n  };\n\n  HybridRendererBase.prototype.destroy = function () {\n    if (this.animationItem.wrapper) {\n      this.animationItem.wrapper.innerText = '';\n    }\n\n    this.animationItem.container = null;\n    this.globalData.defs = null;\n    var i;\n    var len = this.layers ? this.layers.length : 0;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.elements[i] && this.elements[i].destroy) {\n        this.elements[i].destroy();\n      }\n    }\n\n    this.elements.length = 0;\n    this.destroyed = true;\n    this.animationItem = null;\n  };\n\n  HybridRendererBase.prototype.updateContainerSize = function () {\n    var elementWidth = this.animationItem.wrapper.offsetWidth;\n    var elementHeight = this.animationItem.wrapper.offsetHeight;\n    var elementRel = elementWidth / elementHeight;\n    var animationRel = this.globalData.compSize.w / this.globalData.compSize.h;\n    var sx;\n    var sy;\n    var tx;\n    var ty;\n\n    if (animationRel > elementRel) {\n      sx = elementWidth / this.globalData.compSize.w;\n      sy = elementWidth / this.globalData.compSize.w;\n      tx = 0;\n      ty = (elementHeight - this.globalData.compSize.h * (elementWidth / this.globalData.compSize.w)) / 2;\n    } else {\n      sx = elementHeight / this.globalData.compSize.h;\n      sy = elementHeight / this.globalData.compSize.h;\n      tx = (elementWidth - this.globalData.compSize.w * (elementHeight / this.globalData.compSize.h)) / 2;\n      ty = 0;\n    }\n\n    var style = this.resizerElem.style;\n    style.webkitTransform = 'matrix3d(' + sx + ',0,0,0,0,' + sy + ',0,0,0,0,1,0,' + tx + ',' + ty + ',0,1)';\n    style.transform = style.webkitTransform;\n  };\n\n  HybridRendererBase.prototype.renderFrame = SVGRenderer.prototype.renderFrame;\n\n  HybridRendererBase.prototype.hide = function () {\n    this.resizerElem.style.display = 'none';\n  };\n\n  HybridRendererBase.prototype.show = function () {\n    this.resizerElem.style.display = 'block';\n  };\n\n  HybridRendererBase.prototype.initItems = function () {\n    this.buildAllItems();\n\n    if (this.camera) {\n      this.camera.setup();\n    } else {\n      var cWidth = this.globalData.compSize.w;\n      var cHeight = this.globalData.compSize.h;\n      var i;\n      var len = this.threeDElements.length;\n\n      for (i = 0; i < len; i += 1) {\n        var style = this.threeDElements[i].perspectiveElem.style;\n        style.webkitPerspective = Math.sqrt(Math.pow(cWidth, 2) + Math.pow(cHeight, 2)) + 'px';\n        style.perspective = style.webkitPerspective;\n      }\n    }\n  };\n\n  HybridRendererBase.prototype.searchExtraCompositions = function (assets) {\n    var i;\n    var len = assets.length;\n    var floatingContainer = createTag('div');\n\n    for (i = 0; i < len; i += 1) {\n      if (assets[i].xt) {\n        var comp = this.createComp(assets[i], floatingContainer, this.globalData.comp, null);\n        comp.initExpressions();\n        this.globalData.projectInterface.registerComposition(comp);\n      }\n    }\n  };\n\n  function HCompElement(data, globalData, comp) {\n    this.layers = data.layers;\n    this.supports3d = !data.hasMask;\n    this.completeLayers = false;\n    this.pendingElements = [];\n    this.elements = this.layers ? createSizedArray(this.layers.length) : [];\n    this.initElement(data, globalData, comp);\n    this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : {\n      _placeholder: true\n    };\n  }\n\n  extendPrototype([HybridRendererBase, ICompElement, HBaseElement], HCompElement);\n  HCompElement.prototype._createBaseContainerElements = HCompElement.prototype.createContainerElements;\n\n  HCompElement.prototype.createContainerElements = function () {\n    this._createBaseContainerElements(); // divElement.style.clip = 'rect(0px, '+this.data.w+'px, '+this.data.h+'px, 0px)';\n\n\n    if (this.data.hasMask) {\n      this.svgElement.setAttribute('width', this.data.w);\n      this.svgElement.setAttribute('height', this.data.h);\n      this.transformedElement = this.baseElement;\n    } else {\n      this.transformedElement = this.layerElement;\n    }\n  };\n\n  HCompElement.prototype.addTo3dContainer = function (elem, pos) {\n    var j = 0;\n    var nextElement;\n\n    while (j < pos) {\n      if (this.elements[j] && this.elements[j].getBaseElement) {\n        nextElement = this.elements[j].getBaseElement();\n      }\n\n      j += 1;\n    }\n\n    if (nextElement) {\n      this.layerElement.insertBefore(elem, nextElement);\n    } else {\n      this.layerElement.appendChild(elem);\n    }\n  };\n\n  HCompElement.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  function HybridRenderer(animationItem, config) {\n    this.animationItem = animationItem;\n    this.layers = null;\n    this.renderedFrame = -1;\n    this.renderConfig = {\n      className: config && config.className || '',\n      imagePreserveAspectRatio: config && config.imagePreserveAspectRatio || 'xMidYMid slice',\n      hideOnTransparent: !(config && config.hideOnTransparent === false),\n      filterSize: {\n        width: config && config.filterSize && config.filterSize.width || '400%',\n        height: config && config.filterSize && config.filterSize.height || '400%',\n        x: config && config.filterSize && config.filterSize.x || '-100%',\n        y: config && config.filterSize && config.filterSize.y || '-100%'\n      },\n      runExpressions: !config || config.runExpressions === undefined || config.runExpressions\n    };\n    this.globalData = {\n      _mdf: false,\n      frameNum: -1,\n      renderConfig: this.renderConfig\n    };\n    this.pendingElements = [];\n    this.elements = [];\n    this.threeDElements = [];\n    this.destroyed = false;\n    this.camera = null;\n    this.supports3d = true;\n    this.rendererType = 'html';\n  }\n\n  extendPrototype([HybridRendererBase], HybridRenderer);\n\n  HybridRenderer.prototype.createComp = function (data) {\n    if (!this.supports3d) {\n      return new SVGCompElement(data, this.globalData, this);\n    }\n\n    return new HCompElement(data, this.globalData, this);\n  };\n\n  var CompExpressionInterface = function () {\n    return function (comp) {\n      function _thisLayerFunction(name) {\n        var i = 0;\n        var len = comp.layers.length;\n\n        while (i < len) {\n          if (comp.layers[i].nm === name || comp.layers[i].ind === name) {\n            return comp.elements[i].layerInterface;\n          }\n\n          i += 1;\n        }\n\n        return null; // return {active:false};\n      }\n\n      Object.defineProperty(_thisLayerFunction, '_name', {\n        value: comp.data.nm\n      });\n      _thisLayerFunction.layer = _thisLayerFunction;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.height = comp.data.h || comp.globalData.compSize.h;\n      _thisLayerFunction.width = comp.data.w || comp.globalData.compSize.w;\n      _thisLayerFunction.pixelAspect = 1;\n      _thisLayerFunction.frameDuration = 1 / comp.globalData.frameRate;\n      _thisLayerFunction.displayStartTime = 0;\n      _thisLayerFunction.numLayers = comp.layers.length;\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof$2(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$2 = function _typeof(obj) { return typeof obj; }; } else { _typeof$2 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$2(obj); }\n\n  /* eslint-disable */\n\n  /*\r\n   Copyright 2014 David Bau.\r\n\r\n   Permission is hereby granted, free of charge, to any person obtaining\r\n   a copy of this software and associated documentation files (the\r\n   \"Software\"), to deal in the Software without restriction, including\r\n   without limitation the rights to use, copy, modify, merge, publish,\r\n   distribute, sublicense, and/or sell copies of the Software, and to\r\n   permit persons to whom the Software is furnished to do so, subject to\r\n   the following conditions:\r\n\r\n   The above copyright notice and this permission notice shall be\r\n   included in all copies or substantial portions of the Software.\r\n\r\n   THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n   EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n   MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n   IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n   CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n   TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n   SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n   */\n  function seedRandom(pool, math) {\n    //\n    // The following constants are related to IEEE 754 limits.\n    //\n    var global = this,\n        width = 256,\n        // each RC4 output is 0 <= x < 256\n    chunks = 6,\n        // at least six RC4 outputs for each double\n    digits = 52,\n        // there are 52 significant digits in a double\n    rngname = 'random',\n        // rngname: name for Math.random and Math.seedrandom\n    startdenom = math.pow(width, chunks),\n        significance = math.pow(2, digits),\n        overflow = significance * 2,\n        mask = width - 1,\n        nodecrypto; // node.js crypto module, initialized at the bottom.\n    //\n    // seedrandom()\n    // This is the seedrandom function described above.\n    //\n\n    function seedrandom(seed, options, callback) {\n      var key = [];\n      options = options === true ? {\n        entropy: true\n      } : options || {}; // Flatten the seed string or build one from local entropy if needed.\n\n      var shortseed = mixkey(flatten(options.entropy ? [seed, tostring(pool)] : seed === null ? autoseed() : seed, 3), key); // Use the seed to initialize an ARC4 generator.\n\n      var arc4 = new ARC4(key); // This function returns a random double in [0, 1) that contains\n      // randomness in every bit of the mantissa of the IEEE 754 value.\n\n      var prng = function prng() {\n        var n = arc4.g(chunks),\n            // Start with a numerator n < 2 ^ 48\n        d = startdenom,\n            //   and denominator d = 2 ^ 48.\n        x = 0; //   and no 'extra last byte'.\n\n        while (n < significance) {\n          // Fill up all significant digits by\n          n = (n + x) * width; //   shifting numerator and\n\n          d *= width; //   denominator and generating a\n\n          x = arc4.g(1); //   new least-significant-byte.\n        }\n\n        while (n >= overflow) {\n          // To avoid rounding up, before adding\n          n /= 2; //   last byte, shift everything\n\n          d /= 2; //   right using integer math until\n\n          x >>>= 1; //   we have exactly the desired bits.\n        }\n\n        return (n + x) / d; // Form the number within [0, 1).\n      };\n\n      prng.int32 = function () {\n        return arc4.g(4) | 0;\n      };\n\n      prng.quick = function () {\n        return arc4.g(4) / 0x100000000;\n      };\n\n      prng[\"double\"] = prng; // Mix the randomness into accumulated entropy.\n\n      mixkey(tostring(arc4.S), pool); // Calling convention: what to return as a function of prng, seed, is_math.\n\n      return (options.pass || callback || function (prng, seed, is_math_call, state) {\n        if (state) {\n          // Load the arc4 state from the given state if it has an S array.\n          if (state.S) {\n            copy(state, arc4);\n          } // Only provide the .state method if requested via options.state.\n\n\n          prng.state = function () {\n            return copy(arc4, {});\n          };\n        } // If called as a method of Math (Math.seedrandom()), mutate\n        // Math.random because that is how seedrandom.js has worked since v1.0.\n\n\n        if (is_math_call) {\n          math[rngname] = prng;\n          return seed;\n        } // Otherwise, it is a newer calling convention, so return the\n        // prng directly.\n        else return prng;\n      })(prng, shortseed, 'global' in options ? options.global : this == math, options.state);\n    }\n\n    math['seed' + rngname] = seedrandom; //\n    // ARC4\n    //\n    // An ARC4 implementation.  The constructor takes a key in the form of\n    // an array of at most (width) integers that should be 0 <= x < (width).\n    //\n    // The g(count) method returns a pseudorandom integer that concatenates\n    // the next (count) outputs from ARC4.  Its return value is a number x\n    // that is in the range 0 <= x < (width ^ count).\n    //\n\n    function ARC4(key) {\n      var t,\n          keylen = key.length,\n          me = this,\n          i = 0,\n          j = me.i = me.j = 0,\n          s = me.S = []; // The empty key [] is treated as [0].\n\n      if (!keylen) {\n        key = [keylen++];\n      } // Set up S using the standard key scheduling algorithm.\n\n\n      while (i < width) {\n        s[i] = i++;\n      }\n\n      for (i = 0; i < width; i++) {\n        s[i] = s[j = mask & j + key[i % keylen] + (t = s[i])];\n        s[j] = t;\n      } // The \"g\" method returns the next (count) outputs as one number.\n\n\n      me.g = function (count) {\n        // Using instance members instead of closure state nearly doubles speed.\n        var t,\n            r = 0,\n            i = me.i,\n            j = me.j,\n            s = me.S;\n\n        while (count--) {\n          t = s[i = mask & i + 1];\n          r = r * width + s[mask & (s[i] = s[j = mask & j + t]) + (s[j] = t)];\n        }\n\n        me.i = i;\n        me.j = j;\n        return r; // For robust unpredictability, the function call below automatically\n        // discards an initial batch of values.  This is called RC4-drop[256].\n        // See http://google.com/search?q=rsa+fluhrer+response&btnI\n      };\n    } //\n    // copy()\n    // Copies internal state of ARC4 to or from a plain object.\n    //\n\n\n    function copy(f, t) {\n      t.i = f.i;\n      t.j = f.j;\n      t.S = f.S.slice();\n      return t;\n    } //\n    // flatten()\n    // Converts an object tree to nested arrays of strings.\n    //\n\n\n    function flatten(obj, depth) {\n      var result = [],\n          typ = _typeof$2(obj),\n          prop;\n\n      if (depth && typ == 'object') {\n        for (prop in obj) {\n          try {\n            result.push(flatten(obj[prop], depth - 1));\n          } catch (e) {}\n        }\n      }\n\n      return result.length ? result : typ == 'string' ? obj : obj + '\\0';\n    } //\n    // mixkey()\n    // Mixes a string seed into a key that is an array of integers, and\n    // returns a shortened string seed that is equivalent to the result key.\n    //\n\n\n    function mixkey(seed, key) {\n      var stringseed = seed + '',\n          smear,\n          j = 0;\n\n      while (j < stringseed.length) {\n        key[mask & j] = mask & (smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++);\n      }\n\n      return tostring(key);\n    } //\n    // autoseed()\n    // Returns an object for autoseeding, using window.crypto and Node crypto\n    // module if available.\n    //\n\n\n    function autoseed() {\n      try {\n        if (nodecrypto) {\n          return tostring(nodecrypto.randomBytes(width));\n        }\n\n        var out = new Uint8Array(width);\n        (global.crypto || global.msCrypto).getRandomValues(out);\n        return tostring(out);\n      } catch (e) {\n        var browser = global.navigator,\n            plugins = browser && browser.plugins;\n        return [+new Date(), global, plugins, global.screen, tostring(pool)];\n      }\n    } //\n    // tostring()\n    // Converts an array of charcodes to a string\n    //\n\n\n    function tostring(a) {\n      return String.fromCharCode.apply(0, a);\n    } //\n    // When seedrandom.js is loaded, we immediately mix a few bits\n    // from the built-in RNG into the entropy pool.  Because we do\n    // not want to interfere with deterministic PRNG state later,\n    // seedrandom will not call math.random on its own again after\n    // initialization.\n    //\n\n\n    mixkey(math.random(), pool); //\n    // Nodejs and AMD support: export the implementation as a module using\n    // either convention.\n    //\n    // End anonymous scope, and pass initial values.\n  }\n\n  ;\n\n  function initialize$2(BMMath) {\n    seedRandom([], BMMath);\n  }\n\n  var propTypes = {\n    SHAPE: 'shape'\n  };\n\n  function _typeof$1(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof$1 = function _typeof(obj) { return typeof obj; }; } else { _typeof$1 = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof$1(obj); }\n\n  var ExpressionManager = function () {\n    'use strict';\n\n    var ob = {};\n    var Math = BMMath;\n    var window = null;\n    var document = null;\n    var XMLHttpRequest = null;\n    var fetch = null;\n    var frames = null;\n    var _lottieGlobal = {};\n    initialize$2(BMMath);\n\n    function resetFrame() {\n      _lottieGlobal = {};\n    }\n\n    function $bm_isInstanceOfArray(arr) {\n      return arr.constructor === Array || arr.constructor === Float32Array;\n    }\n\n    function isNumerable(tOfV, v) {\n      return tOfV === 'number' || v instanceof Number || tOfV === 'boolean' || tOfV === 'string';\n    }\n\n    function $bm_neg(a) {\n      var tOfA = _typeof$1(a);\n\n      if (tOfA === 'number' || a instanceof Number || tOfA === 'boolean') {\n        return -a;\n      }\n\n      if ($bm_isInstanceOfArray(a)) {\n        var i;\n        var lenA = a.length;\n        var retArr = [];\n\n        for (i = 0; i < lenA; i += 1) {\n          retArr[i] = -a[i];\n        }\n\n        return retArr;\n      }\n\n      if (a.propType) {\n        return a.v;\n      }\n\n      return -a;\n    }\n\n    var easeInBez = BezierFactory.getBezierEasing(0.333, 0, 0.833, 0.833, 'easeIn').get;\n    var easeOutBez = BezierFactory.getBezierEasing(0.167, 0.167, 0.667, 1, 'easeOut').get;\n    var easeInOutBez = BezierFactory.getBezierEasing(0.33, 0, 0.667, 1, 'easeInOut').get;\n\n    function sum(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b) || tOfA === 'string' || tOfB === 'string') {\n        return a + b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] += b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a + b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] + b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    var add = sum;\n\n    function sub(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        if (tOfA === 'string') {\n          a = parseInt(a, 10);\n        }\n\n        if (tOfB === 'string') {\n          b = parseInt(b, 10);\n        }\n\n        return a - b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        a = a.slice(0);\n        a[0] -= b;\n        return a;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        b = b.slice(0);\n        b[0] = a - b[0];\n        return b;\n      }\n\n      if ($bm_isInstanceOfArray(a) && $bm_isInstanceOfArray(b)) {\n        var i = 0;\n        var lenA = a.length;\n        var lenB = b.length;\n        var retArr = [];\n\n        while (i < lenA || i < lenB) {\n          if ((typeof a[i] === 'number' || a[i] instanceof Number) && (typeof b[i] === 'number' || b[i] instanceof Number)) {\n            retArr[i] = a[i] - b[i];\n          } else {\n            retArr[i] = b[i] === undefined ? a[i] : a[i] || b[i];\n          }\n\n          i += 1;\n        }\n\n        return retArr;\n      }\n\n      return 0;\n    }\n\n    function mul(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a * b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] * b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a * b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function div(a, b) {\n      var tOfA = _typeof$1(a);\n\n      var tOfB = _typeof$1(b);\n\n      var arr;\n\n      if (isNumerable(tOfA, a) && isNumerable(tOfB, b)) {\n        return a / b;\n      }\n\n      var i;\n      var len;\n\n      if ($bm_isInstanceOfArray(a) && isNumerable(tOfB, b)) {\n        len = a.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a[i] / b;\n        }\n\n        return arr;\n      }\n\n      if (isNumerable(tOfA, a) && $bm_isInstanceOfArray(b)) {\n        len = b.length;\n        arr = createTypedArray('float32', len);\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = a / b[i];\n        }\n\n        return arr;\n      }\n\n      return 0;\n    }\n\n    function mod(a, b) {\n      if (typeof a === 'string') {\n        a = parseInt(a, 10);\n      }\n\n      if (typeof b === 'string') {\n        b = parseInt(b, 10);\n      }\n\n      return a % b;\n    }\n\n    var $bm_sum = sum;\n    var $bm_sub = sub;\n    var $bm_mul = mul;\n    var $bm_div = div;\n    var $bm_mod = mod;\n\n    function clamp(num, min, max) {\n      if (min > max) {\n        var mm = max;\n        max = min;\n        min = mm;\n      }\n\n      return Math.min(Math.max(num, min), max);\n    }\n\n    function radiansToDegrees(val) {\n      return val / degToRads;\n    }\n\n    var radians_to_degrees = radiansToDegrees;\n\n    function degreesToRadians(val) {\n      return val * degToRads;\n    }\n\n    var degrees_to_radians = radiansToDegrees;\n    var helperLengthArray = [0, 0, 0, 0, 0, 0];\n\n    function length(arr1, arr2) {\n      if (typeof arr1 === 'number' || arr1 instanceof Number) {\n        arr2 = arr2 || 0;\n        return Math.abs(arr1 - arr2);\n      }\n\n      if (!arr2) {\n        arr2 = helperLengthArray;\n      }\n\n      var i;\n      var len = Math.min(arr1.length, arr2.length);\n      var addedLength = 0;\n\n      for (i = 0; i < len; i += 1) {\n        addedLength += Math.pow(arr2[i] - arr1[i], 2);\n      }\n\n      return Math.sqrt(addedLength);\n    }\n\n    function normalize(vec) {\n      return div(vec, length(vec));\n    }\n\n    function rgbToHsl(val) {\n      var r = val[0];\n      var g = val[1];\n      var b = val[2];\n      var max = Math.max(r, g, b);\n      var min = Math.min(r, g, b);\n      var h;\n      var s;\n      var l = (max + min) / 2;\n\n      if (max === min) {\n        h = 0; // achromatic\n\n        s = 0; // achromatic\n      } else {\n        var d = max - min;\n        s = l > 0.5 ? d / (2 - max - min) : d / (max + min);\n\n        switch (max) {\n          case r:\n            h = (g - b) / d + (g < b ? 6 : 0);\n            break;\n\n          case g:\n            h = (b - r) / d + 2;\n            break;\n\n          case b:\n            h = (r - g) / d + 4;\n            break;\n\n          default:\n            break;\n        }\n\n        h /= 6;\n      }\n\n      return [h, s, l, val[3]];\n    }\n\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n\n    function hslToRgb(val) {\n      var h = val[0];\n      var s = val[1];\n      var l = val[2];\n      var r;\n      var g;\n      var b;\n\n      if (s === 0) {\n        r = l; // achromatic\n\n        b = l; // achromatic\n\n        g = l; // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = hue2rgb(p, q, h + 1 / 3);\n        g = hue2rgb(p, q, h);\n        b = hue2rgb(p, q, h - 1 / 3);\n      }\n\n      return [r, g, b, val[3]];\n    }\n\n    function linear(t, tMin, tMax, value1, value2) {\n      if (value1 === undefined || value2 === undefined) {\n        value1 = tMin;\n        value2 = tMax;\n        tMin = 0;\n        tMax = 1;\n      }\n\n      if (tMax < tMin) {\n        var _tMin = tMax;\n        tMax = tMin;\n        tMin = _tMin;\n      }\n\n      if (t <= tMin) {\n        return value1;\n      }\n\n      if (t >= tMax) {\n        return value2;\n      }\n\n      var perc = tMax === tMin ? 0 : (t - tMin) / (tMax - tMin);\n\n      if (!value1.length) {\n        return value1 + (value2 - value1) * perc;\n      }\n\n      var i;\n      var len = value1.length;\n      var arr = createTypedArray('float32', len);\n\n      for (i = 0; i < len; i += 1) {\n        arr[i] = value1[i] + (value2[i] - value1[i]) * perc;\n      }\n\n      return arr;\n    }\n\n    function random(min, max) {\n      if (max === undefined) {\n        if (min === undefined) {\n          min = 0;\n          max = 1;\n        } else {\n          max = min;\n          min = undefined;\n        }\n      }\n\n      if (max.length) {\n        var i;\n        var len = max.length;\n\n        if (!min) {\n          min = createTypedArray('float32', len);\n        }\n\n        var arr = createTypedArray('float32', len);\n        var rnd = BMMath.random();\n\n        for (i = 0; i < len; i += 1) {\n          arr[i] = min[i] + rnd * (max[i] - min[i]);\n        }\n\n        return arr;\n      }\n\n      if (min === undefined) {\n        min = 0;\n      }\n\n      var rndm = BMMath.random();\n      return min + rndm * (max - min);\n    }\n\n    function createPath(points, inTangents, outTangents, closed) {\n      var i;\n      var len = points.length;\n      var path = shapePool.newElement();\n      path.setPathData(!!closed, len);\n      var arrPlaceholder = [0, 0];\n      var inVertexPoint;\n      var outVertexPoint;\n\n      for (i = 0; i < len; i += 1) {\n        inVertexPoint = inTangents && inTangents[i] ? inTangents[i] : arrPlaceholder;\n        outVertexPoint = outTangents && outTangents[i] ? outTangents[i] : arrPlaceholder;\n        path.setTripleAt(points[i][0], points[i][1], outVertexPoint[0] + points[i][0], outVertexPoint[1] + points[i][1], inVertexPoint[0] + points[i][0], inVertexPoint[1] + points[i][1], i, true);\n      }\n\n      return path;\n    }\n\n    function initiateExpression(elem, data, property) {\n      // Bail out if we don't want expressions\n      function noOp(_value) {\n        return _value;\n      }\n\n      if (!elem.globalData.renderConfig.runExpressions) {\n        return noOp;\n      }\n\n      var val = data.x;\n      var needsVelocity = /velocity(?![\\w\\d])/.test(val);\n\n      var _needsRandom = val.indexOf('random') !== -1;\n\n      var elemType = elem.data.ty;\n      var transform;\n      var $bm_transform;\n      var content;\n      var effect;\n      var thisProperty = property;\n      thisProperty.valueAtTime = thisProperty.getValueAtTime;\n      Object.defineProperty(thisProperty, 'value', {\n        get: function get() {\n          return thisProperty.v;\n        }\n      });\n      elem.comp.frameDuration = 1 / elem.comp.globalData.frameRate;\n      elem.comp.displayStartTime = 0;\n      var inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      var outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      var width = elem.data.sw ? elem.data.sw : 0;\n      var height = elem.data.sh ? elem.data.sh : 0;\n      var name = elem.data.nm;\n      var loopIn;\n      var loop_in;\n      var loopOut;\n      var loop_out;\n      var smooth;\n      var toWorld;\n      var fromWorld;\n      var fromComp;\n      var toComp;\n      var fromCompToSurface;\n      var position;\n      var rotation;\n      var anchorPoint;\n      var scale;\n      var thisLayer;\n      var thisComp;\n      var mask;\n      var valueAtTime;\n      var velocityAtTime;\n      var scoped_bm_rt; // val = val.replace(/(\\\\?\"|')((http)(s)?(:\\/))?\\/.*?(\\\\?\"|')/g, \"\\\"\\\"\"); // deter potential network calls\n\n      var expression_function = eval('[function _expression_function(){' + val + ';scoped_bm_rt=$bm_rt}]')[0]; // eslint-disable-line no-eval\n\n      var numKeys = property.kf ? data.k.length : 0;\n      var active = !this.data || this.data.hd !== true;\n\n      var wiggle = function wiggle(freq, amp) {\n        var iWiggle;\n        var j;\n        var lenWiggle = this.pv.length ? this.pv.length : 1;\n        var addedAmps = createTypedArray('float32', lenWiggle);\n        freq = 5;\n        var iterations = Math.floor(time * freq);\n        iWiggle = 0;\n        j = 0;\n\n        while (iWiggle < iterations) {\n          // var rnd = BMMath.random();\n          for (j = 0; j < lenWiggle; j += 1) {\n            addedAmps[j] += -amp + amp * 2 * BMMath.random(); // addedAmps[j] += -amp + amp*2*rnd;\n          }\n\n          iWiggle += 1;\n        } // var rnd2 = BMMath.random();\n\n\n        var periods = time * freq;\n        var perc = periods - Math.floor(periods);\n        var arr = createTypedArray('float32', lenWiggle);\n\n        if (lenWiggle > 1) {\n          for (j = 0; j < lenWiggle; j += 1) {\n            arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp * 2 * BMMath.random()) * perc; // arr[j] = this.pv[j] + addedAmps[j] + (-amp + amp*2*rnd)*perc;\n            // arr[i] = this.pv[i] + addedAmp + amp1*perc + amp2*(1-perc);\n          }\n\n          return arr;\n        }\n\n        return this.pv + addedAmps[0] + (-amp + amp * 2 * BMMath.random()) * perc;\n      }.bind(this);\n\n      if (thisProperty.loopIn) {\n        loopIn = thisProperty.loopIn.bind(thisProperty);\n        loop_in = loopIn;\n      }\n\n      if (thisProperty.loopOut) {\n        loopOut = thisProperty.loopOut.bind(thisProperty);\n        loop_out = loopOut;\n      }\n\n      if (thisProperty.smooth) {\n        smooth = thisProperty.smooth.bind(thisProperty);\n      }\n\n      function loopInDuration(type, duration) {\n        return loopIn(type, duration, true);\n      }\n\n      function loopOutDuration(type, duration) {\n        return loopOut(type, duration, true);\n      }\n\n      if (this.getValueAtTime) {\n        valueAtTime = this.getValueAtTime.bind(this);\n      }\n\n      if (this.getVelocityAtTime) {\n        velocityAtTime = this.getVelocityAtTime.bind(this);\n      }\n\n      var comp = elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);\n\n      function lookAt(elem1, elem2) {\n        var fVec = [elem2[0] - elem1[0], elem2[1] - elem1[1], elem2[2] - elem1[2]];\n        var pitch = Math.atan2(fVec[0], Math.sqrt(fVec[1] * fVec[1] + fVec[2] * fVec[2])) / degToRads;\n        var yaw = -Math.atan2(fVec[1], fVec[2]) / degToRads;\n        return [yaw, pitch, 0];\n      }\n\n      function easeOut(t, tMin, tMax, val1, val2) {\n        return applyEase(easeOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function easeIn(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInBez, t, tMin, tMax, val1, val2);\n      }\n\n      function ease(t, tMin, tMax, val1, val2) {\n        return applyEase(easeInOutBez, t, tMin, tMax, val1, val2);\n      }\n\n      function applyEase(fn, t, tMin, tMax, val1, val2) {\n        if (val1 === undefined) {\n          val1 = tMin;\n          val2 = tMax;\n        } else {\n          t = (t - tMin) / (tMax - tMin);\n        }\n\n        if (t > 1) {\n          t = 1;\n        } else if (t < 0) {\n          t = 0;\n        }\n\n        var mult = fn(t);\n\n        if ($bm_isInstanceOfArray(val1)) {\n          var iKey;\n          var lenKey = val1.length;\n          var arr = createTypedArray('float32', lenKey);\n\n          for (iKey = 0; iKey < lenKey; iKey += 1) {\n            arr[iKey] = (val2[iKey] - val1[iKey]) * mult + val1[iKey];\n          }\n\n          return arr;\n        }\n\n        return (val2 - val1) * mult + val1;\n      }\n\n      function nearestKey(time) {\n        var iKey;\n        var lenKey = data.k.length;\n        var index;\n        var keyTime;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          index = 0;\n          keyTime = 0;\n        } else {\n          index = -1;\n          time *= elem.comp.globalData.frameRate;\n\n          if (time < data.k[0].t) {\n            index = 1;\n            keyTime = data.k[0].t;\n          } else {\n            for (iKey = 0; iKey < lenKey - 1; iKey += 1) {\n              if (time === data.k[iKey].t) {\n                index = iKey + 1;\n                keyTime = data.k[iKey].t;\n                break;\n              } else if (time > data.k[iKey].t && time < data.k[iKey + 1].t) {\n                if (time - data.k[iKey].t > data.k[iKey + 1].t - time) {\n                  index = iKey + 2;\n                  keyTime = data.k[iKey + 1].t;\n                } else {\n                  index = iKey + 1;\n                  keyTime = data.k[iKey].t;\n                }\n\n                break;\n              }\n            }\n\n            if (index === -1) {\n              index = iKey + 1;\n              keyTime = data.k[iKey].t;\n            }\n          }\n        }\n\n        var obKey = {};\n        obKey.index = index;\n        obKey.time = keyTime / elem.comp.globalData.frameRate;\n        return obKey;\n      }\n\n      function key(ind) {\n        var obKey;\n        var iKey;\n        var lenKey;\n\n        if (!data.k.length || typeof data.k[0] === 'number') {\n          throw new Error('The property has no keyframe at index ' + ind);\n        }\n\n        ind -= 1;\n        obKey = {\n          time: data.k[ind].t / elem.comp.globalData.frameRate,\n          value: []\n        };\n        var arr = Object.prototype.hasOwnProperty.call(data.k[ind], 's') ? data.k[ind].s : data.k[ind - 1].e;\n        lenKey = arr.length;\n\n        for (iKey = 0; iKey < lenKey; iKey += 1) {\n          obKey[iKey] = arr[iKey];\n          obKey.value[iKey] = arr[iKey];\n        }\n\n        return obKey;\n      }\n\n      function framesToTime(fr, fps) {\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return fr / fps;\n      }\n\n      function timeToFrames(t, fps) {\n        if (!t && t !== 0) {\n          t = time;\n        }\n\n        if (!fps) {\n          fps = elem.comp.globalData.frameRate;\n        }\n\n        return t * fps;\n      }\n\n      function seedRandom(seed) {\n        BMMath.seedrandom(randSeed + seed);\n      }\n\n      function sourceRectAtTime() {\n        return elem.sourceRectAtTime();\n      }\n\n      function substring(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substring(init);\n          }\n\n          return value.substring(init, end);\n        }\n\n        return '';\n      }\n\n      function substr(init, end) {\n        if (typeof value === 'string') {\n          if (end === undefined) {\n            return value.substr(init);\n          }\n\n          return value.substr(init, end);\n        }\n\n        return '';\n      }\n\n      function posterizeTime(framesPerSecond) {\n        time = framesPerSecond === 0 ? 0 : Math.floor(time * framesPerSecond) / framesPerSecond;\n        value = valueAtTime(time);\n      }\n\n      var time;\n      var velocity;\n      var value;\n      var text;\n      var textIndex;\n      var textTotal;\n      var selectorValue;\n      var index = elem.data.ind;\n      var hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n      var parent;\n      var randSeed = Math.floor(Math.random() * 1000000);\n      var globalData = elem.globalData;\n\n      function executeExpression(_value) {\n        // globalData.pushExpression();\n        value = _value;\n\n        if (this.frameExpressionId === elem.globalData.frameId && this.propType !== 'textSelector') {\n          return value;\n        }\n\n        if (this.propType === 'textSelector') {\n          textIndex = this.textIndex;\n          textTotal = this.textTotal;\n          selectorValue = this.selectorValue;\n        }\n\n        if (!thisLayer) {\n          text = elem.layerInterface.text;\n          thisLayer = elem.layerInterface;\n          thisComp = elem.comp.compInterface;\n          toWorld = thisLayer.toWorld.bind(thisLayer);\n          fromWorld = thisLayer.fromWorld.bind(thisLayer);\n          fromComp = thisLayer.fromComp.bind(thisLayer);\n          toComp = thisLayer.toComp.bind(thisLayer);\n          mask = thisLayer.mask ? thisLayer.mask.bind(thisLayer) : null;\n          fromCompToSurface = fromComp;\n        }\n\n        if (!transform) {\n          transform = elem.layerInterface('ADBE Transform Group');\n          $bm_transform = transform;\n\n          if (transform) {\n            anchorPoint = transform.anchorPoint;\n            /* position = transform.position;\r\n                      rotation = transform.rotation;\r\n                      scale = transform.scale; */\n          }\n        }\n\n        if (elemType === 4 && !content) {\n          content = thisLayer('ADBE Root Vectors Group');\n        }\n\n        if (!effect) {\n          effect = thisLayer(4);\n        }\n\n        hasParent = !!(elem.hierarchy && elem.hierarchy.length);\n\n        if (hasParent && !parent) {\n          parent = elem.hierarchy[0].layerInterface;\n        }\n\n        time = this.comp.renderedFrame / this.comp.globalData.frameRate;\n\n        if (_needsRandom) {\n          seedRandom(randSeed + time);\n        }\n\n        if (needsVelocity) {\n          velocity = velocityAtTime(time);\n        }\n\n        expression_function();\n        this.frameExpressionId = elem.globalData.frameId; // TODO: Check if it's possible to return on ShapeInterface the .v value\n        // Changed this to a ternary operation because Rollup failed compiling it correctly\n\n        scoped_bm_rt = scoped_bm_rt.propType === propTypes.SHAPE ? scoped_bm_rt.v : scoped_bm_rt;\n        return scoped_bm_rt;\n      } // Bundlers will see these as dead code and unless we reference them\n\n\n      executeExpression.__preventDeadCodeRemoval = [$bm_transform, anchorPoint, time, velocity, inPoint, outPoint, width, height, name, loop_in, loop_out, smooth, toComp, fromCompToSurface, toWorld, fromWorld, mask, position, rotation, scale, thisComp, numKeys, active, wiggle, loopInDuration, loopOutDuration, comp, lookAt, easeOut, easeIn, ease, nearestKey, key, text, textIndex, textTotal, selectorValue, framesToTime, timeToFrames, sourceRectAtTime, substring, substr, posterizeTime, index, globalData];\n      return executeExpression;\n    }\n\n    ob.initiateExpression = initiateExpression;\n    ob.__preventDeadCodeRemoval = [window, document, XMLHttpRequest, fetch, frames, $bm_neg, add, $bm_sum, $bm_sub, $bm_mul, $bm_div, $bm_mod, clamp, radians_to_degrees, degreesToRadians, degrees_to_radians, normalize, rgbToHsl, hslToRgb, linear, random, createPath, _lottieGlobal];\n    ob.resetFrame = resetFrame;\n    return ob;\n  }();\n\n  var Expressions = function () {\n    var ob = {};\n    ob.initExpressions = initExpressions;\n    ob.resetFrame = ExpressionManager.resetFrame;\n\n    function initExpressions(animation) {\n      var stackCount = 0;\n      var registers = [];\n\n      function pushExpression() {\n        stackCount += 1;\n      }\n\n      function popExpression() {\n        stackCount -= 1;\n\n        if (stackCount === 0) {\n          releaseInstances();\n        }\n      }\n\n      function registerExpressionProperty(expression) {\n        if (registers.indexOf(expression) === -1) {\n          registers.push(expression);\n        }\n      }\n\n      function releaseInstances() {\n        var i;\n        var len = registers.length;\n\n        for (i = 0; i < len; i += 1) {\n          registers[i].release();\n        }\n\n        registers.length = 0;\n      }\n\n      animation.renderer.compInterface = CompExpressionInterface(animation.renderer);\n      animation.renderer.globalData.projectInterface.registerComposition(animation.renderer);\n      animation.renderer.globalData.pushExpression = pushExpression;\n      animation.renderer.globalData.popExpression = popExpression;\n      animation.renderer.globalData.registerExpressionProperty = registerExpressionProperty;\n    }\n\n    return ob;\n  }();\n\n  var MaskManagerInterface = function () {\n    function MaskInterface(mask, data) {\n      this._mask = mask;\n      this._data = data;\n    }\n\n    Object.defineProperty(MaskInterface.prototype, 'maskPath', {\n      get: function get() {\n        if (this._mask.prop.k) {\n          this._mask.prop.getValue();\n        }\n\n        return this._mask.prop;\n      }\n    });\n    Object.defineProperty(MaskInterface.prototype, 'maskOpacity', {\n      get: function get() {\n        if (this._mask.op.k) {\n          this._mask.op.getValue();\n        }\n\n        return this._mask.op.v * 100;\n      }\n    });\n\n    var MaskManager = function MaskManager(maskManager) {\n      var _masksInterfaces = createSizedArray(maskManager.viewData.length);\n\n      var i;\n      var len = maskManager.viewData.length;\n\n      for (i = 0; i < len; i += 1) {\n        _masksInterfaces[i] = new MaskInterface(maskManager.viewData[i], maskManager.masksProperties[i]);\n      }\n\n      var maskFunction = function maskFunction(name) {\n        i = 0;\n\n        while (i < len) {\n          if (maskManager.masksProperties[i].nm === name) {\n            return _masksInterfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      };\n\n      return maskFunction;\n    };\n\n    return MaskManager;\n  }();\n\n  var ExpressionPropertyInterface = function () {\n    var defaultUnidimensionalValue = {\n      pv: 0,\n      v: 0,\n      mult: 1\n    };\n    var defaultMultidimensionalValue = {\n      pv: [0, 0, 0],\n      v: [0, 0, 0],\n      mult: 1\n    };\n\n    function completeProperty(expressionValue, property, type) {\n      Object.defineProperty(expressionValue, 'velocity', {\n        get: function get() {\n          return property.getVelocityAtTime(property.comp.currentFrame);\n        }\n      });\n      expressionValue.numKeys = property.keyframes ? property.keyframes.length : 0;\n\n      expressionValue.key = function (pos) {\n        if (!expressionValue.numKeys) {\n          return 0;\n        }\n\n        var value = '';\n\n        if ('s' in property.keyframes[pos - 1]) {\n          value = property.keyframes[pos - 1].s;\n        } else if ('e' in property.keyframes[pos - 2]) {\n          value = property.keyframes[pos - 2].e;\n        } else {\n          value = property.keyframes[pos - 2].s;\n        }\n\n        var valueProp = type === 'unidimensional' ? new Number(value) : Object.assign({}, value); // eslint-disable-line no-new-wrappers\n\n        valueProp.time = property.keyframes[pos - 1].t / property.elem.comp.globalData.frameRate;\n        valueProp.value = type === 'unidimensional' ? value[0] : value;\n        return valueProp;\n      };\n\n      expressionValue.valueAtTime = property.getValueAtTime;\n      expressionValue.speedAtTime = property.getSpeedAtTime;\n      expressionValue.velocityAtTime = property.getVelocityAtTime;\n      expressionValue.propertyGroup = property.propertyGroup;\n    }\n\n    function UnidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultUnidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var val = property.pv * mult;\n      var expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n      expressionValue.value = val;\n      completeProperty(expressionValue, property, 'unidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        val = property.v * mult;\n\n        if (expressionValue.value !== val) {\n          expressionValue = new Number(val); // eslint-disable-line no-new-wrappers\n\n          expressionValue.value = val;\n          completeProperty(expressionValue, property, 'unidimensional');\n        }\n\n        return expressionValue;\n      };\n    }\n\n    function MultidimensionalPropertyInterface(property) {\n      if (!property || !('pv' in property)) {\n        property = defaultMultidimensionalValue;\n      }\n\n      var mult = 1 / property.mult;\n      var len = property.data && property.data.l || property.pv.length;\n      var expressionValue = createTypedArray('float32', len);\n      var arrValue = createTypedArray('float32', len);\n      expressionValue.value = arrValue;\n      completeProperty(expressionValue, property, 'multidimensional');\n      return function () {\n        if (property.k) {\n          property.getValue();\n        }\n\n        for (var i = 0; i < len; i += 1) {\n          arrValue[i] = property.v[i] * mult;\n          expressionValue[i] = arrValue[i];\n        }\n\n        return expressionValue;\n      };\n    } // TODO: try to avoid using this getter\n\n\n    function defaultGetter() {\n      return defaultUnidimensionalValue;\n    }\n\n    return function (property) {\n      if (!property) {\n        return defaultGetter;\n      }\n\n      if (property.propType === 'unidimensional') {\n        return UnidimensionalPropertyInterface(property);\n      }\n\n      return MultidimensionalPropertyInterface(property);\n    };\n  }();\n\n  var TransformExpressionInterface = function () {\n    return function (transform) {\n      function _thisFunction(name) {\n        switch (name) {\n          case 'scale':\n          case 'Scale':\n          case 'ADBE Scale':\n          case 6:\n            return _thisFunction.scale;\n\n          case 'rotation':\n          case 'Rotation':\n          case 'ADBE Rotation':\n          case 'ADBE Rotate Z':\n          case 10:\n            return _thisFunction.rotation;\n\n          case 'ADBE Rotate X':\n            return _thisFunction.xRotation;\n\n          case 'ADBE Rotate Y':\n            return _thisFunction.yRotation;\n\n          case 'position':\n          case 'Position':\n          case 'ADBE Position':\n          case 2:\n            return _thisFunction.position;\n\n          case 'ADBE Position_0':\n            return _thisFunction.xPosition;\n\n          case 'ADBE Position_1':\n            return _thisFunction.yPosition;\n\n          case 'ADBE Position_2':\n            return _thisFunction.zPosition;\n\n          case 'anchorPoint':\n          case 'AnchorPoint':\n          case 'Anchor Point':\n          case 'ADBE AnchorPoint':\n          case 1:\n            return _thisFunction.anchorPoint;\n\n          case 'opacity':\n          case 'Opacity':\n          case 11:\n            return _thisFunction.opacity;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'rotation', {\n        get: ExpressionPropertyInterface(transform.r || transform.rz)\n      });\n      Object.defineProperty(_thisFunction, 'zRotation', {\n        get: ExpressionPropertyInterface(transform.rz || transform.r)\n      });\n      Object.defineProperty(_thisFunction, 'xRotation', {\n        get: ExpressionPropertyInterface(transform.rx)\n      });\n      Object.defineProperty(_thisFunction, 'yRotation', {\n        get: ExpressionPropertyInterface(transform.ry)\n      });\n      Object.defineProperty(_thisFunction, 'scale', {\n        get: ExpressionPropertyInterface(transform.s)\n      });\n\n      var _px;\n\n      var _py;\n\n      var _pz;\n\n      var _transformFactory;\n\n      if (transform.p) {\n        _transformFactory = ExpressionPropertyInterface(transform.p);\n      } else {\n        _px = ExpressionPropertyInterface(transform.px);\n        _py = ExpressionPropertyInterface(transform.py);\n\n        if (transform.pz) {\n          _pz = ExpressionPropertyInterface(transform.pz);\n        }\n      }\n\n      Object.defineProperty(_thisFunction, 'position', {\n        get: function get() {\n          if (transform.p) {\n            return _transformFactory();\n          }\n\n          return [_px(), _py(), _pz ? _pz() : 0];\n        }\n      });\n      Object.defineProperty(_thisFunction, 'xPosition', {\n        get: ExpressionPropertyInterface(transform.px)\n      });\n      Object.defineProperty(_thisFunction, 'yPosition', {\n        get: ExpressionPropertyInterface(transform.py)\n      });\n      Object.defineProperty(_thisFunction, 'zPosition', {\n        get: ExpressionPropertyInterface(transform.pz)\n      });\n      Object.defineProperty(_thisFunction, 'anchorPoint', {\n        get: ExpressionPropertyInterface(transform.a)\n      });\n      Object.defineProperty(_thisFunction, 'opacity', {\n        get: ExpressionPropertyInterface(transform.o)\n      });\n      Object.defineProperty(_thisFunction, 'skew', {\n        get: ExpressionPropertyInterface(transform.sk)\n      });\n      Object.defineProperty(_thisFunction, 'skewAxis', {\n        get: ExpressionPropertyInterface(transform.sa)\n      });\n      Object.defineProperty(_thisFunction, 'orientation', {\n        get: ExpressionPropertyInterface(transform.or)\n      });\n      return _thisFunction;\n    };\n  }();\n\n  var LayerExpressionInterface = function () {\n    function getMatrix(time) {\n      var toWorldMat = new Matrix();\n\n      if (time !== undefined) {\n        var propMatrix = this._elem.finalTransform.mProp.getValueAtTime(time);\n\n        propMatrix.clone(toWorldMat);\n      } else {\n        var transformMat = this._elem.finalTransform.mProp;\n        transformMat.applyToMatrix(toWorldMat);\n      }\n\n      return toWorldMat;\n    }\n\n    function toWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function toWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.applyPoint(toWorldMat, arr);\n    }\n\n    function fromWorldVec(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      toWorldMat.props[12] = 0;\n      toWorldMat.props[13] = 0;\n      toWorldMat.props[14] = 0;\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function fromWorld(arr, time) {\n      var toWorldMat = this.getMatrix(time);\n      return this.invertPoint(toWorldMat, arr);\n    }\n\n    function applyPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.applyToPointArray(arr[0], arr[1], arr[2] || 0);\n    }\n\n    function invertPoint(matrix, arr) {\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(matrix);\n        }\n      }\n\n      return matrix.inversePoint(arr);\n    }\n\n    function fromComp(arr) {\n      var toWorldMat = new Matrix();\n      toWorldMat.reset();\n\n      this._elem.finalTransform.mProp.applyToMatrix(toWorldMat);\n\n      if (this._elem.hierarchy && this._elem.hierarchy.length) {\n        var i;\n        var len = this._elem.hierarchy.length;\n\n        for (i = 0; i < len; i += 1) {\n          this._elem.hierarchy[i].finalTransform.mProp.applyToMatrix(toWorldMat);\n        }\n\n        return toWorldMat.inversePoint(arr);\n      }\n\n      return toWorldMat.inversePoint(arr);\n    }\n\n    function sampleImage() {\n      return [1, 1, 1, 1];\n    }\n\n    return function (elem) {\n      var transformInterface;\n\n      function _registerMaskInterface(maskManager) {\n        _thisLayerFunction.mask = new MaskManagerInterface(maskManager, elem);\n      }\n\n      function _registerEffectsInterface(effects) {\n        _thisLayerFunction.effect = effects;\n      }\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Root Vectors Group':\n          case 'Contents':\n          case 2:\n            return _thisLayerFunction.shapeInterface;\n\n          case 1:\n          case 6:\n          case 'Transform':\n          case 'transform':\n          case 'ADBE Transform Group':\n            return transformInterface;\n\n          case 4:\n          case 'ADBE Effect Parade':\n          case 'effects':\n          case 'Effects':\n            return _thisLayerFunction.effect;\n\n          case 'ADBE Text Properties':\n            return _thisLayerFunction.textInterface;\n\n          default:\n            return null;\n        }\n      }\n\n      _thisLayerFunction.getMatrix = getMatrix;\n      _thisLayerFunction.invertPoint = invertPoint;\n      _thisLayerFunction.applyPoint = applyPoint;\n      _thisLayerFunction.toWorld = toWorld;\n      _thisLayerFunction.toWorldVec = toWorldVec;\n      _thisLayerFunction.fromWorld = fromWorld;\n      _thisLayerFunction.fromWorldVec = fromWorldVec;\n      _thisLayerFunction.toComp = toWorld;\n      _thisLayerFunction.fromComp = fromComp;\n      _thisLayerFunction.sampleImage = sampleImage;\n      _thisLayerFunction.sourceRectAtTime = elem.sourceRectAtTime.bind(elem);\n      _thisLayerFunction._elem = elem;\n      transformInterface = TransformExpressionInterface(elem.finalTransform.mProp);\n      var anchorPointDescriptor = getDescriptor(transformInterface, 'anchorPoint');\n      Object.defineProperties(_thisLayerFunction, {\n        hasParent: {\n          get: function get() {\n            return elem.hierarchy.length;\n          }\n        },\n        parent: {\n          get: function get() {\n            return elem.hierarchy[0].layerInterface;\n          }\n        },\n        rotation: getDescriptor(transformInterface, 'rotation'),\n        scale: getDescriptor(transformInterface, 'scale'),\n        position: getDescriptor(transformInterface, 'position'),\n        opacity: getDescriptor(transformInterface, 'opacity'),\n        anchorPoint: anchorPointDescriptor,\n        anchor_point: anchorPointDescriptor,\n        transform: {\n          get: function get() {\n            return transformInterface;\n          }\n        },\n        active: {\n          get: function get() {\n            return elem.isInRange;\n          }\n        }\n      });\n      _thisLayerFunction.startTime = elem.data.st;\n      _thisLayerFunction.index = elem.data.ind;\n      _thisLayerFunction.source = elem.data.refId;\n      _thisLayerFunction.height = elem.data.ty === 0 ? elem.data.h : 100;\n      _thisLayerFunction.width = elem.data.ty === 0 ? elem.data.w : 100;\n      _thisLayerFunction.inPoint = elem.data.ip / elem.comp.globalData.frameRate;\n      _thisLayerFunction.outPoint = elem.data.op / elem.comp.globalData.frameRate;\n      _thisLayerFunction._name = elem.data.nm;\n      _thisLayerFunction.registerMaskInterface = _registerMaskInterface;\n      _thisLayerFunction.registerEffectsInterface = _registerEffectsInterface;\n      return _thisLayerFunction;\n    };\n  }();\n\n  var propertyGroupFactory = function () {\n    return function (interfaceFunction, parentPropertyGroup) {\n      return function (val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return parentPropertyGroup(val - 1);\n      };\n    };\n  }();\n\n  var PropertyInterface = function () {\n    return function (propertyName, propertyGroup) {\n      var interfaceFunction = {\n        _name: propertyName\n      };\n\n      function _propertyGroup(val) {\n        val = val === undefined ? 1 : val;\n\n        if (val <= 0) {\n          return interfaceFunction;\n        }\n\n        return propertyGroup(val - 1);\n      }\n\n      return _propertyGroup;\n    };\n  }();\n\n  var EffectsExpressionInterface = function () {\n    var ob = {\n      createEffectsInterface: createEffectsInterface\n    };\n\n    function createEffectsInterface(elem, propertyGroup) {\n      if (elem.effectsManager) {\n        var effectElements = [];\n        var effectsData = elem.data.ef;\n        var i;\n        var len = elem.effectsManager.effectElements.length;\n\n        for (i = 0; i < len; i += 1) {\n          effectElements.push(createGroupInterface(effectsData[i], elem.effectsManager.effectElements[i], propertyGroup, elem));\n        }\n\n        var effects = elem.data.ef || [];\n\n        var groupInterface = function groupInterface(name) {\n          i = 0;\n          len = effects.length;\n\n          while (i < len) {\n            if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n              return effectElements[i];\n            }\n\n            i += 1;\n          }\n\n          return null;\n        };\n\n        Object.defineProperty(groupInterface, 'numProperties', {\n          get: function get() {\n            return effects.length;\n          }\n        });\n        return groupInterface;\n      }\n\n      return null;\n    }\n\n    function createGroupInterface(data, elements, propertyGroup, elem) {\n      function groupInterface(name) {\n        var effects = data.ef;\n        var i = 0;\n        var len = effects.length;\n\n        while (i < len) {\n          if (name === effects[i].nm || name === effects[i].mn || name === effects[i].ix) {\n            if (effects[i].ty === 5) {\n              return effectElements[i];\n            }\n\n            return effectElements[i]();\n          }\n\n          i += 1;\n        }\n\n        throw new Error();\n      }\n\n      var _propertyGroup = propertyGroupFactory(groupInterface, propertyGroup);\n\n      var effectElements = [];\n      var i;\n      var len = data.ef.length;\n\n      for (i = 0; i < len; i += 1) {\n        if (data.ef[i].ty === 5) {\n          effectElements.push(createGroupInterface(data.ef[i], elements.effectElements[i], elements.effectElements[i].propertyGroup, elem));\n        } else {\n          effectElements.push(createValueInterface(elements.effectElements[i], data.ef[i].ty, elem, _propertyGroup));\n        }\n      }\n\n      if (data.mn === 'ADBE Color Control') {\n        Object.defineProperty(groupInterface, 'color', {\n          get: function get() {\n            return effectElements[0]();\n          }\n        });\n      }\n\n      Object.defineProperties(groupInterface, {\n        numProperties: {\n          get: function get() {\n            return data.np;\n          }\n        },\n        _name: {\n          value: data.nm\n        },\n        propertyGroup: {\n          value: _propertyGroup\n        }\n      });\n      groupInterface.enabled = data.en !== 0;\n      groupInterface.active = groupInterface.enabled;\n      return groupInterface;\n    }\n\n    function createValueInterface(element, type, elem, propertyGroup) {\n      var expressionProperty = ExpressionPropertyInterface(element.p);\n\n      function interfaceFunction() {\n        if (type === 10) {\n          return elem.comp.compInterface(element.p.v);\n        }\n\n        return expressionProperty();\n      }\n\n      if (element.p.setGroupProperty) {\n        element.p.setGroupProperty(PropertyInterface('', propertyGroup));\n      }\n\n      return interfaceFunction;\n    }\n\n    return ob;\n  }();\n\n  var ShapePathInterface = function () {\n    return function pathInterfaceFactory(shape, view, propertyGroup) {\n      var prop = view.sh;\n\n      function interfaceFunction(val) {\n        if (val === 'Shape' || val === 'shape' || val === 'Path' || val === 'path' || val === 'ADBE Vector Shape' || val === 2) {\n          return interfaceFunction.path;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      prop.setGroupProperty(PropertyInterface('Path', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        path: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        shape: {\n          get: function get() {\n            if (prop.k) {\n              prop.getValue();\n            }\n\n            return prop;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        ix: {\n          value: shape.ix\n        },\n        propertyIndex: {\n          value: shape.ix\n        },\n        mn: {\n          value: shape.mn\n        },\n        propertyGroup: {\n          value: propertyGroup\n        }\n      });\n      return interfaceFunction;\n    };\n  }();\n\n  var ShapeExpressionInterface = function () {\n    function iterateElements(shapes, view, propertyGroup) {\n      var arr = [];\n      var i;\n      var len = shapes ? shapes.length : 0;\n\n      for (i = 0; i < len; i += 1) {\n        if (shapes[i].ty === 'gr') {\n          arr.push(groupInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'fl') {\n          arr.push(fillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'st') {\n          arr.push(strokeInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tm') {\n          arr.push(trimInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'tr') {// arr.push(transformInterfaceFactory(shapes[i],view[i],propertyGroup));\n        } else if (shapes[i].ty === 'el') {\n          arr.push(ellipseInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sr') {\n          arr.push(starInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'sh') {\n          arr.push(ShapePathInterface(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rc') {\n          arr.push(rectInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rd') {\n          arr.push(roundedInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'rp') {\n          arr.push(repeaterInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else if (shapes[i].ty === 'gf') {\n          arr.push(gradientFillInterfaceFactory(shapes[i], view[i], propertyGroup));\n        } else {\n          arr.push(defaultInterfaceFactory(shapes[i], view[i], propertyGroup));\n        }\n      }\n\n      return arr;\n    }\n\n    function contentsInterfaceFactory(shape, view, propertyGroup) {\n      var interfaces;\n\n      var interfaceFunction = function _interfaceFunction(value) {\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value || interfaces[i].mn === value || interfaces[i].propertyIndex === value || interfaces[i].ix === value || interfaces[i].ind === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        if (typeof value === 'number') {\n          return interfaces[value - 1];\n        }\n\n        return null;\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      interfaces = iterateElements(shape.it, view.it, interfaceFunction.propertyGroup);\n      interfaceFunction.numProperties = interfaces.length;\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.transform = transformInterface;\n      interfaceFunction.propertyIndex = shape.cix;\n      interfaceFunction._name = shape.nm;\n      return interfaceFunction;\n    }\n\n    function groupInterfaceFactory(shape, view, propertyGroup) {\n      var interfaceFunction = function _interfaceFunction(value) {\n        switch (value) {\n          case 'ADBE Vectors Group':\n          case 'Contents':\n          case 2:\n            return interfaceFunction.content;\n          // Not necessary for now. Keeping them here in case a new case appears\n          // case 'ADBE Vector Transform Group':\n          // case 3:\n\n          default:\n            return interfaceFunction.transform;\n        }\n      };\n\n      interfaceFunction.propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n      var content = contentsInterfaceFactory(shape, view, interfaceFunction.propertyGroup);\n      var transformInterface = transformInterfaceFactory(shape.it[shape.it.length - 1], view.it[view.it.length - 1], interfaceFunction.propertyGroup);\n      interfaceFunction.content = content;\n      interfaceFunction.transform = transformInterface;\n      Object.defineProperty(interfaceFunction, '_name', {\n        get: function get() {\n          return shape.nm;\n        }\n      }); // interfaceFunction.content = interfaceFunction;\n\n      interfaceFunction.numProperties = shape.np;\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.nm = shape.nm;\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function fillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function gradientFillInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === 'Start Point' || val === 'start point') {\n          return interfaceFunction.startPoint;\n        }\n\n        if (val === 'End Point' || val === 'end point') {\n          return interfaceFunction.endPoint;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        startPoint: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        endPoint: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        type: {\n          get: function get() {\n            return 'a';\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.s.setGroupProperty(PropertyInterface('Start Point', propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End Point', propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', propertyGroup));\n      return interfaceFunction;\n    }\n\n    function defaultInterfaceFactory() {\n      function interfaceFunction() {\n        return null;\n      }\n\n      return interfaceFunction;\n    }\n\n    function strokeInterfaceFactory(shape, view, propertyGroup) {\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var _dashPropertyGroup = propertyGroupFactory(dashOb, _propertyGroup);\n\n      function addPropertyToDashOb(i) {\n        Object.defineProperty(dashOb, shape.d[i].nm, {\n          get: ExpressionPropertyInterface(view.d.dataProps[i].p)\n        });\n      }\n\n      var i;\n      var len = shape.d ? shape.d.length : 0;\n      var dashOb = {};\n\n      for (i = 0; i < len; i += 1) {\n        addPropertyToDashOb(i);\n        view.d.dataProps[i].p.setGroupProperty(_dashPropertyGroup);\n      }\n\n      function interfaceFunction(val) {\n        if (val === 'Color' || val === 'color') {\n          return interfaceFunction.color;\n        }\n\n        if (val === 'Opacity' || val === 'opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (val === 'Stroke Width' || val === 'stroke width') {\n          return interfaceFunction.strokeWidth;\n        }\n\n        return null;\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        color: {\n          get: ExpressionPropertyInterface(view.c)\n        },\n        opacity: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        strokeWidth: {\n          get: ExpressionPropertyInterface(view.w)\n        },\n        dash: {\n          get: function get() {\n            return dashOb;\n          }\n        },\n        _name: {\n          value: shape.nm\n        },\n        mn: {\n          value: shape.mn\n        }\n      });\n      view.c.setGroupProperty(PropertyInterface('Color', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.w.setGroupProperty(PropertyInterface('Stroke Width', _propertyGroup));\n      return interfaceFunction;\n    }\n\n    function trimInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(val) {\n        if (val === shape.e.ix || val === 'End' || val === 'end') {\n          return interfaceFunction.end;\n        }\n\n        if (val === shape.s.ix) {\n          return interfaceFunction.start;\n        }\n\n        if (val === shape.o.ix) {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      view.s.setGroupProperty(PropertyInterface('Start', _propertyGroup));\n      view.e.setGroupProperty(PropertyInterface('End', _propertyGroup));\n      view.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      interfaceFunction.propertyIndex = shape.ix;\n      interfaceFunction.propertyGroup = propertyGroup;\n      Object.defineProperties(interfaceFunction, {\n        start: {\n          get: ExpressionPropertyInterface(view.s)\n        },\n        end: {\n          get: ExpressionPropertyInterface(view.e)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(view.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function transformInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.a.ix === value || value === 'Anchor Point') {\n          return interfaceFunction.anchorPoint;\n        }\n\n        if (shape.o.ix === value || value === 'Opacity') {\n          return interfaceFunction.opacity;\n        }\n\n        if (shape.p.ix === value || value === 'Position') {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value || value === 'Rotation' || value === 'ADBE Vector Rotation') {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.s.ix === value || value === 'Scale') {\n          return interfaceFunction.scale;\n        }\n\n        if (shape.sk && shape.sk.ix === value || value === 'Skew') {\n          return interfaceFunction.skew;\n        }\n\n        if (shape.sa && shape.sa.ix === value || value === 'Skew Axis') {\n          return interfaceFunction.skewAxis;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      view.transform.mProps.o.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      view.transform.mProps.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      view.transform.mProps.a.setGroupProperty(PropertyInterface('Anchor Point', _propertyGroup));\n      view.transform.mProps.s.setGroupProperty(PropertyInterface('Scale', _propertyGroup));\n      view.transform.mProps.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (view.transform.mProps.sk) {\n        view.transform.mProps.sk.setGroupProperty(PropertyInterface('Skew', _propertyGroup));\n        view.transform.mProps.sa.setGroupProperty(PropertyInterface('Skew Angle', _propertyGroup));\n      }\n\n      view.transform.op.setGroupProperty(PropertyInterface('Opacity', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        opacity: {\n          get: ExpressionPropertyInterface(view.transform.mProps.o)\n        },\n        position: {\n          get: ExpressionPropertyInterface(view.transform.mProps.p)\n        },\n        anchorPoint: {\n          get: ExpressionPropertyInterface(view.transform.mProps.a)\n        },\n        scale: {\n          get: ExpressionPropertyInterface(view.transform.mProps.s)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(view.transform.mProps.r)\n        },\n        skew: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sk)\n        },\n        skewAxis: {\n          get: ExpressionPropertyInterface(view.transform.mProps.sa)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.ty = 'tr';\n      interfaceFunction.mn = shape.mn;\n      interfaceFunction.propertyGroup = propertyGroup;\n      return interfaceFunction;\n    }\n\n    function ellipseInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.s.ix === value) {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      interfaceFunction.propertyIndex = shape.ix;\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function starInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.rotation;\n        }\n\n        if (shape.pt.ix === value) {\n          return interfaceFunction.points;\n        }\n\n        if (shape.or.ix === value || value === 'ADBE Vector Star Outer Radius') {\n          return interfaceFunction.outerRadius;\n        }\n\n        if (shape.os.ix === value) {\n          return interfaceFunction.outerRoundness;\n        }\n\n        if (shape.ir && (shape.ir.ix === value || value === 'ADBE Vector Star Inner Radius')) {\n          return interfaceFunction.innerRadius;\n        }\n\n        if (shape.is && shape.is.ix === value) {\n          return interfaceFunction.innerRoundness;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.or.setGroupProperty(PropertyInterface('Outer Radius', _propertyGroup));\n      prop.os.setGroupProperty(PropertyInterface('Outer Roundness', _propertyGroup));\n      prop.pt.setGroupProperty(PropertyInterface('Points', _propertyGroup));\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n\n      if (shape.ir) {\n        prop.ir.setGroupProperty(PropertyInterface('Inner Radius', _propertyGroup));\n        prop.is.setGroupProperty(PropertyInterface('Inner Roundness', _propertyGroup));\n      }\n\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        rotation: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        points: {\n          get: ExpressionPropertyInterface(prop.pt)\n        },\n        outerRadius: {\n          get: ExpressionPropertyInterface(prop.or)\n        },\n        outerRoundness: {\n          get: ExpressionPropertyInterface(prop.os)\n        },\n        innerRadius: {\n          get: ExpressionPropertyInterface(prop.ir)\n        },\n        innerRoundness: {\n          get: ExpressionPropertyInterface(prop.is)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function rectInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.p.ix === value) {\n          return interfaceFunction.position;\n        }\n\n        if (shape.r.ix === value) {\n          return interfaceFunction.roundness;\n        }\n\n        if (shape.s.ix === value || value === 'Size' || value === 'ADBE Vector Rect Size') {\n          return interfaceFunction.size;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view.sh.ty === 'tm' ? view.sh.prop : view.sh;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.p.setGroupProperty(PropertyInterface('Position', _propertyGroup));\n      prop.s.setGroupProperty(PropertyInterface('Size', _propertyGroup));\n      prop.r.setGroupProperty(PropertyInterface('Rotation', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        position: {\n          get: ExpressionPropertyInterface(prop.p)\n        },\n        roundness: {\n          get: ExpressionPropertyInterface(prop.r)\n        },\n        size: {\n          get: ExpressionPropertyInterface(prop.s)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function roundedInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.r.ix === value || value === 'Round Corners 1') {\n          return interfaceFunction.radius;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.rd.setGroupProperty(PropertyInterface('Radius', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        radius: {\n          get: ExpressionPropertyInterface(prop.rd)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    function repeaterInterfaceFactory(shape, view, propertyGroup) {\n      function interfaceFunction(value) {\n        if (shape.c.ix === value || value === 'Copies') {\n          return interfaceFunction.copies;\n        }\n\n        if (shape.o.ix === value || value === 'Offset') {\n          return interfaceFunction.offset;\n        }\n\n        return null;\n      }\n\n      var _propertyGroup = propertyGroupFactory(interfaceFunction, propertyGroup);\n\n      var prop = view;\n      interfaceFunction.propertyIndex = shape.ix;\n      prop.c.setGroupProperty(PropertyInterface('Copies', _propertyGroup));\n      prop.o.setGroupProperty(PropertyInterface('Offset', _propertyGroup));\n      Object.defineProperties(interfaceFunction, {\n        copies: {\n          get: ExpressionPropertyInterface(prop.c)\n        },\n        offset: {\n          get: ExpressionPropertyInterface(prop.o)\n        },\n        _name: {\n          value: shape.nm\n        }\n      });\n      interfaceFunction.mn = shape.mn;\n      return interfaceFunction;\n    }\n\n    return function (shapes, view, propertyGroup) {\n      var interfaces;\n\n      function _interfaceFunction(value) {\n        if (typeof value === 'number') {\n          value = value === undefined ? 1 : value;\n\n          if (value === 0) {\n            return propertyGroup;\n          }\n\n          return interfaces[value - 1];\n        }\n\n        var i = 0;\n        var len = interfaces.length;\n\n        while (i < len) {\n          if (interfaces[i]._name === value) {\n            return interfaces[i];\n          }\n\n          i += 1;\n        }\n\n        return null;\n      }\n\n      function parentGroupWrapper() {\n        return propertyGroup;\n      }\n\n      _interfaceFunction.propertyGroup = propertyGroupFactory(_interfaceFunction, parentGroupWrapper);\n      interfaces = iterateElements(shapes, view, _interfaceFunction.propertyGroup);\n      _interfaceFunction.numProperties = interfaces.length;\n      _interfaceFunction._name = 'Contents';\n      return _interfaceFunction;\n    };\n  }();\n\n  var TextExpressionInterface = function () {\n    return function (elem) {\n      var _sourceText;\n\n      function _thisLayerFunction(name) {\n        switch (name) {\n          case 'ADBE Text Document':\n            return _thisLayerFunction.sourceText;\n\n          default:\n            return null;\n        }\n      }\n\n      Object.defineProperty(_thisLayerFunction, 'sourceText', {\n        get: function get() {\n          elem.textProperty.getValue();\n          var stringValue = elem.textProperty.currentData.t;\n\n          if (!_sourceText || stringValue !== _sourceText.value) {\n            _sourceText = new String(stringValue); // eslint-disable-line no-new-wrappers\n            // If stringValue is an empty string, eval returns undefined, so it has to be returned as a String primitive\n\n            _sourceText.value = stringValue || new String(stringValue); // eslint-disable-line no-new-wrappers\n\n            Object.defineProperty(_sourceText, 'style', {\n              get: function get() {\n                return {\n                  fillColor: elem.textProperty.currentData.fc\n                };\n              }\n            });\n          }\n\n          return _sourceText;\n        }\n      });\n      return _thisLayerFunction;\n    };\n  }();\n\n  function _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n  var FootageInterface = function () {\n    var outlineInterfaceFactory = function outlineInterfaceFactory(elem) {\n      var currentPropertyName = '';\n      var currentProperty = elem.getFootageData();\n\n      function init() {\n        currentPropertyName = '';\n        currentProperty = elem.getFootageData();\n        return searchProperty;\n      }\n\n      function searchProperty(value) {\n        if (currentProperty[value]) {\n          currentPropertyName = value;\n          currentProperty = currentProperty[value];\n\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        var propertyNameIndex = value.indexOf(currentPropertyName);\n\n        if (propertyNameIndex !== -1) {\n          var index = parseInt(value.substr(propertyNameIndex + currentPropertyName.length), 10);\n          currentProperty = currentProperty[index];\n\n          if (_typeof(currentProperty) === 'object') {\n            return searchProperty;\n          }\n\n          return currentProperty;\n        }\n\n        return '';\n      }\n\n      return init;\n    };\n\n    var dataInterfaceFactory = function dataInterfaceFactory(elem) {\n      function interfaceFunction(value) {\n        if (value === 'Outline') {\n          return interfaceFunction.outlineInterface();\n        }\n\n        return null;\n      }\n\n      interfaceFunction._name = 'Outline';\n      interfaceFunction.outlineInterface = outlineInterfaceFactory(elem);\n      return interfaceFunction;\n    };\n\n    return function (elem) {\n      function _interfaceFunction(value) {\n        if (value === 'Data') {\n          return _interfaceFunction.dataInterface;\n        }\n\n        return null;\n      }\n\n      _interfaceFunction._name = 'Data';\n      _interfaceFunction.dataInterface = dataInterfaceFactory(elem);\n      return _interfaceFunction;\n    };\n  }();\n\n  var interfaces = {\n    layer: LayerExpressionInterface,\n    effects: EffectsExpressionInterface,\n    comp: CompExpressionInterface,\n    shape: ShapeExpressionInterface,\n    text: TextExpressionInterface,\n    footage: FootageInterface\n  };\n\n  function getInterface(type) {\n    return interfaces[type] || null;\n  }\n\n  var expressionHelpers = function () {\n    function searchExpressions(elem, data, prop) {\n      if (data.x) {\n        prop.k = true;\n        prop.x = true;\n        prop.initiateExpression = ExpressionManager.initiateExpression;\n        prop.effectsSequence.push(prop.initiateExpression(elem, data, prop).bind(prop));\n      }\n    }\n\n    function getValueAtTime(frameNum) {\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastFrame) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastFrame < frameNum ? this._cachingAtTime.lastIndex : 0;\n        this._cachingAtTime.value = this.interpolateValue(frameNum, this._cachingAtTime);\n        this._cachingAtTime.lastFrame = frameNum;\n      }\n\n      return this._cachingAtTime.value;\n    }\n\n    function getSpeedAtTime(frameNum) {\n      var delta = -0.01;\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var speed = 0;\n\n      if (v1.length) {\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          speed += Math.pow(v2[i] - v1[i], 2);\n        }\n\n        speed = Math.sqrt(speed) * 100;\n      } else {\n        speed = 0;\n      }\n\n      return speed;\n    }\n\n    function getVelocityAtTime(frameNum) {\n      if (this.vel !== undefined) {\n        return this.vel;\n      }\n\n      var delta = -0.001; // frameNum += this.elem.data.st;\n\n      var v1 = this.getValueAtTime(frameNum);\n      var v2 = this.getValueAtTime(frameNum + delta);\n      var velocity;\n\n      if (v1.length) {\n        velocity = createTypedArray('float32', v1.length);\n        var i;\n\n        for (i = 0; i < v1.length; i += 1) {\n          // removing frameRate\n          // if needed, don't add it here\n          // velocity[i] = this.elem.globalData.frameRate*((v2[i] - v1[i])/delta);\n          velocity[i] = (v2[i] - v1[i]) / delta;\n        }\n      } else {\n        velocity = (v2 - v1) / delta;\n      }\n\n      return velocity;\n    }\n\n    function getStaticValueAtTime() {\n      return this.pv;\n    }\n\n    function setGroupProperty(propertyGroup) {\n      this.propertyGroup = propertyGroup;\n    }\n\n    return {\n      searchExpressions: searchExpressions,\n      getSpeedAtTime: getSpeedAtTime,\n      getVelocityAtTime: getVelocityAtTime,\n      getValueAtTime: getValueAtTime,\n      getStaticValueAtTime: getStaticValueAtTime,\n      setGroupProperty: setGroupProperty\n    };\n  }();\n\n  function addPropertyDecorator() {\n    function loopOut(type, duration, durationFlag) {\n      if (!this.k || !this.keyframes) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var lastKeyFrame = keyframes[keyframes.length - 1].t;\n\n      if (currentFrame <= lastKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var firstKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        firstKeyFrame = keyframes[keyframes.length - 1 - duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, lastKeyFrame - this.elem.data.ip);\n        } else {\n          cycleDuration = Math.abs(lastKeyFrame - this.elem.comp.globalData.frameRate * duration);\n        }\n\n        firstKeyFrame = lastKeyFrame - cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (iterations % 2 !== 0) {\n          return this.getValueAtTime((cycleDuration - (currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n\n        var repeats = Math.floor((currentFrame - firstKeyFrame) / cycleDuration);\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = (endV[i] - initV[i]) * repeats + current[i];\n          }\n\n          return ret;\n        }\n\n        return (endV - initV) * repeats + current;\n      } else if (type === 'continue') {\n        var lastValue = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextLastValue = this.getValueAtTime((lastKeyFrame - 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(lastValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = lastValue[i] + (lastValue[i] - nextLastValue[i]) * ((currentFrame - lastKeyFrame) / this.comp.globalData.frameRate) / 0.0005; // eslint-disable-line\n          }\n\n          return ret;\n        }\n\n        return lastValue + (lastValue - nextLastValue) * ((currentFrame - lastKeyFrame) / 0.001);\n      }\n\n      return this.getValueAtTime(((currentFrame - firstKeyFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function loopIn(type, duration, durationFlag) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      type = type ? type.toLowerCase() : '';\n      var currentFrame = this.comp.renderedFrame;\n      var keyframes = this.keyframes;\n      var firstKeyFrame = keyframes[0].t;\n\n      if (currentFrame >= firstKeyFrame) {\n        return this.pv;\n      }\n\n      var cycleDuration;\n      var lastKeyFrame;\n\n      if (!durationFlag) {\n        if (!duration || duration > keyframes.length - 1) {\n          duration = keyframes.length - 1;\n        }\n\n        lastKeyFrame = keyframes[duration].t;\n        cycleDuration = lastKeyFrame - firstKeyFrame;\n      } else {\n        if (!duration) {\n          cycleDuration = Math.max(0, this.elem.data.op - firstKeyFrame);\n        } else {\n          cycleDuration = Math.abs(this.elem.comp.globalData.frameRate * duration);\n        }\n\n        lastKeyFrame = firstKeyFrame + cycleDuration;\n      }\n\n      var i;\n      var len;\n      var ret;\n\n      if (type === 'pingpong') {\n        var iterations = Math.floor((firstKeyFrame - currentFrame) / cycleDuration);\n\n        if (iterations % 2 === 0) {\n          return this.getValueAtTime(((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n        }\n      } else if (type === 'offset') {\n        var initV = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var endV = this.getValueAtTime(lastKeyFrame / this.comp.globalData.frameRate, 0);\n        var current = this.getValueAtTime((cycleDuration - (firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame) / this.comp.globalData.frameRate, 0);\n        var repeats = Math.floor((firstKeyFrame - currentFrame) / cycleDuration) + 1;\n\n        if (this.pv.length) {\n          ret = new Array(initV.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = current[i] - (endV[i] - initV[i]) * repeats;\n          }\n\n          return ret;\n        }\n\n        return current - (endV - initV) * repeats;\n      } else if (type === 'continue') {\n        var firstValue = this.getValueAtTime(firstKeyFrame / this.comp.globalData.frameRate, 0);\n        var nextFirstValue = this.getValueAtTime((firstKeyFrame + 0.001) / this.comp.globalData.frameRate, 0);\n\n        if (this.pv.length) {\n          ret = new Array(firstValue.length);\n          len = ret.length;\n\n          for (i = 0; i < len; i += 1) {\n            ret[i] = firstValue[i] + (firstValue[i] - nextFirstValue[i]) * (firstKeyFrame - currentFrame) / 0.001;\n          }\n\n          return ret;\n        }\n\n        return firstValue + (firstValue - nextFirstValue) * (firstKeyFrame - currentFrame) / 0.001;\n      }\n\n      return this.getValueAtTime((cycleDuration - ((firstKeyFrame - currentFrame) % cycleDuration + firstKeyFrame)) / this.comp.globalData.frameRate, 0); // eslint-disable-line\n    }\n\n    function smooth(width, samples) {\n      if (!this.k) {\n        return this.pv;\n      }\n\n      width = (width || 0.4) * 0.5;\n      samples = Math.floor(samples || 5);\n\n      if (samples <= 1) {\n        return this.pv;\n      }\n\n      var currentTime = this.comp.renderedFrame / this.comp.globalData.frameRate;\n      var initFrame = currentTime - width;\n      var endFrame = currentTime + width;\n      var sampleFrequency = samples > 1 ? (endFrame - initFrame) / (samples - 1) : 1;\n      var i = 0;\n      var j = 0;\n      var value;\n\n      if (this.pv.length) {\n        value = createTypedArray('float32', this.pv.length);\n      } else {\n        value = 0;\n      }\n\n      var sampleValue;\n\n      while (i < samples) {\n        sampleValue = this.getValueAtTime(initFrame + i * sampleFrequency);\n\n        if (this.pv.length) {\n          for (j = 0; j < this.pv.length; j += 1) {\n            value[j] += sampleValue[j];\n          }\n        } else {\n          value += sampleValue;\n        }\n\n        i += 1;\n      }\n\n      if (this.pv.length) {\n        for (j = 0; j < this.pv.length; j += 1) {\n          value[j] /= samples;\n        }\n      } else {\n        value /= samples;\n      }\n\n      return value;\n    }\n\n    function getTransformValueAtTime(time) {\n      if (!this._transformCachingAtTime) {\n        this._transformCachingAtTime = {\n          v: new Matrix()\n        };\n      } /// /\n\n\n      var matrix = this._transformCachingAtTime.v;\n      matrix.cloneFromProps(this.pre.props);\n\n      if (this.appliedTransformations < 1) {\n        var anchor = this.a.getValueAtTime(time);\n        matrix.translate(-anchor[0] * this.a.mult, -anchor[1] * this.a.mult, anchor[2] * this.a.mult);\n      }\n\n      if (this.appliedTransformations < 2) {\n        var scale = this.s.getValueAtTime(time);\n        matrix.scale(scale[0] * this.s.mult, scale[1] * this.s.mult, scale[2] * this.s.mult);\n      }\n\n      if (this.sk && this.appliedTransformations < 3) {\n        var skew = this.sk.getValueAtTime(time);\n        var skewAxis = this.sa.getValueAtTime(time);\n        matrix.skewFromAxis(-skew * this.sk.mult, skewAxis * this.sa.mult);\n      }\n\n      if (this.r && this.appliedTransformations < 4) {\n        var rotation = this.r.getValueAtTime(time);\n        matrix.rotate(-rotation * this.r.mult);\n      } else if (!this.r && this.appliedTransformations < 4) {\n        var rotationZ = this.rz.getValueAtTime(time);\n        var rotationY = this.ry.getValueAtTime(time);\n        var rotationX = this.rx.getValueAtTime(time);\n        var orientation = this.or.getValueAtTime(time);\n        matrix.rotateZ(-rotationZ * this.rz.mult).rotateY(rotationY * this.ry.mult).rotateX(rotationX * this.rx.mult).rotateZ(-orientation[2] * this.or.mult).rotateY(orientation[1] * this.or.mult).rotateX(orientation[0] * this.or.mult);\n      }\n\n      if (this.data.p && this.data.p.s) {\n        var positionX = this.px.getValueAtTime(time);\n        var positionY = this.py.getValueAtTime(time);\n\n        if (this.data.p.z) {\n          var positionZ = this.pz.getValueAtTime(time);\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, -positionZ * this.pz.mult);\n        } else {\n          matrix.translate(positionX * this.px.mult, positionY * this.py.mult, 0);\n        }\n      } else {\n        var position = this.p.getValueAtTime(time);\n        matrix.translate(position[0] * this.p.mult, position[1] * this.p.mult, -position[2] * this.p.mult);\n      }\n\n      return matrix; /// /\n    }\n\n    function getTransformStaticValueAtTime() {\n      return this.v.clone(new Matrix());\n    }\n\n    var getTransformProperty = TransformPropertyFactory.getTransformProperty;\n\n    TransformPropertyFactory.getTransformProperty = function (elem, data, container) {\n      var prop = getTransformProperty(elem, data, container);\n\n      if (prop.dynamicProperties.length) {\n        prop.getValueAtTime = getTransformValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = getTransformStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      return prop;\n    };\n\n    var propertyGetProp = PropertyFactory.getProp;\n\n    PropertyFactory.getProp = function (elem, data, type, mult, container) {\n      var prop = propertyGetProp(elem, data, type, mult, container); // prop.getVelocityAtTime = getVelocityAtTime;\n      // prop.loopOut = loopOut;\n      // prop.loopIn = loopIn;\n\n      if (prop.kf) {\n        prop.getValueAtTime = expressionHelpers.getValueAtTime.bind(prop);\n      } else {\n        prop.getValueAtTime = expressionHelpers.getStaticValueAtTime.bind(prop);\n      }\n\n      prop.setGroupProperty = expressionHelpers.setGroupProperty;\n      prop.loopOut = loopOut;\n      prop.loopIn = loopIn;\n      prop.smooth = smooth;\n      prop.getVelocityAtTime = expressionHelpers.getVelocityAtTime.bind(prop);\n      prop.getSpeedAtTime = expressionHelpers.getSpeedAtTime.bind(prop);\n      prop.numKeys = data.a === 1 ? data.k.length : 0;\n      prop.propertyIndex = data.ix;\n      var value = 0;\n\n      if (type !== 0) {\n        value = createTypedArray('float32', data.a === 1 ? data.k[0].s.length : data.k.length);\n      }\n\n      prop._cachingAtTime = {\n        lastFrame: initialDefaultFrame,\n        lastIndex: 0,\n        value: value\n      };\n      expressionHelpers.searchExpressions(elem, data, prop);\n\n      if (prop.k) {\n        container.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n\n    function getShapeValueAtTime(frameNum) {\n      // For now this caching object is created only when needed instead of creating it when the shape is initialized.\n      if (!this._cachingAtTime) {\n        this._cachingAtTime = {\n          shapeValue: shapePool.clone(this.pv),\n          lastIndex: 0,\n          lastTime: initialDefaultFrame\n        };\n      }\n\n      frameNum *= this.elem.globalData.frameRate;\n      frameNum -= this.offsetTime;\n\n      if (frameNum !== this._cachingAtTime.lastTime) {\n        this._cachingAtTime.lastIndex = this._cachingAtTime.lastTime < frameNum ? this._caching.lastIndex : 0;\n        this._cachingAtTime.lastTime = frameNum;\n        this.interpolateShape(frameNum, this._cachingAtTime.shapeValue, this._cachingAtTime);\n      }\n\n      return this._cachingAtTime.shapeValue;\n    }\n\n    var ShapePropertyConstructorFunction = ShapePropertyFactory.getConstructorFunction();\n    var KeyframedShapePropertyConstructorFunction = ShapePropertyFactory.getKeyframedConstructorFunction();\n\n    function ShapeExpressions() {}\n\n    ShapeExpressions.prototype = {\n      vertices: function vertices(prop, time) {\n        if (this.k) {\n          this.getValue();\n        }\n\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        var i;\n        var len = shapePath._length;\n        var vertices = shapePath[prop];\n        var points = shapePath.v;\n        var arr = createSizedArray(len);\n\n        for (i = 0; i < len; i += 1) {\n          if (prop === 'i' || prop === 'o') {\n            arr[i] = [vertices[i][0] - points[i][0], vertices[i][1] - points[i][1]];\n          } else {\n            arr[i] = [vertices[i][0], vertices[i][1]];\n          }\n        }\n\n        return arr;\n      },\n      points: function points(time) {\n        return this.vertices('v', time);\n      },\n      inTangents: function inTangents(time) {\n        return this.vertices('i', time);\n      },\n      outTangents: function outTangents(time) {\n        return this.vertices('o', time);\n      },\n      isClosed: function isClosed() {\n        return this.v.c;\n      },\n      pointOnPath: function pointOnPath(perc, time) {\n        var shapePath = this.v;\n\n        if (time !== undefined) {\n          shapePath = this.getValueAtTime(time, 0);\n        }\n\n        if (!this._segmentsLength) {\n          this._segmentsLength = bez.getSegmentsLength(shapePath);\n        }\n\n        var segmentsLength = this._segmentsLength;\n        var lengths = segmentsLength.lengths;\n        var lengthPos = segmentsLength.totalLength * perc;\n        var i = 0;\n        var len = lengths.length;\n        var accumulatedLength = 0;\n        var pt;\n\n        while (i < len) {\n          if (accumulatedLength + lengths[i].addedLength > lengthPos) {\n            var initIndex = i;\n            var endIndex = shapePath.c && i === len - 1 ? 0 : i + 1;\n            var segmentPerc = (lengthPos - accumulatedLength) / lengths[i].addedLength;\n            pt = bez.getPointInSegment(shapePath.v[initIndex], shapePath.v[endIndex], shapePath.o[initIndex], shapePath.i[endIndex], segmentPerc, lengths[i]);\n            break;\n          } else {\n            accumulatedLength += lengths[i].addedLength;\n          }\n\n          i += 1;\n        }\n\n        if (!pt) {\n          pt = shapePath.c ? [shapePath.v[0][0], shapePath.v[0][1]] : [shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1]];\n        }\n\n        return pt;\n      },\n      vectorOnPath: function vectorOnPath(perc, time, vectorType) {\n        // perc doesn't use triple equality because it can be a Number object as well as a primitive.\n        if (perc == 1) {\n          // eslint-disable-line eqeqeq\n          perc = this.v.c;\n        } else if (perc == 0) {\n          // eslint-disable-line eqeqeq\n          perc = 0.999;\n        }\n\n        var pt1 = this.pointOnPath(perc, time);\n        var pt2 = this.pointOnPath(perc + 0.001, time);\n        var xLength = pt2[0] - pt1[0];\n        var yLength = pt2[1] - pt1[1];\n        var magnitude = Math.sqrt(Math.pow(xLength, 2) + Math.pow(yLength, 2));\n\n        if (magnitude === 0) {\n          return [0, 0];\n        }\n\n        var unitVector = vectorType === 'tangent' ? [xLength / magnitude, yLength / magnitude] : [-yLength / magnitude, xLength / magnitude];\n        return unitVector;\n      },\n      tangentOnPath: function tangentOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'tangent');\n      },\n      normalOnPath: function normalOnPath(perc, time) {\n        return this.vectorOnPath(perc, time, 'normal');\n      },\n      setGroupProperty: expressionHelpers.setGroupProperty,\n      getValueAtTime: expressionHelpers.getStaticValueAtTime\n    };\n    extendPrototype([ShapeExpressions], ShapePropertyConstructorFunction);\n    extendPrototype([ShapeExpressions], KeyframedShapePropertyConstructorFunction);\n    KeyframedShapePropertyConstructorFunction.prototype.getValueAtTime = getShapeValueAtTime;\n    KeyframedShapePropertyConstructorFunction.prototype.initiateExpression = ExpressionManager.initiateExpression;\n    var propertyGetShapeProp = ShapePropertyFactory.getShapeProp;\n\n    ShapePropertyFactory.getShapeProp = function (elem, data, type, arr, trims) {\n      var prop = propertyGetShapeProp(elem, data, type, arr, trims);\n      prop.propertyIndex = data.ix;\n      prop.lock = false;\n\n      if (type === 3) {\n        expressionHelpers.searchExpressions(elem, data.pt, prop);\n      } else if (type === 4) {\n        expressionHelpers.searchExpressions(elem, data.ks, prop);\n      }\n\n      if (prop.k) {\n        elem.addDynamicProperty(prop);\n      }\n\n      return prop;\n    };\n  }\n\n  function initialize$1() {\n    addPropertyDecorator();\n  }\n\n  function addDecorator() {\n    function searchExpressions() {\n      if (this.data.d.x) {\n        this.calculateExpression = ExpressionManager.initiateExpression.bind(this)(this.elem, this.data.d, this);\n        this.addEffect(this.getExpressionValue.bind(this));\n        return true;\n      }\n\n      return null;\n    }\n\n    TextProperty.prototype.getExpressionValue = function (currentValue, text) {\n      var newValue = this.calculateExpression(text);\n\n      if (currentValue.t !== newValue) {\n        var newData = {};\n        this.copyData(newData, currentValue);\n        newData.t = newValue.toString();\n        newData.__complete = false;\n        return newData;\n      }\n\n      return currentValue;\n    };\n\n    TextProperty.prototype.searchProperty = function () {\n      var isKeyframed = this.searchKeyframes();\n      var hasExpressions = this.searchExpressions();\n      this.kf = isKeyframed || hasExpressions;\n      return this.kf;\n    };\n\n    TextProperty.prototype.searchExpressions = searchExpressions;\n  }\n\n  function initialize() {\n    addDecorator();\n  }\n\n  function SVGComposableEffect() {}\n\n  SVGComposableEffect.prototype = {\n    createMergeNode: function createMergeNode(resultId, ins) {\n      var feMerge = createNS('feMerge');\n      feMerge.setAttribute('result', resultId);\n      var feMergeNode;\n      var i;\n\n      for (i = 0; i < ins.length; i += 1) {\n        feMergeNode = createNS('feMergeNode');\n        feMergeNode.setAttribute('in', ins[i]);\n        feMerge.appendChild(feMergeNode);\n        feMerge.appendChild(feMergeNode);\n      }\n\n      return feMerge;\n    }\n  };\n\n  var linearFilterValue = '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0';\n\n  function SVGTintFilter(filter, filterManager, elem, id, source) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', linearFilterValue + ' 1 0');\n    this.linearFilter = feColorMatrix;\n    feColorMatrix.setAttribute('result', id + '_tint_1');\n    filter.appendChild(feColorMatrix);\n    feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id + '_tint_2');\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n    var feMerge = this.createMergeNode(id, [source, id + '_tint_1', id + '_tint_2']);\n    filter.appendChild(feMerge);\n  }\n\n  extendPrototype([SVGComposableEffect], SVGTintFilter);\n\n  SVGTintFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var colorBlack = this.filterManager.effectElements[0].p.v;\n      var colorWhite = this.filterManager.effectElements[1].p.v;\n      var opacity = this.filterManager.effectElements[2].p.v / 100;\n      this.linearFilter.setAttribute('values', linearFilterValue + ' ' + opacity + ' 0');\n      this.matrixFilter.setAttribute('values', colorWhite[0] - colorBlack[0] + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 1 0');\n    }\n  };\n\n  function SVGFillFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\n    feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\n    feColorMatrix.setAttribute('result', id);\n    filter.appendChild(feColorMatrix);\n    this.matrixFilter = feColorMatrix;\n  }\n\n  SVGFillFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color = this.filterManager.effectElements[2].p.v;\n      var opacity = this.filterManager.effectElements[6].p.v;\n      this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\n    }\n  };\n\n  function SVGStrokeEffect(fil, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.elem = elem;\n    this.paths = [];\n  }\n\n  SVGStrokeEffect.prototype.initialize = function () {\n    var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n    var path;\n    var groupPath;\n    var i;\n    var len;\n\n    if (this.filterManager.effectElements[1].p.v === 1) {\n      len = this.elem.maskManager.masksProperties.length;\n      i = 0;\n    } else {\n      i = this.filterManager.effectElements[0].p.v - 1;\n      len = i + 1;\n    }\n\n    groupPath = createNS('g');\n    groupPath.setAttribute('fill', 'none');\n    groupPath.setAttribute('stroke-linecap', 'round');\n    groupPath.setAttribute('stroke-dashoffset', 1);\n\n    for (i; i < len; i += 1) {\n      path = createNS('path');\n      groupPath.appendChild(path);\n      this.paths.push({\n        p: path,\n        m: i\n      });\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 3) {\n      var mask = createNS('mask');\n      var id = createElementID();\n      mask.setAttribute('id', id);\n      mask.setAttribute('mask-type', 'alpha');\n      mask.appendChild(groupPath);\n      this.elem.globalData.defs.appendChild(mask);\n      var g = createNS('g');\n      g.setAttribute('mask', 'url(' + getLocationHref() + '#' + id + ')');\n\n      while (elemChildren[0]) {\n        g.appendChild(elemChildren[0]);\n      }\n\n      this.elem.layerElement.appendChild(g);\n      this.masker = mask;\n      groupPath.setAttribute('stroke', '#fff');\n    } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (this.filterManager.effectElements[10].p.v === 2) {\n        elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\n\n        while (elemChildren.length) {\n          this.elem.layerElement.removeChild(elemChildren[0]);\n        }\n      }\n\n      this.elem.layerElement.appendChild(groupPath);\n      this.elem.layerElement.removeAttribute('mask');\n      groupPath.setAttribute('stroke', '#fff');\n    }\n\n    this.initialized = true;\n    this.pathMasker = groupPath;\n  };\n\n  SVGStrokeEffect.prototype.renderFrame = function (forceRender) {\n    if (!this.initialized) {\n      this.initialize();\n    }\n\n    var i;\n    var len = this.paths.length;\n    var mask;\n    var path;\n\n    for (i = 0; i < len; i += 1) {\n      if (this.paths[i].m !== -1) {\n        mask = this.elem.maskManager.viewData[this.paths[i].m];\n        path = this.paths[i].p;\n\n        if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\n          path.setAttribute('d', mask.lastPath);\n        }\n\n        if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\n          var dasharrayValue;\n\n          if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\n            var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\n            var l = path.getTotalLength();\n            dasharrayValue = '0 0 0 ' + l * s + ' ';\n            var lineLength = l * (e - s);\n            var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n            var units = Math.floor(lineLength / segment);\n            var j;\n\n            for (j = 0; j < units; j += 1) {\n              dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\n            }\n\n            dasharrayValue += '0 ' + l * 10 + ' 0 0';\n          } else {\n            dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\n          }\n\n          path.setAttribute('stroke-dasharray', dasharrayValue);\n        }\n      }\n    }\n\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n      this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\n    }\n\n    if (forceRender || this.filterManager.effectElements[6].p._mdf) {\n      this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\n    }\n\n    if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\n      if (forceRender || this.filterManager.effectElements[3].p._mdf) {\n        var color = this.filterManager.effectElements[3].p.v;\n        this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\n      }\n    }\n  };\n\n  function SVGTritoneFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var feColorMatrix = createNS('feColorMatrix');\n    feColorMatrix.setAttribute('type', 'matrix');\n    feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\n    feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\n    filter.appendChild(feColorMatrix);\n    var feComponentTransfer = createNS('feComponentTransfer');\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n    feComponentTransfer.setAttribute('result', id);\n    this.matrixFilter = feComponentTransfer;\n    var feFuncR = createNS('feFuncR');\n    feFuncR.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncR);\n    this.feFuncR = feFuncR;\n    var feFuncG = createNS('feFuncG');\n    feFuncG.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncG);\n    this.feFuncG = feFuncG;\n    var feFuncB = createNS('feFuncB');\n    feFuncB.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFuncB);\n    this.feFuncB = feFuncB;\n    filter.appendChild(feComponentTransfer);\n  }\n\n  SVGTritoneFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var color1 = this.filterManager.effectElements[0].p.v;\n      var color2 = this.filterManager.effectElements[1].p.v;\n      var color3 = this.filterManager.effectElements[2].p.v;\n      var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\n      var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\n      var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\n      this.feFuncR.setAttribute('tableValues', tableR);\n      this.feFuncG.setAttribute('tableValues', tableG);\n      this.feFuncB.setAttribute('tableValues', tableB);\n    }\n  };\n\n  function SVGProLevelsFilter(filter, filterManager, elem, id) {\n    this.filterManager = filterManager;\n    var effectElements = this.filterManager.effectElements;\n    var feComponentTransfer = createNS('feComponentTransfer'); // Red\n\n    if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\n      this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\n    } // Green\n\n\n    if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\n      this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\n    } // Blue\n\n\n    if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\n      this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\n    } // Alpha\n\n\n    if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\n      this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\n    } // RGB\n\n\n    if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      filter.appendChild(feComponentTransfer);\n    }\n\n    if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\n      feComponentTransfer = createNS('feComponentTransfer');\n      feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\n      feComponentTransfer.setAttribute('result', id);\n      filter.appendChild(feComponentTransfer);\n      this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\n      this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\n      this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\n    }\n  }\n\n  SVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\n    var feFunc = createNS(type);\n    feFunc.setAttribute('type', 'table');\n    feComponentTransfer.appendChild(feFunc);\n    return feFunc;\n  };\n\n  SVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\n    var cnt = 0;\n    var segments = 256;\n    var perc;\n    var min = Math.min(inputBlack, inputWhite);\n    var max = Math.max(inputBlack, inputWhite);\n    var table = Array.call(null, {\n      length: segments\n    });\n    var colorValue;\n    var pos = 0;\n    var outputDelta = outputWhite - outputBlack;\n    var inputDelta = inputWhite - inputBlack;\n\n    while (cnt <= 256) {\n      perc = cnt / 256;\n\n      if (perc <= min) {\n        colorValue = inputDelta < 0 ? outputWhite : outputBlack;\n      } else if (perc >= max) {\n        colorValue = inputDelta < 0 ? outputBlack : outputWhite;\n      } else {\n        colorValue = outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma);\n      }\n\n      table[pos] = colorValue;\n      pos += 1;\n      cnt += 256 / (segments - 1);\n    }\n\n    return table.join(' ');\n  };\n\n  SVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      var val;\n      var effectElements = this.filterManager.effectElements;\n\n      if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\n        val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\n        this.feFuncRComposed.setAttribute('tableValues', val);\n        this.feFuncGComposed.setAttribute('tableValues', val);\n        this.feFuncBComposed.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\n        val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\n        this.feFuncR.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\n        val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\n        this.feFuncG.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\n        val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\n        this.feFuncB.setAttribute('tableValues', val);\n      }\n\n      if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\n        val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\n        this.feFuncA.setAttribute('tableValues', val);\n      }\n    }\n  };\n\n  function SVGDropShadowEffect(filter, filterManager, elem, id, source) {\n    var globalFilterSize = filterManager.container.globalData.renderConfig.filterSize;\n    var filterSize = filterManager.data.fs || globalFilterSize;\n    filter.setAttribute('x', filterSize.x || globalFilterSize.x);\n    filter.setAttribute('y', filterSize.y || globalFilterSize.y);\n    filter.setAttribute('width', filterSize.width || globalFilterSize.width);\n    filter.setAttribute('height', filterSize.height || globalFilterSize.height);\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('in', 'SourceAlpha');\n    feGaussianBlur.setAttribute('result', id + '_drop_shadow_1');\n    feGaussianBlur.setAttribute('stdDeviation', '0');\n    this.feGaussianBlur = feGaussianBlur;\n    filter.appendChild(feGaussianBlur);\n    var feOffset = createNS('feOffset');\n    feOffset.setAttribute('dx', '25');\n    feOffset.setAttribute('dy', '0');\n    feOffset.setAttribute('in', id + '_drop_shadow_1');\n    feOffset.setAttribute('result', id + '_drop_shadow_2');\n    this.feOffset = feOffset;\n    filter.appendChild(feOffset);\n    var feFlood = createNS('feFlood');\n    feFlood.setAttribute('flood-color', '#00ff00');\n    feFlood.setAttribute('flood-opacity', '1');\n    feFlood.setAttribute('result', id + '_drop_shadow_3');\n    this.feFlood = feFlood;\n    filter.appendChild(feFlood);\n    var feComposite = createNS('feComposite');\n    feComposite.setAttribute('in', id + '_drop_shadow_3');\n    feComposite.setAttribute('in2', id + '_drop_shadow_2');\n    feComposite.setAttribute('operator', 'in');\n    feComposite.setAttribute('result', id + '_drop_shadow_4');\n    filter.appendChild(feComposite);\n    var feMerge = this.createMergeNode(id, [id + '_drop_shadow_4', source]);\n    filter.appendChild(feMerge); //\n  }\n\n  extendPrototype([SVGComposableEffect], SVGDropShadowEffect);\n\n  SVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      if (forceRender || this.filterManager.effectElements[4].p._mdf) {\n        this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\n      }\n\n      if (forceRender || this.filterManager.effectElements[0].p._mdf) {\n        var col = this.filterManager.effectElements[0].p.v;\n        this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\n      }\n\n      if (forceRender || this.filterManager.effectElements[1].p._mdf) {\n        this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\n      }\n\n      if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\n        var distance = this.filterManager.effectElements[3].p.v;\n        var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\n        var x = distance * Math.cos(angle);\n        var y = distance * Math.sin(angle);\n        this.feOffset.setAttribute('dx', x);\n        this.feOffset.setAttribute('dy', y);\n      }\n    }\n  };\n\n  var _svgMatteSymbols = [];\n\n  function SVGMatte3Effect(filterElem, filterManager, elem) {\n    this.initialized = false;\n    this.filterManager = filterManager;\n    this.filterElem = filterElem;\n    this.elem = elem;\n    elem.matteElement = createNS('g');\n    elem.matteElement.appendChild(elem.layerElement);\n    elem.matteElement.appendChild(elem.transformedElement);\n    elem.baseElement = elem.matteElement;\n  }\n\n  SVGMatte3Effect.prototype.findSymbol = function (mask) {\n    var i = 0;\n    var len = _svgMatteSymbols.length;\n\n    while (i < len) {\n      if (_svgMatteSymbols[i] === mask) {\n        return _svgMatteSymbols[i];\n      }\n\n      i += 1;\n    }\n\n    return null;\n  };\n\n  SVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\n    var parentNode = mask.layerElement.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    var children = parentNode.children;\n    var i = 0;\n    var len = children.length;\n\n    while (i < len) {\n      if (children[i] === mask.layerElement) {\n        break;\n      }\n\n      i += 1;\n    }\n\n    var nextChild;\n\n    if (i <= len - 2) {\n      nextChild = children[i + 1];\n    }\n\n    var useElem = createNS('use');\n    useElem.setAttribute('href', '#' + symbolId);\n\n    if (nextChild) {\n      parentNode.insertBefore(useElem, nextChild);\n    } else {\n      parentNode.appendChild(useElem);\n    }\n  };\n\n  SVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\n    if (!this.findSymbol(mask)) {\n      var symbolId = createElementID();\n      var masker = createNS('mask');\n      masker.setAttribute('id', mask.layerId);\n      masker.setAttribute('mask-type', 'alpha');\n\n      _svgMatteSymbols.push(mask);\n\n      var defs = elem.globalData.defs;\n      defs.appendChild(masker);\n      var symbol = createNS('symbol');\n      symbol.setAttribute('id', symbolId);\n      this.replaceInParent(mask, symbolId);\n      symbol.appendChild(mask.layerElement);\n      defs.appendChild(symbol);\n      var useElem = createNS('use');\n      useElem.setAttribute('href', '#' + symbolId);\n      masker.appendChild(useElem);\n      mask.data.hd = false;\n      mask.show();\n    }\n\n    elem.setMatte(mask.layerId);\n  };\n\n  SVGMatte3Effect.prototype.initialize = function () {\n    var ind = this.filterManager.effectElements[0].p.v;\n    var elements = this.elem.comp.elements;\n    var i = 0;\n    var len = elements.length;\n\n    while (i < len) {\n      if (elements[i] && elements[i].data.ind === ind) {\n        this.setElementAsMask(this.elem, elements[i]);\n      }\n\n      i += 1;\n    }\n\n    this.initialized = true;\n  };\n\n  SVGMatte3Effect.prototype.renderFrame = function () {\n    if (!this.initialized) {\n      this.initialize();\n    }\n  };\n\n  function SVGGaussianBlurEffect(filter, filterManager, elem, id) {\n    // Outset the filter region by 100% on all sides to accommodate blur expansion.\n    filter.setAttribute('x', '-100%');\n    filter.setAttribute('y', '-100%');\n    filter.setAttribute('width', '300%');\n    filter.setAttribute('height', '300%');\n    this.filterManager = filterManager;\n    var feGaussianBlur = createNS('feGaussianBlur');\n    feGaussianBlur.setAttribute('result', id);\n    filter.appendChild(feGaussianBlur);\n    this.feGaussianBlur = feGaussianBlur;\n  }\n\n  SVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\n    if (forceRender || this.filterManager._mdf) {\n      // Empirical value, matching AE's blur appearance.\n      var kBlurrinessToSigma = 0.3;\n      var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma; // Dimensions mapping:\n      //\n      //   1 -> horizontal & vertical\n      //   2 -> horizontal only\n      //   3 -> vertical only\n      //\n\n      var dimensions = this.filterManager.effectElements[1].p.v;\n      var sigmaX = dimensions == 3 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      var sigmaY = dimensions == 2 ? 0 : sigma; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY); // Repeat edges mapping:\n      //\n      //   0 -> off -> duplicate\n      //   1 -> on  -> wrap\n\n      var edgeMode = this.filterManager.effectElements[2].p.v == 1 ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\n\n      this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\n    }\n  };\n\n  function TransformEffect() {}\n\n  TransformEffect.prototype.init = function (effectsManager) {\n    this.effectsManager = effectsManager;\n    this.type = effectTypes.TRANSFORM_EFFECT;\n    this.matrix = new Matrix();\n    this.opacity = -1;\n    this._mdf = false;\n    this._opMdf = false;\n  };\n\n  TransformEffect.prototype.renderFrame = function (forceFrame) {\n    this._opMdf = false;\n    this._mdf = false;\n\n    if (forceFrame || this.effectsManager._mdf) {\n      var effectElements = this.effectsManager.effectElements;\n      var anchor = effectElements[0].p.v;\n      var position = effectElements[1].p.v;\n      var isUniformScale = effectElements[2].p.v === 1;\n      var scaleHeight = effectElements[3].p.v;\n      var scaleWidth = isUniformScale ? scaleHeight : effectElements[4].p.v;\n      var skew = effectElements[5].p.v;\n      var skewAxis = effectElements[6].p.v;\n      var rotation = effectElements[7].p.v;\n      this.matrix.reset();\n      this.matrix.translate(-anchor[0], -anchor[1], anchor[2]);\n      this.matrix.scale(scaleWidth * 0.01, scaleHeight * 0.01, 1);\n      this.matrix.rotate(-rotation * degToRads);\n      this.matrix.skewFromAxis(-skew * degToRads, (skewAxis + 90) * degToRads);\n      this.matrix.translate(position[0], position[1], 0);\n      this._mdf = true;\n\n      if (this.opacity !== effectElements[8].p.v) {\n        this.opacity = effectElements[8].p.v;\n        this._opMdf = true;\n      }\n    }\n  };\n\n  function SVGTransformEffect(_, filterManager) {\n    this.init(filterManager);\n  }\n\n  extendPrototype([TransformEffect], SVGTransformEffect);\n\n  function CVTransformEffect(effectsManager) {\n    this.init(effectsManager);\n  }\n\n  extendPrototype([TransformEffect], CVTransformEffect);\n\n  registerRenderer('canvas', CanvasRenderer);\n  registerRenderer('html', HybridRenderer);\n  registerRenderer('svg', SVGRenderer); // Registering shape modifiers\n\n  ShapeModifiers.registerModifier('tm', TrimModifier);\n  ShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\n  ShapeModifiers.registerModifier('rp', RepeaterModifier);\n  ShapeModifiers.registerModifier('rd', RoundCornersModifier);\n  ShapeModifiers.registerModifier('zz', ZigZagModifier);\n  ShapeModifiers.registerModifier('op', OffsetPathModifier); // Registering expression plugin\n\n  setExpressionsPlugin(Expressions);\n  setExpressionInterfaces(getInterface);\n  initialize$1();\n  initialize(); // Registering svg effects\n\n  registerEffect$1(20, SVGTintFilter, true);\n  registerEffect$1(21, SVGFillFilter, true);\n  registerEffect$1(22, SVGStrokeEffect, false);\n  registerEffect$1(23, SVGTritoneFilter, true);\n  registerEffect$1(24, SVGProLevelsFilter, true);\n  registerEffect$1(25, SVGDropShadowEffect, true);\n  registerEffect$1(28, SVGMatte3Effect, false);\n  registerEffect$1(29, SVGGaussianBlurEffect, true);\n  registerEffect$1(35, SVGTransformEffect, false);\n  registerEffect(35, CVTransformEffect);\n\n  return lottie;\n\n}));\n",null,null,"function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n",null,null,null,null],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","f","y","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","v","op","pop","push","__createBinding","o","m","k","k2","undefined","enumerable","get","__exportStar","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__spreadArray","to","from","pack","l","slice","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__esModule","__importDefault","default","__classPrivateFieldGet","receiver","state","kind","has","__classPrivateFieldSet","set","navigator","global","factory","module","exports","svgNS","locationHref","_useWebWorker","initialDefaultFrame","setWebWorker","flag","getWebWorker","setLocationHref","getLocationHref","createTag","type","document","createElement","extendPrototype","sources","destination","sourcePrototype","len","attr","getDescriptor","object","prop","createProxyFunction","ProxyFunction","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","setRate","rateValue","createAudio","assetPath","window","Howl","src","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","createTypedArray","createRegularArray","arr","Uint8ClampedArray","Float32Array","Int16Array","createSizedArray","_typeof$6","obj","subframeEnabled","expressionsPlugin","expressionsInterfaces","idPrefix$1","isSafari","test","userAgent","_shouldRoundValues","bmPow","Math","pow","bmSqrt","sqrt","bmFloor","floor","bmMax","max","bmMin","min","BMMath","ProjectInterface$1","propertyNames","random","abs","val","absArr","defaultCurveSegments","degToRads","PI","roundCorner","roundValues","bmRnd","round","styleDiv","element","style","position","top","left","display","transformOrigin","webkitTransformOrigin","backfaceVisibility","webkitBackfaceVisibility","transformStyle","webkitTransformStyle","mozTransformStyle","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","BMAnimationConfigErrorEvent","createElementID","_count","HSVtoRGB","h","RGBtoHSV","addSaturationToRGB","color","offset","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","toString","setSubframeEnabled","getSubframeEnabled","setExpressionsPlugin","getExpressionsPlugin","setExpressionInterfaces","getExpressionInterfaces","setDefaultCurveSegments","getDefaultCurveSegments","setIdPrefix","getIdPrefix","createNS","createElementNS","_typeof$5","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","path","data","_workerSelf","setupWorker","fn","Worker","Blob","blob","url","URL","createObjectURL","createWorker","completeLayers","layers","comps","layerData","jLen","kLen","completed","hasMask","maskProps","masksProperties","pt","convertPathsToAbsoluteValues","ty","findCompLayers","refId","completeShapes","shapes","completeText","id","comp","findComp","__used","JSON","parse","stringify","ks","it","checkVersion","minimum","animVersionString","animVersion","split","minimumVersion","checkText","iterateLayers","textLayer","documentData","animationData","assets","checkChars","chars","charData","ip","st","sr","sk","sa","checkPathProperties","pathData","checkColors","iterateShapes","checkShapes","completeClosingShapes","closed","cl","moduleOb","completeData","__complete","completeChars","dataFunctionManager","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseType","response","responseText","load","fullPath","callback","errorCallback","XMLHttpRequest","err","onreadystatechange","readyState","status","open","join","send","payload","animation","event","process","onComplete","onError","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","ImagePreloader","proxyImage","canvas","width","height","ctx","getContext","fillStyle","fillRect","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","u","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","bind","createFootageData","ob","footageData","_footageLoaded","ImagePreloaderFactory","images","loadAssets","cb","_createImageData","setAssetsPath","setPath","loadedImages","loadedFootages","destroy","getAsset","createImgData","crossOrigin","addEventListener","createImageData","setAttributeNS","_elementHelper","append","appendChild","setCacheType","elementHelper","BaseEvent","triggerEvent","eventName","args","_cbs","callbacks","removeEventListener","splice","markerParser","parsePayloadLines","line","lines","keys","keysCount","trim","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","name","ProjectInterface","registerComposition","compositions","_thisProjectFunction","nm","prepareFrame","xt","currentFrame","compInterface","renderers","registerRenderer","getRenderer","getRegisteredRenderer","_typeof$4","AnimationItem","isLoaded","currentRawFrame","frameRate","frameMult","playSpeed","playDirection","playCount","isPaused","autoplay","loop","renderer","animationID","timeCompleted","segmentPos","isSubframeEnabled","segments","_idle","_completedLoop","projectInterface","imagePreloader","audioController","configAnimation","onSetupError","onSegmentComplete","drawnFrameEvent","setParams","params","wrapper","container","animType","RendererClass","rendererSettings","globalData","defs","setProjectInterface","parseInt","autoloadSegments","initialSegment","setupAnimation","lastIndexOf","substr","fileName","trigger","setData","wrapperAttributes","attributes","getNamedItem","prerender","includeLayers","newLayers","fonts","fontManager","addChars","addFonts","initExpressions","loadNextSegment","segment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","animData","fr","searchExtraCompositions","updaFrameModifier","waitForFontsLoaded","triggerConfigError","setTimeout","rendererType","initItems","gotoFrame","resize","_width","_height","updateContainerSize","setSubframe","renderFrame","resetFrame","triggerRenderFrameError","togglePause","stop","setCurrentRawFrameValue","getMarkerData","markerName","marker","goToAndStop","isFrame","numValue","Number","isNaN","frameModifier","goToAndPlay","playSegments","advanceTime","nextValue","_isComplete","checkSegments","adjustSegment","setSpeed","setDirection","setSegment","init","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","setLoop","isLooping","getPath","getAssetData","hide","show","getDuration","updateDocumentData","index","getElementByPath","animationManager","registeredAnimations","initTime","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","subtractPlayingCount","registerAnimation","elem","addPlayingCount","activate","nowTime","elapsedTime","requestAnimationFrame","first","searchAnimations","standalone","animElements","getElementsByClassName","lenAnims","setAttribute","getElementsByTagName","innerText","div","freeze","unfreeze","getRegisteredAnimations","animations","BezierFactory","getBezierEasing","str","replace","beziers","bezEasing","BezierEasing","float32ArraySupported","A","aA1","aA2","B","C","calcBezier","aT","getSlope","points","_p","_mSampleValues","_precomputed","x","mX1","mY1","mX2","mY2","_precompute","_getTForX","_calcSampleValues","aX","mSampleValues","intervalStart","currentSample","kSplineTableSize","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","binarySubdivide","pooling","double","poolFactory","initialLength","_create","_release","_length","_maxLength","pool","newElement","release","bezierLengthPool","addedLength","percents","lengths","segmentsLengthPool","totalLength","bezFunction","math","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","getBezierLength","pt1","pt2","pt3","pt4","ptCoord","perc","ptDistance","curveSegments","point","lastPoint","lengthData","BezierData","segmentLength","PointData","partial","partialLength","storedData","buildBezierData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","bezierSegmentPoints","getSegmentsLength","shapeData","segmentsLength","pathV","pathO","pathI","getNewSegment","startPerc","endPerc","t0","t1","u0","u1","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","getPointInSegment","percent","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","bez","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","lastIndex","keyframes","keyframesMetadata","endValue","nextKeyTime","keyTime","ti","ind","__fnct","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quaternionToEuler","slerp","createQuaternion","omega","cosom","sinom","scale0","scale1","out","ax","ay","az","aw","bx","by","bz","bw","acos","sin","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","values","c1","cos","c2","c3","s1","s2","s3","getValueAtCurrentTime","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","_mdf","processEffectsSequence","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","addDynamicProperty","ValueProperty","vel","getValue","MultiDimensionalProperty","KeyframedValueProperty","KeyframedMultidimensionalProperty","arrLen","PropertyFactory","getProp","sid","slotManager","DynamicPropertyContainer","dynamicProperties","_isAnimated","iterateDynamicProperties","initDynamicPropertyContainer","pointPool","ShapePath","setPathData","setLength","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","cnt","shapePool","shapePath","clone","shape","cloned","ShapeCollection","addShape","releaseShapes","shapeCollectionPool","newShapeCollection","shapeCollection","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","paths","localShapeCollection","shape1","shape2","shapesEqual","ShapeProperty","reset","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","p0","p1","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","sy","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","or","os","rad","roundness","perimSegment","numPts","angle","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","v1","getShapeProp","getConstructorFunction","getKeyframedConstructorFunction","Matrix","_cos","_sin","_tan","tan","_rnd","props","rotate","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","skew","skewFromAxis","scale","sz","setTransform","translate","tx","tz","transform","a2","b2","d2","e2","f2","g2","h2","i2","j2","l2","m2","n2","o2","p2","_identityCalculated","a1","b1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","multiply","matrix","matrixProps","isIdentity","_identity","equals","matr","cloneFromProps","applyToPoint","z","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","_typeof$3","lottie","setLocation","href","setSubframeRendering","setPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","setIDPrefix","__getFactory","version","scripts","myScript","bodymovin","ShapeModifiers","modifiers","registerModifier","getModifier","ShapeModifier","TrimModifier","PuckerAndBloatModifier","initModifierProperties","addShapeToModifier","setAsAnimated","processKeys","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","addPaths","newPaths","addSegment","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","amount","processPath","centerPoint","pathLength","clonedPath","TransformPropertyFactory","defaultVector","TransformProperty","pre","appliedTransformations","px","py","pz","rx","ry","rz","_isDirty","applyToMatrix","mat","forceRender","precalculateMatrix","autoOriented","v2","getValueAtTime","autoOrient","_addDynamicProperty","getTransformProperty","RepeaterModifier","RoundCornersModifier","floatEqual","floatZero","lerp","lerpPoint","quadRoots","singleRoot","delta","polynomialCoefficients","p3","singlePoint","PolynomialBezier","linearize","pointEqual","coeffx","coeffy","extrema","intersectData","t2","box","boundingBox","cx","cy","splitData","boxIntersect","intersectsImpl","depth","tolerance","intersections","maxRecursion","d1s","d2s","crossProduct","lineIntersection","start1","end1","start2","end2","v3","v4","polarOffset","pointDistance","hypot","ZigZagModifier","setPoint","outputBezier","amplitude","outAmplitude","inAmplitude","angO","angI","getPerpendicularVector","vector","rot","getProjectingAngle","cur","prevIndex","nextIndex","pVector","zigZagCorner","frequency","pointType","prevPoint","nextPoint","prevDist","nextDist","zigZagSegment","dist","normalAngle","linearOffset","offsetSegment","p1a","p1b","p2b","p2a","joinLines","seg1","seg2","lineJoin","miterLimit","angleOut","tangentAngle","angleIn","center","radius","intersection","getIntersection","intersect","pruneSegmentIntersection","outa","outb","pruneIntersections","offsetSegmentSplit","right","mid","flex","inflectionPoints","OffsetPathModifier","getFontProperties","fontData","styles","fStyle","fWeight","toLowerCase","weight","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","ceil","group","ix","reloadShapes","elems","transformData","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","rd","currentV","currentI","currentO","closerV","distance","newPosPerc","derivative","denom","tcusp","square","root","filter","p10","p11","p20","p21","bounds","bottom","other","shapeSegmentInverted","pointsType","count","ml","lj","inputBezier","multiSegments","lastSeg","multiSegment","FontManager","emptyChar","w","size","combinedCharacters","surrogateModifiers","setUpNode","font","family","parentNode","fontFamily","node","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","familyArray","enabledFamilies","trimFontOptions","parent","createHelper","def","helper","engine","fontProps","tHelper","fFamily","textContent","fClass","tCanvasHelper","OffscreenCanvas","measureText","text","getComputedTextLength","getCodePoint","string","codePoint","charCodeAt","second","isRegionalCode","Font","typekitLoaded","_warned","Date","now","setIsLoadedBinded","setIsLoaded","checkLoadedFontsBinded","checkLoadedFonts","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","charCode","isFlagEmoji","isCombinedCharacter","_char3","isRegionalFlag","isVariationSelector","BLACK_FLAG_CODE_POINT","found","ch","list","forEach","cache","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","loaded","monoCase","sansCase","fPath","fOrigin","querySelectorAll","rel","sc","getCharData","_char","console","warn","getFontByName","fName","_char2","fontName","doubleSize","singleSize","loadedCount","removeChild","SlotManager","slotFactory","RenderableElement","slots","initRenderable","isInRange","hidden","isTransparent","renderableComponents","addRenderableComponent","component","removeRenderableComponent","prepareRenderableFrame","num","checkLayerLimits","checkTransparency","finalTransform","mProp","renderConfig","hideOnTransparent","renderRenderable","sourceRectAtTime","getLayerSize","textData","getBlendMode","blendModeEnums","0","1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","mode","SliderEffect","AngleEffect","ColorEffect","PointEffect","LayerIndexEffect","MaskIndexEffect","CheckboxEffect","NoValueEffect","EffectsManager","effects","ef","effectElements","effectItem","GroupEffect","BaseElement","FrameElement","FootageElement","imageLoader","initBaseData","AudioElement","_isPlaying","_canPlay","_currentTime","_volumeMultiplier","_previousVolume","_placeholder","lv","au","BaseRenderer","eff","checkMasks","LayerExpressionInterface","EffectsExpressionInterface","ShapeExpressionInterface","TextExpressionInterface","CompExpressionInterface","layerInterface","maskManager","registerMaskInterface","effectsInterface","createEffectsInterface","registerEffectsInterface","shapeInterface","shapesData","itemsData","content","textInterface","setBlendMode","blendModeValue","bm","baseElement","layerElement","layerId","effectsManager","getType","prepareProperties","isVisible","_isParent","getBaseElement","FootageInterface","getFootageData","timeRemapped","totalVolume","volumeValue","checkLayers","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","buildAllItems","pInterface","progressiveLoad","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","pendingElements","getElementById","pathValue","setupGlobalData","fontsContainer","animationItem","compSize","effectTypes","TRANSFORM_EFFECT","TransformElement","MaskElement","maskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","maskType","maskRef","lastPath","filterID","expan","lastOperator","filterId","lastRadius","mask","createLayerSolidPath","invRect","drawPath","maskedElement","initTransform","_matMdf","_localMatMdf","_opMdf","localMat","localOpacity","ao","renderTransform","finalMat","renderLocalTransform","localTransforms","lmat","localOp","opacity","searchEffectTransforms","renderableEffectsManager","transformEffects","getEffects","globalToLocal","transforms","ptNew","mHelper","getMaskProperty","isFirstFrame","getMaskelement","pathNodes","pathString","pathShapeValue","filtersFactory","createFilter","filId","skipCoordinates","fil","createAlphaToLuminanceFilter","feColorMatrix","featureSupport","svgLumaHidden","offscreenCanvas","registeredEffects$1","idPrefix","SVGEffects","filterManager","source","filters","Effect","effect","countsAsEffect","registerEffect$1","SVGBaseElement","HierarchyElement","RenderableDOMElement","IImageElement","initElement","sourceRect","ProcessedElement","IShapeElement","initRendererElement","createContainerElements","matteElement","transformedElement","_sizeChanged","layerElementParent","td","matteMasks","gg","tt","ln","hd","cp","clipId","cpGroup","renderElement","destroyBaseElement","createRenderableComponents","getMatte","matteType","useElement","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","setMatte","initHierarchy","checkParenting","createContent","renderInnerContent","innerElem","pr","imagePreserveAspectRatio","addShapeToModifiers","shapeModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","processedElements","addProcessedElement","lineCapEnum","lineJoinEnum","SVGShapeData","transformers","level","caches","lStr","lvl","SVGStyleData","pElem","msElem","DashProperty","dataProps","dashStr","dashArray","dashoffset","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGNoStyleData","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","SVGTransformData","comparePoints","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","gf","cst","opacityId","maskId","opFill","lc","of","ms","ost","buildShapeString","_o","_i","shapeString","SVGElementsRenderer","_identityMatrix","_matrixHelper","renderContentTransform","styleData","itemData","renderNoop","renderPath","pathStringTransformed","redraw","iterations","lLen","renderFill","styleElem","renderGradientStroke","renderGradient","renderStroke","hasOpacity","attr1","attr2","cValues","oValues","ang","createRenderFunction","SVGShapeElement","stylesList","animatedContents","LetterProps","sw","fc","TextProperty","_frameId","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","update","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charactersArray","shouldCombine","shouldCombineNext","currentChars","charAt","newLineFlag","letters","anchorGrouping","currentSize","currentPos","currentLine","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","an","add","anIndexes","animatorJustifyOffset","extra","animatorData","letterData","based","animators","indexes","fh","fs","fb","rn","totalChars","newInd","currentInd","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorProp","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","ne","sm","getMult","textProperty","easer","tot","smoothness","threshold","newCharsFlag","divisor","getTextSelectorProp","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","TextAnimatorProperty","renderType","_hasMaskedPath","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","ITextElement","searchProperties","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","tanAngle","matrixHelper","renderedLettersCount","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","letterM","letterP","defaultPropsArray","animatorFirstCharOffset","justifyOffsetMult","isNewLine","animatorOffset","atan","textAnimator","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","validateText","buildNewText","emptyShapeData","SVGTextLottieElement","textSpans","ISolidElement","NullElement","SVGRendererBase","ICompElement","SVGCompElement","supports3d","SVGRenderer","config","svgElement","ariaLabel","title","titleElement","titleId","description","descElement","descId","preserveAspectRatio","contentVisibility","viewBoxOnly","viewBoxSize","className","focusable","filterSize","runExpressions","destroyed","ShapeTransformManager","sequences","sequenceList","transform_key_count","singleShape","textContainer","buildTextContents","textArray","textContents","currentTextContent","fromCharCode","buildShapeData","shapeItem","tSpan","usesGlyphs","cachedSpansLength","span","childSpan","glyph","glyphElement","_debug","tElement","justify","textBox","bbox","renderedLetter","textSpan","findIndexByInd","appendElementInPos","elementIndex","tp","matteMask","nextElement","insertBefore","setElements","getElements","destroyElements","addTransformSequence","sequence","processSequence","processSequences","getNewKey","lumaLoader","lumaBuffer","lumaBufferCtx","svg","loadLuma","_svg","createCanvas","loadLumaCanvas","getLumaCanvas","registeredEffects","CVEffects","registerEffect","CVMaskElement","hasMasks","CVBaseElement","canvasContext","beginPath","moveTo","lineTo","bezierCurveTo","save","clip","operationsMap","CVShapeData","transformsManager","styledShapes","styledShape","trNodes","CVShapeElement","CVTextElement","stroke","fill","currentRender","sWidth","fValue","CVImageElement","CVSolidElement","CanvasRendererBase","CanvasContext","strokeStyle","lineCap","CVContextData","stack","cArrPos","cTr","nativeContext","transformMat","currentOpacity","currentFillStyle","appliedFillStyle","currentStrokeStyle","appliedStrokeStyle","currentLineWidth","appliedLineWidth","currentLineCap","appliedLineCap","currentLineJoin","appliedLineJoin","appliedMiterLimit","currentMiterLimit","CVCompElement","CanvasRenderer","clearCanvas","context","dpr","devicePixelRatio","currentGlobalAlpha","contextData","ctxTransform","ctxOpacity","ctxFillStyle","ctxStrokeStyle","ctxLineWidth","ctxLineCap","ctxLineJoin","ctxMiterLimit","ctxFill","ctxFillRect","ctxStroke","HBaseElement","HSolidElement","HShapeElement","shapesContainer","currentBBox","HTextElement","textPaths","isMasked","HCameraElement","pe","_prevMat","HImageElement","HybridRendererBase","threeDElements","camera","HCompElement","HybridRenderer","createElements","buffers","bufferCanvas","bufferCanvas2","_isProxy","transformCanvas","blendMode","globalCompositeOperation","hideElement","showElement","clearRect","prepareLayer","bufferCtx","drawImage","getTransform","exitLayer","buffer","forceRealStack","restore","transformHelper","dashResetter","preTransforms","co","wi","da","addTransformToStyleList","removeTransformFromStyleList","closeStyles","shouldRender","ownTransforms","_shouldRender","renderShapeTransform","parentTransform","groupTransform","drawLayer","nodes","currentStyle","coOp","grd","setLineDash","lineDashOffset","closePath","isMain","renderGradientFill","renderStyledShape","shapeNodes","groupTransformMat","createLinearGradient","createRadialGradient","addColorStop","hasFill","hasStroke","commands","pathArr","commandsCounter","lastFill","lastStroke","lastStrokeW","widthCrop","heightCrop","imgW","imgH","imgRel","canvasRel","par","globalAlpha","rule","actionFlag","containerStyle","mozTransformOrigin","setContext","isDashed","elementWidth","elementHeight","elementRel","animationRel","offsetHeight","fillType","duplicate","newLength","forceRestore","currentContext","prevStack","saveOnNativeFlag","currentStack","newStack","setOpacity","trProps","checkBlendMode","tg","transformedElementStyle","matrixValue","webkitTransform","addEffects","backgroundColor","_renderShapeFrame","shapeCont","getTransformedPoint","calculateShapeBoundingBox","item","vPoint","oPoint","nextIPoint","nextVPoint","checkBounds","getBoundsOfCurve","shapeBoundingBox","xMax","yMax","tempBoundingBox","b2ac","calculateF","calculateBoundingBox","expandStrokeBoundingBox","widthProperty","kfw","currentBoxContains","changed","shapeStyle","shapeTransform","compW","compH","innerElemStyle","textColor","strokeWidth","lineHeight","tParent","tCont","children","tContStyle","tContTranslation","tStyle","tSpanTranslation","svgStyle","translation","textPath","margin","svgTransform","setup","perspectiveStyle","perspectiveElem","perspective","webkitPerspective","mTransf","diffVector","mag","lookDir","lookLengthOnXZ","mRotationX","mRotationY","hasMatrixChanged","matValue","Image","imageElem","newDOMElement","ddd","addTo3dContainer","nextDOMElement","nextLayer","getThreeDContainerByPos","startPos","endPos","createThreeDContainer","threeDContainerData","build3dContainers","lastThreeDContainerData","currentContainer","resizerElem","overflow","cWidth","cHeight","floatingContainer","_createBaseContainerElements","_thisLayerFunction","pixelAspect","frameDuration","displayStartTime","numLayers","_typeof$2","seedRandom","startdenom","significance","ARC4","keylen","me","S","copy","mixkey","seed","smear","stringseed","tostring","options","shortseed","flatten","typ","entropy","nodecrypto","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","screen","autoseed","arc4","prng","int32","quick","pass","is_math_call","initialize$2","propTypes","SHAPE","_typeof$1","ExpressionManager","fetch","frames","_lottieGlobal","$bm_isInstanceOfArray","isNumerable","tOfV","$bm_neg","tOfA","lenA","retArr","easeInBez","easeOutBez","easeInOutBez","tOfB","lenB","sub","mul","$bm_sum","$bm_sub","$bm_mul","$bm_div","$bm_mod","clamp","mm","radiansToDegrees","radians_to_degrees","degreesToRadians","degrees_to_radians","helperLengthArray","arr1","arr2","normalize","vec","rgbToHsl","hue2rgb","hslToRgb","linear","tMin","tMax","value1","value2","_tMin","rnd","createPath","inTangents","outTangents","inVertexPoint","outVertexPoint","arrPlaceholder","initiateExpression","property","noOp","_value","needsVelocity","_needsRandom","elemType","$bm_transform","thisProperty","valueAtTime","inPoint","outPoint","loopIn","loop_in","loopOut","loop_out","smooth","toWorld","fromWorld","fromComp","toComp","fromCompToSurface","rotation","anchorPoint","thisLayer","thisComp","velocityAtTime","scoped_bm_rt","expression_function","eval","numKeys","active","wiggle","freq","amp","iWiggle","lenWiggle","addedAmps","periods","loopInDuration","loopOutDuration","getVelocityAtTime","velocity","textIndex","textTotal","selectorValue","lookAt","elem1","elem2","fVec","pitch","easeOut","val1","val2","applyEase","easeIn","ease","iKey","lenKey","nearestKey","obKey","framesToTime","fps","timeToFrames","seedrandom","randSeed","substring","posterizeTime","framesPerSecond","hasParent","executeExpression","frameExpressionId","__preventDeadCodeRemoval","Expressions","stackCount","registers","pushExpression","popExpression","releaseInstances","registerExpressionProperty","expression","MaskManagerInterface","MaskInterface","_mask","_data","_masksInterfaces","ExpressionPropertyInterface","defaultUnidimensionalValue","defaultMultidimensionalValue","completeProperty","expressionValue","valueProp","speedAtTime","getSpeedAtTime","propertyGroup","defaultGetter","UnidimensionalPropertyInterface","arrValue","MultidimensionalPropertyInterface","TransformExpressionInterface","_thisFunction","xRotation","yRotation","xPosition","yPosition","zPosition","_px","_py","_pz","_transformFactory","getMatrix","toWorldMat","toWorldVec","applyPoint","fromWorldVec","invertPoint","sampleImage","transformInterface","anchorPointDescriptor","defineProperties","anchor_point","startTime","_name","propertyGroupFactory","interfaceFunction","parentPropertyGroup","PropertyInterface","propertyName","createGroupInterface","groupInterface","mn","_propertyGroup","createValueInterface","numProperties","np","enabled","en","expressionProperty","setGroupProperty","effectsData","ShapePathInterface","view","propertyIndex","iterateElements","groupInterfaceFactory","fillInterfaceFactory","strokeInterfaceFactory","trimInterfaceFactory","ellipseInterfaceFactory","starInterfaceFactory","rectInterfaceFactory","roundedInterfaceFactory","repeaterInterfaceFactory","gradientFillInterfaceFactory","defaultInterfaceFactory","interfaces","transformInterfaceFactory","cix","contentsInterfaceFactory","startPoint","endPoint","_dashPropertyGroup","dashOb","addPropertyToDashOb","dash","start","skewAxis","outerRadius","outerRoundness","innerRoundness","innerRadius","_interfaceFunction","_sourceText","sourceText","stringValue","fillColor","_typeof","dataInterfaceFactory","outlineInterface","currentPropertyName","currentProperty","propertyNameIndex","outlineInterfaceFactory","dataInterface","footage","getInterface","expressionHelpers","searchExpressions","speed","_cachingAtTime","getStaticValueAtTime","addPropertyDecorator","durationFlag","cycleDuration","firstKeyFrame","ret","lastKeyFrame","initV","endV","current","repeats","lastValue","nextLastValue","firstValue","nextFirstValue","samples","sampleValue","sampleFrequency","getTransformValueAtTime","_transformCachingAtTime","anchor","rotationZ","rotationY","rotationX","orientation","positionX","positionY","positionZ","getTransformStaticValueAtTime","propertyGetProp","ShapePropertyConstructorFunction","KeyframedShapePropertyConstructorFunction","ShapeExpressions","isClosed","pointOnPath","_segmentsLength","accumulatedLength","initIndex","endIndex","vectorOnPath","vectorType","xLength","yLength","magnitude","tangentOnPath","normalOnPath","shapeValue","lastTime","propertyGetShapeProp","trims","initialize$1","addDecorator","getExpressionValue","calculateExpression","isKeyframed","hasExpressions","initialize","SVGComposableEffect","createMergeNode","resultId","ins","feMergeNode","feMerge","linearFilterValue","SVGTintFilter","linearFilter","matrixFilter","SVGFillFilter","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","globalFilterSize","feGaussianBlur","feOffset","feFlood","feComposite","colorBlack","colorWhite","groupPath","elemChildren","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","SVGGaussianBlurEffect","TransformEffect","SVGTransformEffect","CVTransformEffect","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","sigma","dimensions","sigmaX","sigmaY","edgeMode","forceFrame","isUniformScale","scaleHeight","scaleWidth","REACT_LOTTIE_PLAYER_VERSION","LOTTIE_WEB_VERSION","PlayerState","PlayerEvent","parseSrc","defaultOptions","Player","_super","_this","unmounted","handleBgChange","childData","setState","background","triggerDownload","dataUri","filename","download","click","snapshot","lottieElement","querySelector","serializedSvg","XMLSerializer","serializeToString","encodeURIComponent","toDataURL","containerRef","React","createRef","debug","instance","playerState","Loading","seeker","getDerivedStateFromProps","nextProps","prevState","getVersions","lottieWebVersion","lottiePlayerVersion","componentDidMount","createLottie","_a","componentWillUnmount","componentDidUpdate","prevProps","onBackgroundChange","_b","aria-label","role","ref","el","outline","Children","map","child","isValidElement","cloneElement","setBackground","setSeeker","toggleDebug","colorChangedEvent","lottieRef","hover","catch","json","newInstance_1","InstanceSaved","Frame","Load","Ready","Loop","Complete","Paused","keepLastFrame","Playing","setPlayerSpeed","setPlayerDirection","Play","Pause","Stop","Stopped","onEvent","defaultProps","Component","styleInject","css","insertAt","head","firstChild","styleSheet","cssText","createTextNode","ColorPicker","red","green","blue","rgba","colorComponents","handleChange","rgb","parseColor","input","_colorComponents","startsWith","match","_prevProps","onChange","Popover","icon","useState","_triggerRef","setTriggerRef","_contentRef","setContentRef","_c","_alignment","setAlignment","_d","_open","setOpen","useEffect","triggerBounds","getBoundingClientRect","contentBounds","innerWidth","onMouseOver","onMouseLeave","triggerRef","contentRef","zIndex","visibility","Seeker","inputRef","frame","progress","seekerStyle","backgroundImage","minLabelStyle","marginTop","border","darkTheme","padding","textAlign","borderRadius","maxLabelStyle","flexDirection","alignItems","marginRight","marginLeft","onInput","showLabels","justifyContent","ControlButtonStyle","cursor","Controls","activeFrame","mouseDown","visible","buttons","showPlayButton","includes","showStopButton","showRepeatButton","showFrameInput","showBackgroundChange","showSnapshot","ICON_SIZE","viewBox","transparentTheme","paddingLeft","paddingRight","tabIndex","onClick","onKeyDown","newFrame","onChangeEnd","readOnly","slot","clipRule","fillRule","onWheel","deltaY"],"mappings":"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"}